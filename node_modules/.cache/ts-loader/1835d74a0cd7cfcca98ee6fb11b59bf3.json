{"remainingRequest":"/home/mobiotics/Projects/hancom/FormcontrolLatest/node_modules/babel-loader/lib/index.js!/home/mobiotics/Projects/hancom/FormcontrolLatest/node_modules/ts-loader/index.js??ref--14-2!/home/mobiotics/Projects/hancom/FormcontrolLatest/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/mobiotics/Projects/hancom/FormcontrolLatest/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/mobiotics/Projects/hancom/FormcontrolLatest/src/FormDesigner/components/organisms/FDTable/index.vue?vue&type=script&lang=ts&","dependencies":[{"path":"/home/mobiotics/Projects/hancom/FormcontrolLatest/src/FormDesigner/components/organisms/FDTable/index.vue","mtime":1612267118000},{"path":"/home/mobiotics/Projects/hancom/FormcontrolLatest/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/mobiotics/Projects/hancom/FormcontrolLatest/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/mobiotics/Projects/hancom/FormcontrolLatest/node_modules/ts-loader/index.js","mtime":499162500000},{"path":"/home/mobiotics/Projects/hancom/FormcontrolLatest/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/mobiotics/Projects/hancom/FormcontrolLatest/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IHsgX19kZWNvcmF0ZSB9IGZyb20gInRzbGliIjsKaW1wb3J0IHsgQ29tcG9uZW50LCBQcm9wLCBWdWUgfSBmcm9tICd2dWUtcHJvcGVydHktZGVjb3JhdG9yJzsKaW1wb3J0IHsgU3RhdGUsIEFjdGlvbiB9IGZyb20gJ3Z1ZXgtY2xhc3MnOwppbXBvcnQgRkRUYWJsZUl0ZW1zIGZyb20gJy4uLy4uL21vbGVjdWxlcy9GRFRhYmxlSXRlbXMvaW5kZXgudnVlJzsKaW1wb3J0IHsgRXZlbnRCdXMgfSBmcm9tICdAL0Zvcm1EZXNpZ25lci9ldmVudC1idXMnOwppbXBvcnQgeyBjaGVja1Byb3BlcnR5VmFsdWUgfSBmcm9tICdAL3N0b3JlTW9kdWxlcy9mZC9jaGVja1ZhbGlkYXRpb24nOwpsZXQgRkRUYWJsZSA9IGNsYXNzIEZEVGFibGUgZXh0ZW5kcyBWdWUgewogIGVtaXRVcGRhdGVQcm9wZXJ0eShwcm9wZXJ0eU5hbWUsIHZhbHVlKSB7CiAgICB0aGlzLnVwZGF0ZVByb3BlcnR5KHsKICAgICAgcHJvcGVydHlOYW1lOiBwcm9wZXJ0eU5hbWUsCiAgICAgIHZhbHVlOiB2YWx1ZQogICAgfSk7CiAgfQoKICBlbWl0VXBkYXRlRXh0cmFQcm9wZXJ0eShwcm9wZXJ0eU5hbWUsIHZhbHVlKSB7CiAgICB0aGlzLnVwZGF0ZVByb3BlcnR5KHsKICAgICAgcHJvcGVydHlOYW1lOiBwcm9wZXJ0eU5hbWUsCiAgICAgIHZhbHVlOiB2YWx1ZQogICAgfSk7CiAgfQoKICB1cGRhdGVQYWdlSW5kZXgocHJvcFZhbHVlKSB7CiAgICBjb25zdCB1c2VyRGF0YSA9IHRoaXMudXNlcmZvcm1EYXRhW3RoaXMudXNlckZvcm1JZF07CiAgICBjb25zdCBzZWxlY3RlZCA9IHRoaXMuc2VsZWN0ZWRDb250cm9sc1t0aGlzLnVzZXJGb3JtSWRdLnNlbGVjdGVkWzBdOwogICAgY29uc3Qgc3dhcFRhYkluZGV4ID0gdXNlckRhdGFbc2VsZWN0ZWRdLnByb3BlcnRpZXMuSW5kZXg7CiAgICBjb25zdCBjb250YWluZXIgPSB0aGlzLnNlbGVjdGVkQ29udHJvbHNbdGhpcy51c2VyRm9ybUlkXS5jb250YWluZXJbMF07CgogICAgaWYgKHByb3BWYWx1ZSA8IHVzZXJEYXRhW2NvbnRhaW5lcl0uY29udHJvbHMubGVuZ3RoKSB7CiAgICAgIGNvbnN0IGluZGV4ID0gdXNlckRhdGFbY29udGFpbmVyXS5jb250cm9scy5maW5kSW5kZXgodmFsID0+IHVzZXJEYXRhW3ZhbF0ucHJvcGVydGllcy5JbmRleCA9PT0gcHJvcFZhbHVlKTsKICAgICAgdGhpcy51cGRhdGVQcm9wVmFsdWUodXNlckRhdGFbY29udGFpbmVyXS5jb250cm9sc1tpbmRleF0sICdJbmRleCcsIHN3YXBUYWJJbmRleCk7CiAgICAgIHRoaXMudXBkYXRlUHJvcFZhbHVlKHNlbGVjdGVkLCAnSW5kZXgnLCBwcm9wVmFsdWUpOwogICAgICBjb25zdCBjb250cm9scyA9IHVzZXJEYXRhW2NvbnRhaW5lcl0uY29udHJvbHM7CiAgICAgIGNvbnRyb2xzLnNvcnQoKGEsIGIpID0+IHsKICAgICAgICByZXR1cm4gdXNlckRhdGFbYV0ucHJvcGVydGllcy5JbmRleCAtIHVzZXJEYXRhW2JdLnByb3BlcnRpZXMuSW5kZXg7CiAgICAgIH0pOwogICAgICB0aGlzLnNldENoaWxkQ29udHJvbHMoewogICAgICAgIHVzZXJGb3JtSWQ6IHRoaXMudXNlckZvcm1JZCwKICAgICAgICBjb250YWluZXJJZDogY29udGFpbmVyLAogICAgICAgIHRhcmdldENvbnRyb2xzOiBjb250cm9scwogICAgICB9KTsKICAgICAgcmV0dXJuIHRydWU7CiAgICB9IGVsc2UgewogICAgICByZXR1cm4gZmFsc2U7CiAgICB9CiAgfQoKICBnZXRMb3dlc3RJbmRleCh0ZW1wQ29udHJvbHMsIGNvbnRyb2xMZW5ndGgsIHByb3BlcnR5VHlwZSkgewogICAgbGV0IGxhc3RDb250cm9sSWQgPSBjb250cm9sTGVuZ3RoOwogICAgY29uc3QgdXNlckRhdGEgPSB0aGlzLnVzZXJmb3JtRGF0YVt0aGlzLnVzZXJGb3JtSWRdOwoKICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGVtcENvbnRyb2xzLmxlbmd0aDsgaSsrKSB7CiAgICAgIGNvbnN0IHByb3BldHlOYW1lID0gcHJvcGVydHlUeXBlID8gdXNlckRhdGFbdGVtcENvbnRyb2xzW2ldXS5leHRyYURhdGFzLnpJbmRleCA6IHVzZXJEYXRhW3RlbXBDb250cm9sc1tpXV0uZXh0cmFEYXRhcy5UYWJJbmRleDsKCiAgICAgIGlmIChwcm9wZXR5TmFtZSAhPT0gLTEpIHsKICAgICAgICBjb25zdCBJZE51bSA9IHByb3BldHlOYW1lOwoKICAgICAgICBpZiAoIWlzTmFOKElkTnVtKSAmJiBsYXN0Q29udHJvbElkID4gSWROdW0pIHsKICAgICAgICAgIGxhc3RDb250cm9sSWQgPSBJZE51bTsKICAgICAgICB9CiAgICAgIH0KICAgIH0KCiAgICByZXR1cm4gbGFzdENvbnRyb2xJZDsKICB9CgogIHN3YXBUYWJJbmRleCh0ZW1wWkluZGV4KSB7CiAgICBjb25zdCB1c2VyRGF0YSA9IHRoaXMudXNlcmZvcm1EYXRhW3RoaXMudXNlckZvcm1JZF07CiAgICBjb25zdCBjb250YWluZXIgPSB0aGlzLnNlbGVjdGVkQ29udHJvbHNbdGhpcy51c2VyRm9ybUlkXS5jb250YWluZXJbMF07CiAgICBjb25zdCBzZWxlY3RlZCA9IHRoaXMuc2VsZWN0ZWRDb250cm9sc1t0aGlzLnVzZXJGb3JtSWRdLnNlbGVjdGVkWzBdOwogICAgY29uc3Qgc3dhcFRhYkluZGV4ID0gdXNlckRhdGFbc2VsZWN0ZWRdLnByb3BlcnRpZXMuVGFiSW5kZXg7CgogICAgaWYgKHRlbXBaSW5kZXggPD0gdXNlckRhdGFbY29udGFpbmVyXS5jb250cm9scy5sZW5ndGggLSAxICYmIHRlbXBaSW5kZXggPiAtMSkgewogICAgICBjb25zdCBpbmRleCA9IHVzZXJEYXRhW2NvbnRhaW5lcl0uY29udHJvbHMuZmluZEluZGV4KHZhbCA9PiB1c2VyRGF0YVt2YWxdLnByb3BlcnRpZXMuVGFiSW5kZXggPT09IHRlbXBaSW5kZXgpOwogICAgICB0aGlzLnVwZGF0ZVByb3BWYWx1ZSh1c2VyRGF0YVtjb250YWluZXJdLmNvbnRyb2xzW2luZGV4XSwgJ1RhYkluZGV4Jywgc3dhcFRhYkluZGV4KTsKICAgICAgdGhpcy51cGRhdGVQcm9wVmFsdWUoc2VsZWN0ZWQsICdUYWJJbmRleCcsIHRlbXBaSW5kZXgpOwogICAgfQogIH0KCiAgdXBkYXRlVGFiSW5kZXhWYWx1ZSh2YWwpIHsKICAgIGNvbnN0IHVzZXJEYXRhID0gdGhpcy51c2VyZm9ybURhdGFbdGhpcy51c2VyRm9ybUlkXTsKICAgIGNvbnN0IGNvbnRhaW5lciA9IHRoaXMuc2VsZWN0ZWRDb250cm9sc1t0aGlzLnVzZXJGb3JtSWRdLmNvbnRhaW5lclswXTsKICAgIGNvbnN0IHNlbGVjdGVkID0gdGhpcy5zZWxlY3RlZENvbnRyb2xzW3RoaXMudXNlckZvcm1JZF0uc2VsZWN0ZWRbMF07CiAgICBjb25zdCBjb250YWluZXJDb250cm9scyA9IHRoaXMudXNlcmZvcm1EYXRhW3RoaXMudXNlckZvcm1JZF1bY29udGFpbmVyXS5jb250cm9sczsKICAgIGNvbnN0IGNvbnRyb2xUeXBlID0gdXNlckRhdGFbc2VsZWN0ZWRdLnR5cGU7CgogICAgaWYgKGNvbnRyb2xUeXBlICE9PSAnRkRJbWFnZScpIHsKICAgICAgY29uc3QgdGVtcENvbnRyb2xzID0gW107CgogICAgICBmb3IgKGNvbnN0IGluZGV4IGluIGNvbnRhaW5lckNvbnRyb2xzKSB7CiAgICAgICAgY29uc3QgY250cmxEYXRhID0gdGhpcy51c2VyZm9ybURhdGFbdGhpcy51c2VyRm9ybUlkXVtjb250YWluZXJDb250cm9sc1tpbmRleF1dOwoKICAgICAgICBpZiAoY250cmxEYXRhLnR5cGUgPT09ICdGREltYWdlJykgewogICAgICAgICAgdGVtcENvbnRyb2xzLnB1c2goY29udGFpbmVyQ29udHJvbHNbaW5kZXhdKTsKICAgICAgICB9CiAgICAgIH0KCiAgICAgIGNvbnN0IGxhc3RDb250cm9sSWQgPSB0ZW1wQ29udHJvbHMubGVuZ3RoID4gMCA/IHRoaXMuZ2V0TG93ZXN0SW5kZXgodGVtcENvbnRyb2xzLCB1c2VyRGF0YVtjb250YWluZXJdLmNvbnRyb2xzLmxlbmd0aCAtIDEsIGZhbHNlKSA6IHRoaXMudXNlcmZvcm1EYXRhW3RoaXMudXNlckZvcm1JZF1bY29udGFpbmVyXS5jb250cm9scy5sZW5ndGggLSAxOwoKICAgICAgaWYgKHZhbCA8PSBsYXN0Q29udHJvbElkKSB7CiAgICAgICAgdGhpcy5zd2FwVGFiSW5kZXgodmFsKTsKICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgfSBlbHNlIHsKICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgIH0KICAgIH0KICB9CgogIHVwZGF0ZUV4dHJhUHJvcGVydHkoYXJnKSB7CiAgICBjb25zdCBzZWxlY3RlZCA9IHRoaXMuZ2V0U2VsZWN0ZWRDb250cm9sc0RhdGFzOwoKICAgIGZvciAobGV0IGkgPSAwOyBpIDwgc2VsZWN0ZWQubGVuZ3RoOyBpKyspIHsKICAgICAgdGhpcy51cGRhdGVDb250cm9sRXh0cmFEYXRhKHsKICAgICAgICB1c2VyRm9ybUlkOiB0aGlzLnVzZXJGb3JtSWQsCiAgICAgICAgY29udHJvbElkOiBzZWxlY3RlZFtpXSwKICAgICAgICBwcm9wZXJ0eU5hbWU6IGFyZy5wcm9wZXJ0eU5hbWUsCiAgICAgICAgdmFsdWU6IGFyZy52YWx1ZQogICAgICB9KTsKICAgIH0KICB9CgogIHVwZGF0ZVByb3BlcnR5KGFyZykgewogICAgY29uc3Qgc2VsZWN0ZWQgPSB0aGlzLmdldFNlbGVjdGVkQ29udHJvbHNEYXRhczsKCiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHNlbGVjdGVkLmxlbmd0aDsgaSsrKSB7CiAgICAgIGlmIChhcmcucHJvcGVydHlOYW1lID09PSAnVGFiSW5kZXgnKSB7CiAgICAgICAgcmV0dXJuIHRoaXMudXBkYXRlVGFiSW5kZXhWYWx1ZShwYXJzZUludChhcmcudmFsdWUpKTsKICAgICAgfSBlbHNlIGlmIChhcmcucHJvcGVydHlOYW1lID09PSAnSW5kZXgnKSB7CiAgICAgICAgcmV0dXJuIHRoaXMudXBkYXRlUGFnZUluZGV4KHBhcnNlSW50KGFyZy52YWx1ZSkpOwogICAgICB9IGVsc2UgaWYgKGFyZy5wcm9wZXJ0eU5hbWUgPT09ICdOYW1lJykgewogICAgICAgIHJldHVybiB0aGlzLnVwZGF0ZU5hbWUoc2VsZWN0ZWRbaV0sIGFyZy52YWx1ZSk7CiAgICAgIH0gZWxzZSBpZiAoYXJnLnByb3BlcnR5TmFtZSA9PT0gJ1ZhbHVlJyAmJiAodGhpcy51c2VyZm9ybURhdGFbdGhpcy51c2VyRm9ybUlkXVtzZWxlY3RlZFtpXV0udHlwZSA9PT0gJ1NwaW5CdXR0b24nIHx8IHRoaXMudXNlcmZvcm1EYXRhW3RoaXMudXNlckZvcm1JZF1bc2VsZWN0ZWRbaV1dLnR5cGUgPT09ICdTY3JvbGxCYXInKSkgewogICAgICAgIHJldHVybiB0aGlzLnVwZGF0ZVNwaW5CdXR0b25TY3JvbGxCYXJWYWx1ZVByb3Aoc2VsZWN0ZWRbaV0sIGFyZy52YWx1ZSk7CiAgICAgIH0gZWxzZSBpZiAoYXJnLnByb3BlcnR5TmFtZSA9PT0gJ1ZhbHVlJyAmJiB0aGlzLnVzZXJmb3JtRGF0YVt0aGlzLnVzZXJGb3JtSWRdW3NlbGVjdGVkW2ldXS50eXBlID09PSAnT3B0aW9uQnV0dG9uJyAmJiB0aGlzLnVzZXJmb3JtRGF0YVt0aGlzLnVzZXJGb3JtSWRdW3NlbGVjdGVkW2ldXS5wcm9wZXJ0aWVzLkdyb3VwTmFtZSAhPT0gJycgJiYgYXJnLnZhbHVlID09PSAnVHJ1ZScpIHsKICAgICAgICBjb25zdCBncm91cE5hbWUgPSB0aGlzLnVzZXJmb3JtRGF0YVt0aGlzLnVzZXJGb3JtSWRdW3NlbGVjdGVkW2ldXS5wcm9wZXJ0aWVzLkdyb3VwTmFtZTsKICAgICAgICB0aGlzLnVwZGF0ZVZhbHVlRm9yQ29tbW9uR3JvdXBOYW1lKHNlbGVjdGVkW2ldLCBhcmcudmFsdWUsIGdyb3VwTmFtZSk7CiAgICAgIH0gZWxzZSBpZiAoYXJnLnByb3BlcnR5TmFtZSA9PT0gJ01pbicgfHwgYXJnLnByb3BlcnR5TmFtZSA9PT0gJ01heCcpIHsKICAgICAgICB0aGlzLnVwZGF0ZVByb3BWYWx1ZShzZWxlY3RlZFtpXSwgYXJnLnByb3BlcnR5TmFtZSwgYXJnLnZhbHVlKTsKICAgICAgICB0aGlzLnZhbGlkYXRlVmFsdWVQcm9wZXJ0eShzZWxlY3RlZFtpXSwgYXJnLnZhbHVlKTsKICAgICAgfSBlbHNlIGlmIChhcmcucHJvcGVydHlOYW1lID09PSAnQ2FuY2VsJyB8fCBhcmcucHJvcGVydHlOYW1lID09PSAnRGVmYXVsdCcpIHsKICAgICAgICB0aGlzLnZhbGlkYXRlQ2FuY2VsRGVmYXVsdFByb3Aoc2VsZWN0ZWRbaV0sIGFyZy5wcm9wZXJ0eU5hbWUsIGFyZy52YWx1ZSk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy51cGRhdGVQcm9wVmFsdWUoc2VsZWN0ZWRbaV0sIGFyZy5wcm9wZXJ0eU5hbWUsIGFyZy52YWx1ZSk7CiAgICAgIH0KICAgIH0KICB9CgogIHVwZGF0ZVZhbHVlUHJvcGVydHkoYXJnKSB7CiAgICBjb25zdCBzZWxlY3RlZCA9IHRoaXMuZ2V0U2VsZWN0ZWRDb250cm9sc0RhdGFzOwogICAgbGV0IGlzVmFsaWQgPSB0cnVlOwoKICAgIGZvciAobGV0IGkgPSAwOyBpIDwgc2VsZWN0ZWQubGVuZ3RoOyBpKyspIHsKICAgICAgY29uc3QgdHlwZSA9IHRoaXMudXNlcmZvcm1EYXRhW3RoaXMudXNlckZvcm1JZF1bc2VsZWN0ZWRbaV1dLnR5cGU7CgogICAgICBpZiAodHlwZSA9PT0gJ0xpc3RCb3gnKSB7CiAgICAgICAgaXNWYWxpZCA9IHRoaXMudmFsaWRhdGVUZXh0VmFsdWVQcm9wZXJ0eShhcmcudmFsdWUsIGFyZy5wcm9wZXJ0eU5hbWUsIHNlbGVjdGVkW2ldKTsKICAgICAgfQogICAgfQoKICAgIGlmIChpc1ZhbGlkKSB7CiAgICAgIHRoaXMuZW1pdFVwZGF0ZVByb3BlcnR5KGFyZy5wcm9wZXJ0eU5hbWUsIGFyZy52YWx1ZSk7CiAgICB9CgogICAgcmV0dXJuIGlzVmFsaWQ7CiAgfQoKICB1cGRhdGVQcm9wVmFsdWUoaWQsIHByb3BOYW1lLCBwcm9wVmFsdWUpIHsKICAgIHRoaXMudXBkYXRlQ29udHJvbCh7CiAgICAgIHVzZXJGb3JtSWQ6IHRoaXMudXNlckZvcm1JZCwKICAgICAgY29udHJvbElkOiBpZCwKICAgICAgcHJvcGVydHlOYW1lOiBwcm9wTmFtZSwKICAgICAgdmFsdWU6IHByb3BWYWx1ZQogICAgfSk7CiAgfQoKICB1cGRhdGVWYWx1ZUZvckNvbW1vbkdyb3VwTmFtZShpZCwgdmFsdWUsIGdyb3VwTmFtZSkgewogICAgY29uc3QgdXNlckRhdGEgPSBPYmplY3Qua2V5cyh0aGlzLnVzZXJmb3JtRGF0YVt0aGlzLnVzZXJGb3JtSWRdKTsKICAgIHRoaXMudXBkYXRlUHJvcFZhbHVlKGlkLCAnVmFsdWUnLCAnVHJ1ZScpOwoKICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdXNlckRhdGEubGVuZ3RoOyBpKyspIHsKICAgICAgY29uc3QgY29udHJvbERhdGEgPSB0aGlzLnVzZXJmb3JtRGF0YVt0aGlzLnVzZXJGb3JtSWRdW3VzZXJEYXRhW2ldXTsKCiAgICAgIGlmIChjb250cm9sRGF0YS50eXBlID09PSAnT3B0aW9uQnV0dG9uJyAmJiBjb250cm9sRGF0YS5wcm9wZXJ0aWVzLkdyb3VwTmFtZSA9PT0gZ3JvdXBOYW1lICYmIGNvbnRyb2xEYXRhLnByb3BlcnRpZXMuSUQgIT09IGlkKSB7CiAgICAgICAgdGhpcy51cGRhdGVQcm9wVmFsdWUoY29udHJvbERhdGEucHJvcGVydGllcy5JRCwgJ1ZhbHVlJywgJ0ZhbHNlJyk7CiAgICAgIH0KICAgIH0KICB9CgogIHZhbGlkYXRlVmFsdWVQcm9wZXJ0eShpZCwgdmFsdWUpIHsKICAgIGxldCBhY3R1YWxWYWx1ZSA9IHRoaXMudXNlcmZvcm1EYXRhW3RoaXMudXNlckZvcm1JZF1baWRdLnByb3BlcnRpZXMuVmFsdWU7CgogICAgaWYgKCF0aGlzLmNoZWNrVmFsdWVSYW5nZU1pbk1heChpZCwgYWN0dWFsVmFsdWUpKSB7CiAgICAgIHRoaXMudXBkYXRlUHJvcFZhbHVlKGlkLCAnVmFsdWUnLCB2YWx1ZSk7CiAgICB9CiAgfQoKICB1cGRhdGVTcGluQnV0dG9uU2Nyb2xsQmFyVmFsdWVQcm9wKGlkLCB2YWx1ZSkgewogICAgaWYgKHRoaXMuY2hlY2tWYWx1ZVJhbmdlTWluTWF4KGlkLCB2YWx1ZSkpIHsKICAgICAgdGhpcy51cGRhdGVQcm9wVmFsdWUoaWQsICdWYWx1ZScsIHZhbHVlKTsKICAgICAgcmV0dXJuIHRydWU7CiAgICB9CgogICAgcmV0dXJuIGZhbHNlOwogIH0KCiAgdmFsaWRhdGVDYW5jZWxEZWZhdWx0UHJvcChpZCwgcHJvcE5hbWUsIHZhbHVlKSB7CiAgICBjb25zdCB1c2VyRm9ybUNvbnRyb2xzID0gT2JqZWN0LmtleXModGhpcy51c2VyZm9ybURhdGFbdGhpcy51c2VyRm9ybUlkXSk7CgogICAgZm9yIChsZXQgY29udHJvbElkIG9mIHVzZXJGb3JtQ29udHJvbHMpIHsKICAgICAgaWYgKHRoaXMudXNlcmZvcm1EYXRhW3RoaXMudXNlckZvcm1JZF1bY29udHJvbElkXS50eXBlID09PSAnQ29tbWFuZEJ1dHRvbicpIHsKICAgICAgICBpZiAoY29udHJvbElkID09PSBpZCkgewogICAgICAgICAgdGhpcy51cGRhdGVQcm9wVmFsdWUoaWQsIHByb3BOYW1lLCB2YWx1ZSk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHRoaXMudXBkYXRlUHJvcFZhbHVlKGNvbnRyb2xJZCwgcHJvcE5hbWUsIGZhbHNlKTsKICAgICAgICB9CiAgICAgIH0KICAgIH0KICB9CgogIGNoZWNrVmFsdWVSYW5nZU1pbk1heChpZCwgdmFsdWUpIHsKICAgIGxldCBtYXhWYWx1ZSA9IHRoaXMudXNlcmZvcm1EYXRhW3RoaXMudXNlckZvcm1JZF1baWRdLnByb3BlcnRpZXMuTWF4OwogICAgbGV0IG1pblZhbHVlID0gdGhpcy51c2VyZm9ybURhdGFbdGhpcy51c2VyRm9ybUlkXVtpZF0ucHJvcGVydGllcy5NaW47CiAgICBsZXQgbWluID0gTWF0aC5taW4obWluVmFsdWUsIG1heFZhbHVlKTsKICAgIGxldCBtYXggPSBNYXRoLm1heChtaW5WYWx1ZSwgbWF4VmFsdWUpOwoKICAgIGlmICh2YWx1ZSA+PSBtaW4gJiYgdmFsdWUgPD0gbWF4KSB7CiAgICAgIHJldHVybiB0cnVlOwogICAgfSBlbHNlIHsKICAgICAgcmV0dXJuIGZhbHNlOwogICAgfQogIH0KCiAgdXBkYXRlTmFtZShpZCwgdmFsdWUpIHsKICAgIGxldCB1c2VyRGF0YTsKICAgIGxldCBpc1VuaXF1ZTsKCiAgICBpZiAodGhpcy51c2VyZm9ybURhdGFbdGhpcy51c2VyRm9ybUlkXVtpZF0udHlwZSA9PT0gJ1VzZXJmb3JtJykgewogICAgICB1c2VyRGF0YSA9IE9iamVjdC5rZXlzKHRoaXMudXNlcmZvcm1EYXRhKTsKICAgICAgaXNVbmlxdWUgPSB1c2VyRGF0YS5maW5kSW5kZXgodmFsID0+IHRoaXMudXNlcmZvcm1EYXRhW3ZhbF1bdmFsXS5wcm9wZXJ0aWVzLk5hbWUgPT09IHZhbHVlICYmIHZhbCAhPT0gaWQpOwogICAgfSBlbHNlIHsKICAgICAgdXNlckRhdGEgPSBPYmplY3Qua2V5cyh0aGlzLnVzZXJmb3JtRGF0YVt0aGlzLnVzZXJGb3JtSWRdKTsKICAgICAgaXNVbmlxdWUgPSB1c2VyRGF0YS5maW5kSW5kZXgodmFsID0+IHRoaXMudXNlcmZvcm1EYXRhW3RoaXMudXNlckZvcm1JZF1bdmFsXS5wcm9wZXJ0aWVzLk5hbWUgPT09IHZhbHVlICYmIHZhbCAhPT0gaWQpOwogICAgfQoKICAgIGlmIChpc1VuaXF1ZSA9PT0gLTEgJiYgdmFsdWUgIT09ICcnKSB7CiAgICAgIHRoaXMudXBkYXRlUHJvcFZhbHVlKGlkLCAnTmFtZScsIHZhbHVlKTsKICAgICAgcmV0dXJuIHRydWU7CiAgICB9IGVsc2UgewogICAgICByZXR1cm4gZmFsc2U7CiAgICB9CiAgfQoKICB2YWxpZGF0ZVZhbHVlUHJvcGVydHlDaGJveE9wYnRuVGdsYnRuKHByb3BlcnR5TmFtZSwgcHJvcGVydHlWYWx1ZSkgewogICAgbGV0IHJlc3VsdFZhbHVlID0gJyc7CgogICAgaWYgKCFpc05hTihwYXJzZUludChwcm9wZXJ0eVZhbHVlKSkpIHsKICAgICAgaWYgKHBhcnNlSW50KHByb3BlcnR5VmFsdWUpID09PSAwKSB7CiAgICAgICAgdGhpcy5lbWl0VXBkYXRlUHJvcGVydHkocHJvcGVydHlOYW1lLCAnRmFsc2UnKTsKICAgICAgICByZXN1bHRWYWx1ZSA9ICdGYWxzZSc7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy5lbWl0VXBkYXRlUHJvcGVydHkocHJvcGVydHlOYW1lLCAnVHJ1ZScpOwogICAgICAgIHJlc3VsdFZhbHVlID0gJ1RydWUnOwogICAgICB9CiAgICB9IGVsc2UgaWYgKHByb3BlcnR5VmFsdWUudG9Mb3dlckNhc2UoKSA9PT0gJ3RydWUnKSB7CiAgICAgIHRoaXMuZW1pdFVwZGF0ZVByb3BlcnR5KHByb3BlcnR5TmFtZSwgJ1RydWUnKTsKICAgICAgcmVzdWx0VmFsdWUgPSAnVHJ1ZSc7CiAgICB9IGVsc2UgaWYgKHByb3BlcnR5VmFsdWUudG9Mb3dlckNhc2UoKSA9PT0gJ2ZhbHNlJykgewogICAgICB0aGlzLmVtaXRVcGRhdGVQcm9wZXJ0eShwcm9wZXJ0eU5hbWUsICdGYWxzZScpOwogICAgICByZXN1bHRWYWx1ZSA9ICdGYWxzZSc7CiAgICB9IGVsc2UgewogICAgICB0aGlzLmVtaXRVcGRhdGVQcm9wZXJ0eShwcm9wZXJ0eU5hbWUsICcnKTsKICAgICAgcmVzdWx0VmFsdWUgPSAnJzsKICAgIH0KCiAgICByZXR1cm4gcmVzdWx0VmFsdWU7CiAgfQoKICB2YWxpZGF0ZUNvbnRyb2xTb3VyY2VQcm9wZXJ0eShwcm9wZXJ0eVZhbHVlKSB7CiAgICAvLyBzaG91bGQgdmFsaWRhdGUgdGhlIHByb3BlcnR5VmFsdWUKICAgIHJldHVybiB0cnVlOwogIH0KCiAgdmFsaWRhdGVSb3dTb3VyY2VQcm9wZXJ0eShwcm9wZXJ0eVZhbHVlKSB7CiAgICAvLyBzaG91bGQgdmFsaWRhdGUgdGhlIHByb3BlcnR5VmFsdWUKICAgIHJldHVybiB0cnVlOwogIH0KCiAgdmFsaWRhdGVUZXh0VmFsdWVQcm9wZXJ0eShwcm9wZXJ0eVZhbHVlLCBwcm9wZXJ0eU5hbWUsIGNvbnRyb2xJZCkgewogICAgY29uc3QgY29udHJvbERhdGEgPSB0aGlzLnVzZXJmb3JtRGF0YVt0aGlzLnVzZXJGb3JtSWRdW2NvbnRyb2xJZF07CiAgICBjb25zdCByb3dTb3VyY2VEYXRhID0gY29udHJvbERhdGEuZXh0cmFEYXRhcy5Sb3dTb3VyY2VEYXRhOwogICAgY29uc3QgYm91bmRDb2x1bW4gPSBwcm9wZXJ0eU5hbWUgPT09ICdWYWx1ZScgPyBjb250cm9sRGF0YS5wcm9wZXJ0aWVzLkJvdW5kQ29sdW1uIDogMTsKCiAgICBpZiAoYm91bmRDb2x1bW4gPD0gMCB8fCBib3VuZENvbHVtbiA+IHJvd1NvdXJjZURhdGFbMF0ubGVuZ3RoKSB7CiAgICAgIHJldHVybiBmYWxzZTsKICAgIH0KCiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHJvd1NvdXJjZURhdGEubGVuZ3RoOyBpKyspIHsKICAgICAgaWYgKHByb3BlcnR5VmFsdWUgPT09IHJvd1NvdXJjZURhdGFbaV1bYm91bmRDb2x1bW4gLSAxXSkgewogICAgICAgIHJldHVybiB0cnVlOwogICAgICB9CiAgICB9CgogICAgcmV0dXJuIGZhbHNlOwogIH0KCiAgdmFsaWRhdGVDb2x1bW5XaWR0aHMocHJvcGVydHlOYW1lLCBwcm9wZXJ0eVZhbHVlKSB7CiAgICBpZiAocHJvcGVydHlWYWx1ZSA9PT0gJycpIHsKICAgICAgcmV0dXJuICcnOwogICAgfQoKICAgIGNvbnN0IGluaXRpYWxDb2xXaWR0aHMgPSBwcm9wZXJ0eVZhbHVlLnNwbGl0KCc7Jyk7CiAgICBsZXQgdmFsaWRQcm9wZXJ0eVZhbHVlID0gZmFsc2U7CiAgICBpbml0aWFsQ29sV2lkdGhzLmZvckVhY2goZWxlbWVudCA9PiB7CiAgICAgIGZvciAobGV0IGluZGV4ID0gMDsgaW5kZXggPCBlbGVtZW50Lmxlbmd0aDsgaW5kZXgrKykgewogICAgICAgIGlmIChlbGVtZW50LmluY2x1ZGVzKCdpbicpKSB7CiAgICAgICAgICBpZiAoZWxlbWVudC5jaGFyQ29kZUF0KGluZGV4KSA+IDQ3ICYmIGVsZW1lbnQuY2hhckNvZGVBdChpbmRleCkgPCA1OCB8fCBlbGVtZW50LmNoYXJDb2RlQXQoaW5kZXgpID09PSA3MyB8fCBlbGVtZW50LmNoYXJDb2RlQXQoaW5kZXgpID09PSAxMDUgfHwgZWxlbWVudC5jaGFyQ29kZUF0KGluZGV4KSA9PT0gMzIgfHwgZWxlbWVudC5jaGFyQ29kZUF0KGluZGV4KSA9PT0gNzggfHwgZWxlbWVudC5jaGFyQ29kZUF0KGluZGV4KSA9PT0gMTEwIHx8IGVsZW1lbnQuY2hhckNvZGVBdChpbmRleCkgPT09IDMyKSB7CiAgICAgICAgICAgIHZhbGlkUHJvcGVydHlWYWx1ZSA9IHRydWU7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICB2YWxpZFByb3BlcnR5VmFsdWUgPSBmYWxzZTsKICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICB9CiAgICAgICAgfSBlbHNlIGlmIChlbGVtZW50LmluY2x1ZGVzKCdjbScpKSB7CiAgICAgICAgICBpZiAoZWxlbWVudC5jaGFyQ29kZUF0KGluZGV4KSA+IDQ3ICYmIGVsZW1lbnQuY2hhckNvZGVBdChpbmRleCkgPCA1OCB8fCBlbGVtZW50LmNoYXJDb2RlQXQoaW5kZXgpID09PSA2NyB8fCBlbGVtZW50LmNoYXJDb2RlQXQoaW5kZXgpID09PSA5OSB8fCBlbGVtZW50LmNoYXJDb2RlQXQoaW5kZXgpID09PSAzMiB8fCBlbGVtZW50LmNoYXJDb2RlQXQoaW5kZXgpID09PSA3NyB8fCBlbGVtZW50LmNoYXJDb2RlQXQoaW5kZXgpID09PSAxMDkgfHwgZWxlbWVudC5jaGFyQ29kZUF0KGluZGV4KSA9PT0gMzIpIHsKICAgICAgICAgICAgdmFsaWRQcm9wZXJ0eVZhbHVlID0gdHJ1ZTsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIHZhbGlkUHJvcGVydHlWYWx1ZSA9IGZhbHNlOwogICAgICAgICAgICBicmVhazsKICAgICAgICAgIH0KICAgICAgICB9IGVsc2UgaWYgKGVsZW1lbnQuaW5jbHVkZXMoJ3B0JykpIHsKICAgICAgICAgIGlmIChlbGVtZW50LmNoYXJDb2RlQXQoaW5kZXgpID4gNDcgJiYgZWxlbWVudC5jaGFyQ29kZUF0KGluZGV4KSA8IDU4IHx8IGVsZW1lbnQuY2hhckNvZGVBdChpbmRleCkgPT09IDgwIHx8IGVsZW1lbnQuY2hhckNvZGVBdChpbmRleCkgPT09IDExMiB8fCBlbGVtZW50LmNoYXJDb2RlQXQoaW5kZXgpID09PSAzMiB8fCBlbGVtZW50LmNoYXJDb2RlQXQoaW5kZXgpID09PSA4NCB8fCBlbGVtZW50LmNoYXJDb2RlQXQoaW5kZXgpID09PSAxMTYgfHwgZWxlbWVudC5jaGFyQ29kZUF0KGluZGV4KSA9PT0gMzIpIHsKICAgICAgICAgICAgdmFsaWRQcm9wZXJ0eVZhbHVlID0gdHJ1ZTsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIHZhbGlkUHJvcGVydHlWYWx1ZSA9IGZhbHNlOwogICAgICAgICAgICBicmVhazsKICAgICAgICAgIH0KICAgICAgICB9IGVsc2UgewogICAgICAgICAgaWYgKGVsZW1lbnQuY2hhckNvZGVBdChpbmRleCkgPiA0NyAmJiBlbGVtZW50LmNoYXJDb2RlQXQoaW5kZXgpIDwgNTgpIHsKICAgICAgICAgICAgdmFsaWRQcm9wZXJ0eVZhbHVlID0gdHJ1ZTsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIHZhbGlkUHJvcGVydHlWYWx1ZSA9IGZhbHNlOwogICAgICAgICAgICBicmVhazsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0KICAgIH0pOwoKICAgIGlmICh2YWxpZFByb3BlcnR5VmFsdWUpIHsKICAgICAgbGV0IGEgPSBwcm9wZXJ0eVZhbHVlLnNwbGl0KCc7Jyk7CiAgICAgIGxldCBwb2ludFZhbHVlID0gW107CiAgICAgIGxldCBuZXdDb2x1bW5XaWR0aHNWYWx1ZSA9ICcnOwogICAgICBhLmZvckVhY2goZWxlbWVudCA9PiB7CiAgICAgICAgaWYgKCFpc05hTihwYXJzZUludChlbGVtZW50KSkpIHsKICAgICAgICAgIGlmIChlbGVtZW50LmluY2x1ZGVzKCdpbicpKSB7CiAgICAgICAgICAgIHBvaW50VmFsdWUucHVzaChwYXJzZUludChlbGVtZW50KSAqIDcyKTsKICAgICAgICAgIH0gZWxzZSBpZiAoZWxlbWVudC5pbmNsdWRlcygnY20nKSkgewogICAgICAgICAgICBwb2ludFZhbHVlLnB1c2gocGFyc2VJbnQoZWxlbWVudCkgKiAyOC4zNSk7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBwb2ludFZhbHVlLnB1c2gocGFyc2VJbnQoZWxlbWVudCkpOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSk7CgogICAgICBmb3IgKGxldCBpbmRleCA9IDA7IGluZGV4IDwgcG9pbnRWYWx1ZS5sZW5ndGg7IGluZGV4KyspIHsKICAgICAgICBpZiAoaW5kZXggPT09IHBvaW50VmFsdWUubGVuZ3RoIC0gMSkgewogICAgICAgICAgbmV3Q29sdW1uV2lkdGhzVmFsdWUgPSBuZXdDb2x1bW5XaWR0aHNWYWx1ZSArIHBvaW50VmFsdWVbaW5kZXhdICsgJ3B0JzsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgbmV3Q29sdW1uV2lkdGhzVmFsdWUgPSBuZXdDb2x1bW5XaWR0aHNWYWx1ZSArIHBvaW50VmFsdWVbaW5kZXhdICsgJ3B0Oyc7CiAgICAgICAgfQogICAgICB9CgogICAgICByZXR1cm4gbmV3Q29sdW1uV2lkdGhzVmFsdWU7CiAgICB9IGVsc2UgewogICAgICByZXR1cm4gJ0ludmFsaWQnOwogICAgfQogIH0KCiAgdmFsaWRhdGVMaXN0V2lkdGgocHJvcGVydHlOYW1lLCBwcm9wZXJ0eVZhbHVlKSB7CiAgICBpZiAocHJvcGVydHlWYWx1ZSA9PT0gJycpIHsKICAgICAgcmV0dXJuICdJbnZhbGlkJzsKICAgIH0KCiAgICBpZiAocHJvcGVydHlWYWx1ZVswXSA9PT0gJy0nKSB7CiAgICAgIHJldHVybiAnTmVnYXRpdmUnOwogICAgfQoKICAgIGNvbnN0IGluaXRpYWxMaXN0V2lkdGggPSBwcm9wZXJ0eVZhbHVlOwogICAgbGV0IHZhbGlkUHJvcGVydHlWYWx1ZSA9IGZhbHNlOwogICAgY29uc3QgZWxlbWVudCA9IGluaXRpYWxMaXN0V2lkdGg7CgogICAgZm9yIChsZXQgaW5kZXggPSAwOyBpbmRleCA8IGluaXRpYWxMaXN0V2lkdGgubGVuZ3RoOyBpbmRleCsrKSB7CiAgICAgIGlmIChlbGVtZW50LmluY2x1ZGVzKCdpbicpICYmIGVsZW1lbnQuZW5kc1dpdGgoJ2luJykpIHsKICAgICAgICBpZiAoZWxlbWVudC5jaGFyQ29kZUF0KGluZGV4KSA+IDQ3ICYmIGVsZW1lbnQuY2hhckNvZGVBdChpbmRleCkgPCA1OCB8fCBlbGVtZW50LmNoYXJDb2RlQXQoaW5kZXgpID09PSA3MyB8fCBlbGVtZW50LmNoYXJDb2RlQXQoaW5kZXgpID09PSAxMDUgfHwgZWxlbWVudC5jaGFyQ29kZUF0KGluZGV4KSA9PT0gMzIgfHwgZWxlbWVudC5jaGFyQ29kZUF0KGluZGV4KSA9PT0gNzggfHwgZWxlbWVudC5jaGFyQ29kZUF0KGluZGV4KSA9PT0gMTEwIHx8IGVsZW1lbnQuY2hhckNvZGVBdChpbmRleCkgPT09IDMyKSB7CiAgICAgICAgICB2YWxpZFByb3BlcnR5VmFsdWUgPSB0cnVlOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICB2YWxpZFByb3BlcnR5VmFsdWUgPSBmYWxzZTsKICAgICAgICAgIGJyZWFrOwogICAgICAgIH0KICAgICAgfSBlbHNlIGlmIChlbGVtZW50LmluY2x1ZGVzKCdjbScpICYmIGVsZW1lbnQuZW5kc1dpdGgoJ2NtJykpIHsKICAgICAgICBpZiAoZWxlbWVudC5jaGFyQ29kZUF0KGluZGV4KSA+IDQ3ICYmIGVsZW1lbnQuY2hhckNvZGVBdChpbmRleCkgPCA1OCB8fCBlbGVtZW50LmNoYXJDb2RlQXQoaW5kZXgpID09PSA2NyB8fCBlbGVtZW50LmNoYXJDb2RlQXQoaW5kZXgpID09PSA5OSB8fCBlbGVtZW50LmNoYXJDb2RlQXQoaW5kZXgpID09PSAzMiB8fCBlbGVtZW50LmNoYXJDb2RlQXQoaW5kZXgpID09PSA3NyB8fCBlbGVtZW50LmNoYXJDb2RlQXQoaW5kZXgpID09PSAxMDkgfHwgZWxlbWVudC5jaGFyQ29kZUF0KGluZGV4KSA9PT0gMzIpIHsKICAgICAgICAgIHZhbGlkUHJvcGVydHlWYWx1ZSA9IHRydWU7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHZhbGlkUHJvcGVydHlWYWx1ZSA9IGZhbHNlOwogICAgICAgICAgYnJlYWs7CiAgICAgICAgfQogICAgICB9IGVsc2UgaWYgKGVsZW1lbnQuaW5jbHVkZXMoJ3B0JykgJiYgZWxlbWVudC5lbmRzV2l0aCgncHQnKSkgewogICAgICAgIGlmIChlbGVtZW50LmNoYXJDb2RlQXQoaW5kZXgpID4gNDcgJiYgZWxlbWVudC5jaGFyQ29kZUF0KGluZGV4KSA8IDU4IHx8IGVsZW1lbnQuY2hhckNvZGVBdChpbmRleCkgPT09IDgwIHx8IGVsZW1lbnQuY2hhckNvZGVBdChpbmRleCkgPT09IDExMiB8fCBlbGVtZW50LmNoYXJDb2RlQXQoaW5kZXgpID09PSAzMiB8fCBlbGVtZW50LmNoYXJDb2RlQXQoaW5kZXgpID09PSA4NCB8fCBlbGVtZW50LmNoYXJDb2RlQXQoaW5kZXgpID09PSAxMTYgfHwgZWxlbWVudC5jaGFyQ29kZUF0KGluZGV4KSA9PT0gMzIpIHsKICAgICAgICAgIHZhbGlkUHJvcGVydHlWYWx1ZSA9IHRydWU7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHZhbGlkUHJvcGVydHlWYWx1ZSA9IGZhbHNlOwogICAgICAgICAgYnJlYWs7CiAgICAgICAgfQogICAgICB9IGVsc2UgewogICAgICAgIGlmIChlbGVtZW50LmNoYXJDb2RlQXQoaW5kZXgpID4gNDcgJiYgZWxlbWVudC5jaGFyQ29kZUF0KGluZGV4KSA8IDU4KSB7CiAgICAgICAgICB2YWxpZFByb3BlcnR5VmFsdWUgPSB0cnVlOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICB2YWxpZFByb3BlcnR5VmFsdWUgPSBmYWxzZTsKICAgICAgICAgIGJyZWFrOwogICAgICAgIH0KICAgICAgfQogICAgfQoKICAgIGlmICh2YWxpZFByb3BlcnR5VmFsdWUpIHsKICAgICAgbGV0IGEgPSBwcm9wZXJ0eVZhbHVlOwogICAgICBsZXQgcG9pbnRWYWx1ZSA9IFtdOwogICAgICBsZXQgbmV3Q29sdW1uV2lkdGhzVmFsdWUgPSAnJzsKICAgICAgY29uc3QgZWxlbWVudCA9IGE7CgogICAgICBpZiAoIWlzTmFOKHBhcnNlSW50KGVsZW1lbnQpKSkgewogICAgICAgIGlmIChlbGVtZW50LmluY2x1ZGVzKCdpbicpKSB7CiAgICAgICAgICBwb2ludFZhbHVlLnB1c2gocGFyc2VJbnQoZWxlbWVudCkgKiA3Mik7CiAgICAgICAgfSBlbHNlIGlmIChlbGVtZW50LmluY2x1ZGVzKCdjbScpKSB7CiAgICAgICAgICBwb2ludFZhbHVlLnB1c2gocGFyc2VJbnQoZWxlbWVudCkgKiAyOC4zNSk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHBvaW50VmFsdWUucHVzaChwYXJzZUludChlbGVtZW50KSk7CiAgICAgICAgfQogICAgICB9CgogICAgICBuZXdDb2x1bW5XaWR0aHNWYWx1ZSA9IHBvaW50VmFsdWUgKyAncHQnOwogICAgICByZXR1cm4gbmV3Q29sdW1uV2lkdGhzVmFsdWU7CiAgICB9IGVsc2UgewogICAgICByZXR1cm4gJ0ludmFsaWQnOwogICAgfQogIH0KCiAgdXBkYXRlQXBwZWFyYW5jZShlKSB7CiAgICBjb25zdCBwcm9wZXJ0eU5hbWUgPSBlLnRhcmdldC5uYW1lOwogICAgY29uc3QgaW5wdXRUeXBlID0gdGhpcy50YWJsZURhdGFbcHJvcGVydHlOYW1lXS50eXBlOwogICAgbGV0IHByb3BlcnR5VmFsdWUgPSBlLnRhcmdldC52YWx1ZTsKCiAgICBpZiAoaW5wdXRUeXBlID09PSAnZmlsZScpIHsKICAgICAgaWYgKHByb3BlcnR5TmFtZSA9PT0gJ01vdXNlSWNvbicgfHwgcHJvcGVydHlOYW1lID09PSAnUGljdHVyZScpIHsKICAgICAgICB0aGlzLmhhbmRsZUNvbnZlcnRpb25JbWFnZVRvQmFzZTY0KGUpOwogICAgICB9CiAgICB9IGVsc2UgaWYgKGlucHV0VHlwZSA9PT0gJ1N0cmluZycpIHsKICAgICAgaWYgKHByb3BlcnR5TmFtZSA9PT0gJ0FjY2VsZXJhdG9yJyB8fCBwcm9wZXJ0eU5hbWUgPT09ICdQYXNzd29yZENoYXInKSB7CiAgICAgICAgdGhpcy5lbWl0VXBkYXRlUHJvcGVydHkocHJvcGVydHlOYW1lLCBwcm9wZXJ0eVZhbHVlICE9PSAnJyA/IHByb3BlcnR5VmFsdWVbMF0gOiBwcm9wZXJ0eVZhbHVlKTsKICAgICAgICBlLnRhcmdldC52YWx1ZSA9IHByb3BlcnR5VmFsdWUgJiYgcHJvcGVydHlWYWx1ZVswXTsKICAgICAgfSBlbHNlIGlmIChwcm9wZXJ0eU5hbWUgPT09ICdOYW1lJykgewogICAgICAgIGlmIChjaGVja1Byb3BlcnR5VmFsdWUocHJvcGVydHlOYW1lLCBwcm9wZXJ0eVZhbHVlKSkgewogICAgICAgICAgY29uc3QgaXNTdWNjZXNzID0gdGhpcy51cGRhdGVQcm9wZXJ0eSh7CiAgICAgICAgICAgIHByb3BlcnR5TmFtZTogcHJvcGVydHlOYW1lLAogICAgICAgICAgICB2YWx1ZTogcHJvcGVydHlWYWx1ZQogICAgICAgICAgfSk7CgogICAgICAgICAgaWYgKCFpc1N1Y2Nlc3MpIHsKICAgICAgICAgICAgZS50YXJnZXQudmFsdWUgPSB0aGlzLnRhYmxlRGF0YVtwcm9wZXJ0eU5hbWVdLnZhbHVlOwogICAgICAgICAgICBFdmVudEJ1cy4kZW1pdCgnc2hvd0Vycm9yUG9wdXAnLCB0cnVlLCAnaW52YWxpZCcsICdDb3VsZCBub3Qgc2V0IHRoZSBOYW1lIHByb3BlcnR5LiBBbWJpZ3VvdXMgbmFtZS4nKTsKICAgICAgICAgIH0KICAgICAgICB9IGVsc2UgewogICAgICAgICAgZS50YXJnZXQudmFsdWUgPSB0aGlzLnRhYmxlRGF0YVtwcm9wZXJ0eU5hbWVdLnZhbHVlOwogICAgICAgICAgRXZlbnRCdXMuJGVtaXQoJ3Nob3dFcnJvclBvcHVwJywgdHJ1ZSwgJ2ludmFsaWQnLCBgTm90IGEgbGVnYWwgb2JqZWN0IG5hbWU6ICcke3Byb3BlcnR5VmFsdWV9J2ApOwogICAgICAgIH0KICAgICAgfSBlbHNlIGlmIChwcm9wZXJ0eU5hbWUgPT09ICdWYWx1ZScpIHsKICAgICAgICBpZiAodGhpcy5nZXRTZWxlY3RlZENvbnRyb2xzRGF0YXMubGVuZ3RoID09PSAxKSB7CiAgICAgICAgICBjb25zdCBjb250cm9sVHlwZSA9IHRoaXMudXNlcmZvcm1EYXRhW3RoaXMudXNlckZvcm1JZF1bdGhpcy5nZXRTZWxlY3RlZENvbnRyb2xzRGF0YXNbMF1dLnR5cGU7CgogICAgICAgICAgaWYgKGNvbnRyb2xUeXBlID09PSAnQ2hlY2tCb3gnIHx8IGNvbnRyb2xUeXBlID09PSAnT3B0aW9uQnV0dG9uJyB8fCBjb250cm9sVHlwZSA9PT0gJ1RvZ2dsZUJ1dHRvbicpIHsKICAgICAgICAgICAgY29uc3QgcmVzdWx0VmFsdWUgPSB0aGlzLnZhbGlkYXRlVmFsdWVQcm9wZXJ0eUNoYm94T3BidG5UZ2xidG4ocHJvcGVydHlOYW1lLCBwcm9wZXJ0eVZhbHVlKTsKICAgICAgICAgICAgZS50YXJnZXQudmFsdWUgPSByZXN1bHRWYWx1ZTsKICAgICAgICAgIH0gZWxzZSBpZiAoY29udHJvbFR5cGUgPT09ICdMaXN0Qm94JykgewogICAgICAgICAgICBjb25zdCBpc1RleHRWYWxpZCA9IHRoaXMudmFsaWRhdGVUZXh0VmFsdWVQcm9wZXJ0eShwcm9wZXJ0eVZhbHVlLCBwcm9wZXJ0eU5hbWUsIHRoaXMuZ2V0U2VsZWN0ZWRDb250cm9sc0RhdGFzWzBdKTsKCiAgICAgICAgICAgIGlmIChpc1RleHRWYWxpZCkgewogICAgICAgICAgICAgIHRoaXMuZW1pdFVwZGF0ZVByb3BlcnR5KHByb3BlcnR5TmFtZSwgcHJvcGVydHlWYWx1ZSk7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgRXZlbnRCdXMuJGVtaXQoJ3Nob3dFcnJvclBvcHVwJywgdHJ1ZSwgJ2ludmFsaWQnLCBgQ291bGQgbm90IHNldCB0aGUgJHtwcm9wZXJ0eU5hbWV9IHByb3BlcnR5LiBJbnZhbGlkIHByb3BlcnR5IFZhbHVlYCk7CiAgICAgICAgICAgICAgZS50YXJnZXQudmFsdWUgPSB0aGlzLnRhYmxlRGF0YVtwcm9wZXJ0eU5hbWVdLnZhbHVlOwogICAgICAgICAgICB9CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICB0aGlzLmVtaXRVcGRhdGVQcm9wZXJ0eShwcm9wZXJ0eU5hbWUsIHByb3BlcnR5VmFsdWUpOwogICAgICAgICAgfQogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBpZiAodGhpcy5yZXN1bHRBcnJheVswXSA9PT0gdHJ1ZSkgewogICAgICAgICAgICBjb25zdCByZXN1bHRWYWx1ZSA9IHRoaXMudmFsaWRhdGVWYWx1ZVByb3BlcnR5Q2hib3hPcGJ0blRnbGJ0bihwcm9wZXJ0eU5hbWUsIHByb3BlcnR5VmFsdWUpOwogICAgICAgICAgICBlLnRhcmdldC52YWx1ZSA9IHJlc3VsdFZhbHVlOwogICAgICAgICAgfSBlbHNlIGlmICh0aGlzLnJlc3VsdEFycmF5WzFdID09PSB0cnVlKSB7CiAgICAgICAgICAgIGNvbnN0IGlzVmFsdWVWYWxpZCA9IHRoaXMudXBkYXRlVmFsdWVQcm9wZXJ0eSh7CiAgICAgICAgICAgICAgcHJvcGVydHlOYW1lOiBwcm9wZXJ0eU5hbWUsCiAgICAgICAgICAgICAgdmFsdWU6IHByb3BlcnR5VmFsdWUKICAgICAgICAgICAgfSk7CgogICAgICAgICAgICBpZiAoIWlzVmFsdWVWYWxpZCkgewogICAgICAgICAgICAgIEV2ZW50QnVzLiRlbWl0KCdzaG93RXJyb3JQb3B1cCcsIHRydWUsICdpbnZhbGlkJywgYENvdWxkIG5vdCBzZXQgdGhlICR7cHJvcGVydHlOYW1lfSBwcm9wZXJ0eS4gSW52YWxpZCBwcm9wZXJ0eSBWYWx1ZWApOwogICAgICAgICAgICAgIGUudGFyZ2V0LnZhbHVlID0gdGhpcy50YWJsZURhdGFbcHJvcGVydHlOYW1lXS52YWx1ZTsKICAgICAgICAgICAgfQogICAgICAgICAgfSBlbHNlIGlmICh0aGlzLnJlc3VsdEFycmF5WzJdID09PSB0cnVlKSB7fSAvLyB0aGlzLnVwZGF0ZVZhbHVlUHJvcGVydHkoeyBwcm9wZXJ0eU5hbWU6IHByb3BlcnR5TmFtZSwgdmFsdWU6IHByb3BlcnR5VmFsdWUgfSkKCiAgICAgICAgfQogICAgICB9IGVsc2UgaWYgKHByb3BlcnR5TmFtZSA9PT0gJ1RleHQnKSB7CiAgICAgICAgY29uc3QgY29udHJvbFR5cGUgPSB0aGlzLnVzZXJmb3JtRGF0YVt0aGlzLnVzZXJGb3JtSWRdW3RoaXMuZ2V0U2VsZWN0ZWRDb250cm9sc0RhdGFzWzBdXS50eXBlOwoKICAgICAgICBpZiAoY29udHJvbFR5cGUgPT09ICdMaXN0Qm94JykgewogICAgICAgICAgY29uc3QgaXNUZXh0VmFsaWQgPSB0aGlzLnZhbGlkYXRlVGV4dFZhbHVlUHJvcGVydHkocHJvcGVydHlWYWx1ZSwgcHJvcGVydHlOYW1lLCB0aGlzLmdldFNlbGVjdGVkQ29udHJvbHNEYXRhc1swXSk7CgogICAgICAgICAgaWYgKGlzVGV4dFZhbGlkKSB7CiAgICAgICAgICAgIHRoaXMuZW1pdFVwZGF0ZVByb3BlcnR5KHByb3BlcnR5TmFtZSwgcHJvcGVydHlWYWx1ZSk7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBFdmVudEJ1cy4kZW1pdCgnc2hvd0Vycm9yUG9wdXAnLCB0cnVlLCAnaW52YWxpZCcsIGBDb3VsZCBub3Qgc2V0IHRoZSAke3Byb3BlcnR5TmFtZX0gcHJvcGVydHkuIEludmFsaWQgcHJvcGVydHkgVmFsdWVgKTsKICAgICAgICAgICAgZS50YXJnZXQudmFsdWUgPSB0aGlzLnRhYmxlRGF0YVtwcm9wZXJ0eU5hbWVdLnZhbHVlOwogICAgICAgICAgfQogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICB0aGlzLmVtaXRVcGRhdGVQcm9wZXJ0eShwcm9wZXJ0eU5hbWUsIHByb3BlcnR5VmFsdWUpOwogICAgICAgIH0KICAgICAgfSBlbHNlIGlmIChwcm9wZXJ0eU5hbWUgPT09ICdDb250cm9sU291cmNlJykgewogICAgICAgIGNvbnN0IGlzVmFsaWQgPSB0aGlzLnZhbGlkYXRlQ29udHJvbFNvdXJjZVByb3BlcnR5KHByb3BlcnR5VmFsdWUpOwoKICAgICAgICBpZiAoaXNWYWxpZCkgewogICAgICAgICAgdGhpcy5lbWl0VXBkYXRlUHJvcGVydHkocHJvcGVydHlOYW1lLCBwcm9wZXJ0eVZhbHVlKTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgRXZlbnRCdXMuJGVtaXQoJ3Nob3dFcnJvclBvcHVwJywgdHJ1ZSwgJ2ludmFsaWQnLCAnSW52YWxpZCBwcm9wZXJ0eSB2YWx1ZS4nKTsKICAgICAgICB9CiAgICAgIH0gZWxzZSBpZiAocHJvcGVydHlOYW1lID09PSAnUm93U291cmNlJykgewogICAgICAgIGNvbnN0IGlzVmFsaWQgPSB0aGlzLnZhbGlkYXRlUm93U291cmNlUHJvcGVydHkocHJvcGVydHlWYWx1ZSk7CgogICAgICAgIGlmIChpc1ZhbGlkKSB7CiAgICAgICAgICB0aGlzLmVtaXRVcGRhdGVQcm9wZXJ0eShwcm9wZXJ0eU5hbWUsIHByb3BlcnR5VmFsdWUpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBFdmVudEJ1cy4kZW1pdCgnc2hvd0Vycm9yUG9wdXAnLCB0cnVlLCAnaW52YWxpZCcsICdJbnZhbGlkIHByb3BlcnR5IHZhbHVlLicpOwogICAgICAgIH0KICAgICAgfSBlbHNlIGlmIChwcm9wZXJ0eU5hbWUgPT09ICdDb2x1bW5XaWR0aHMnKSB7CiAgICAgICAgY29uc3QgcmVzdWx0VmFsdWUgPSB0aGlzLnZhbGlkYXRlQ29sdW1uV2lkdGhzKHByb3BlcnR5TmFtZSwgcHJvcGVydHlWYWx1ZSk7CgogICAgICAgIGlmIChyZXN1bHRWYWx1ZSAhPT0gJ0ludmFsaWQnKSB7CiAgICAgICAgICB0aGlzLmVtaXRVcGRhdGVQcm9wZXJ0eShwcm9wZXJ0eU5hbWUsIHJlc3VsdFZhbHVlKTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgRXZlbnRCdXMuJGVtaXQoJ3Nob3dFcnJvclBvcHVwJywgdHJ1ZSwgJ2ludmFsaWQnLCBgQ291bGQgbm90IHNldCB0aGUgJHtwcm9wZXJ0eU5hbWV9IHByb3BlcnR5LiBUeXBlIG1pc21hdGNoYCk7CiAgICAgICAgICBlLnRhcmdldC52YWx1ZSA9IHRoaXMudGFibGVEYXRhW3Byb3BlcnR5TmFtZV0udmFsdWU7CiAgICAgICAgfQogICAgICB9IGVsc2UgaWYgKHByb3BlcnR5TmFtZSA9PT0gJ0xpc3RXaWR0aCcpIHsKICAgICAgICBjb25zdCByZXN1bHRWYWx1ZSA9IHRoaXMudmFsaWRhdGVMaXN0V2lkdGgocHJvcGVydHlOYW1lLCBwcm9wZXJ0eVZhbHVlKTsKCiAgICAgICAgaWYgKHJlc3VsdFZhbHVlICE9PSAnSW52YWxpZCcgJiYgcmVzdWx0VmFsdWUgIT09ICdOZWdhdGl2ZScpIHsKICAgICAgICAgIHRoaXMuZW1pdFVwZGF0ZVByb3BlcnR5KHByb3BlcnR5TmFtZSwgcmVzdWx0VmFsdWUpOwogICAgICAgIH0gZWxzZSBpZiAocmVzdWx0VmFsdWUgPT09ICdOZWdhdGl2ZScpIHsKICAgICAgICAgIEV2ZW50QnVzLiRlbWl0KCdzaG93RXJyb3JQb3B1cCcsIHRydWUsICdpbnZhbGlkJywgYENvdWxkIG5vdCBzZXQgdGhlICR7cHJvcGVydHlOYW1lfSBwcm9wZXJ0eS4gSW52YWxpZCBwcm9wZXJ0eSB2YWx1ZWApOwogICAgICAgICAgZS50YXJnZXQudmFsdWUgPSB0aGlzLnRhYmxlRGF0YVtwcm9wZXJ0eU5hbWVdLnZhbHVlOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBFdmVudEJ1cy4kZW1pdCgnc2hvd0Vycm9yUG9wdXAnLCB0cnVlLCAnaW52YWxpZCcsIGBDb3VsZCBub3Qgc2V0IHRoZSAke3Byb3BlcnR5TmFtZX0gcHJvcGVydHkuIFR5cGUgbWlzbWF0Y2hgKTsKICAgICAgICAgIGUudGFyZ2V0LnZhbHVlID0gdGhpcy50YWJsZURhdGFbcHJvcGVydHlOYW1lXS52YWx1ZTsKICAgICAgICB9CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy5lbWl0VXBkYXRlUHJvcGVydHkocHJvcGVydHlOYW1lLCBwcm9wZXJ0eVZhbHVlKTsKICAgICAgfQogICAgfSBlbHNlIGlmIChpbnB1dFR5cGUgPT09ICdudW1iZXInIHx8IGlucHV0VHlwZSA9PT0gJ2Zsb2F0JykgewogICAgICBjb25zdCB2YWx1ZSA9IHByb3BlcnR5VmFsdWUuaW5jbHVkZXMoJy4nKSA/IHBhcnNlRmxvYXQocHJvcGVydHlWYWx1ZSkgOiBwYXJzZUludChwcm9wZXJ0eVZhbHVlKTsKCiAgICAgIGlmIChwcm9wZXJ0eU5hbWUgPT09ICdIZWlnaHQnIHx8IHByb3BlcnR5TmFtZSA9PT0gJ1dpZHRoJykgewogICAgICAgIGlmICh0aGlzLnVzZXJmb3JtRGF0YVt0aGlzLnVzZXJGb3JtSWRdW3RoaXMuZ2V0U2VsZWN0ZWRDb250cm9sc0RhdGFzWzBdXS50eXBlID09PSAnVXNlcmZvcm0nKSB7CiAgICAgICAgICBpZiAocHJvcGVydHlOYW1lID09PSAnV2lkdGgnKSB7CiAgICAgICAgICAgIGlmICh2YWx1ZSA+PSAwICYmIHZhbHVlIDwgMTAzKSB7CiAgICAgICAgICAgICAgdGhpcy5lbWl0VXBkYXRlUHJvcGVydHkocHJvcGVydHlOYW1lLCAxMDMpOwogICAgICAgICAgICAgIGUudGFyZ2V0LnZhbHVlID0gJzEwMyc7CiAgICAgICAgICAgIH0gZWxzZSBpZiAodmFsdWUgPiA5ODMwKSB7CiAgICAgICAgICAgICAgdGhpcy5lbWl0VXBkYXRlUHJvcGVydHkocHJvcGVydHlOYW1lLCA5ODMwKTsKICAgICAgICAgICAgfSBlbHNlIGlmICh2YWx1ZSA8IDApIHsKICAgICAgICAgICAgICBlLnRhcmdldC52YWx1ZSA9IHRoaXMudGFibGVEYXRhW3Byb3BlcnR5TmFtZV0udmFsdWU7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgdGhpcy5lbWl0VXBkYXRlUHJvcGVydHkocHJvcGVydHlOYW1lLCB2YWx1ZSk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0gZWxzZSBpZiAocHJvcGVydHlOYW1lID09PSAnSGVpZ2h0JykgewogICAgICAgICAgICBpZiAodmFsdWUgPj0gMCAmJiB2YWx1ZSA8IDMwKSB7CiAgICAgICAgICAgICAgdGhpcy5lbWl0VXBkYXRlUHJvcGVydHkocHJvcGVydHlOYW1lLCAzMCk7CiAgICAgICAgICAgICAgZS50YXJnZXQudmFsdWUgPSAnMzAnOwogICAgICAgICAgICB9IGVsc2UgaWYgKHZhbHVlID4gOTgzMCkgewogICAgICAgICAgICAgIHRoaXMuZW1pdFVwZGF0ZVByb3BlcnR5KHByb3BlcnR5TmFtZSwgOTgzMCk7CiAgICAgICAgICAgIH0gZWxzZSBpZiAodmFsdWUgPCAwKSB7CiAgICAgICAgICAgICAgZS50YXJnZXQudmFsdWUgPSB0aGlzLnRhYmxlRGF0YVtwcm9wZXJ0eU5hbWVdLnZhbHVlOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgIHRoaXMuZW1pdFVwZGF0ZVByb3BlcnR5KHByb3BlcnR5TmFtZSwgdmFsdWUpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSBlbHNlIGlmIChjaGVja1Byb3BlcnR5VmFsdWUocHJvcGVydHlOYW1lLCB2YWx1ZSkpIHsKICAgICAgICAgIHRoaXMuZW1pdFVwZGF0ZVByb3BlcnR5KHByb3BlcnR5TmFtZSwgdmFsdWUpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBlLnRhcmdldC52YWx1ZSA9IHRoaXMudGFibGVEYXRhW3Byb3BlcnR5TmFtZV0udmFsdWU7CgogICAgICAgICAgaWYgKHZhbHVlID4gMzI3NjcpIHsKICAgICAgICAgICAgRXZlbnRCdXMuJGVtaXQoJ3Nob3dFcnJvclBvcHVwJywgdHJ1ZSwgJ292ZXJmbG93JywgJ092ZXJmbG93Jyk7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBFdmVudEJ1cy4kZW1pdCgnc2hvd0Vycm9yUG9wdXAnLCB0cnVlLCAnaW52YWxpZCcsIGBDb3VsZCBub3Qgc2V0IHRoZSAke3Byb3BlcnR5TmFtZX0gcHJvcGVydHkuIEludmFsaWQgcHJvcGVydHkgdmFsdWUuIEVudGVyIGEgdmFsdWUgYmV0d2VlbiAwIGFuZCAzMjc2OGApOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSBlbHNlIGlmIChwcm9wZXJ0eU5hbWUgPT09ICdUb3AnIHx8IHByb3BlcnR5TmFtZSA9PT0gJ0xlZnQnKSB7CiAgICAgICAgaWYgKGNoZWNrUHJvcGVydHlWYWx1ZShwcm9wZXJ0eU5hbWUsIHZhbHVlKSkgewogICAgICAgICAgdGhpcy5lbWl0VXBkYXRlUHJvcGVydHkocHJvcGVydHlOYW1lLCB2YWx1ZSk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIGUudGFyZ2V0LnZhbHVlID0gdGhpcy50YWJsZURhdGFbcHJvcGVydHlOYW1lXS52YWx1ZTsKICAgICAgICAgIEV2ZW50QnVzLiRlbWl0KCdzaG93RXJyb3JQb3B1cCcsIHRydWUsICdpbnZhbGlkJywgYENvdWxkIG5vdCBzZXQgdGhlICR7cHJvcGVydHlOYW1lfSBwcm9wZXJ0eS4gSW52YWxpZCBwcm9wZXJ0eSB2YWx1ZS5gKTsKICAgICAgICB9CiAgICAgIH0gZWxzZSBpZiAocHJvcGVydHlOYW1lID09PSAnTWF4TGVuZ3RoJykgewogICAgICAgIGlmIChjaGVja1Byb3BlcnR5VmFsdWUocHJvcGVydHlOYW1lLCB2YWx1ZSkpIHsKICAgICAgICAgIHRoaXMuZW1pdFVwZGF0ZVByb3BlcnR5KHByb3BlcnR5TmFtZSwgdmFsdWUpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBlLnRhcmdldC52YWx1ZSA9IHRoaXMudGFibGVEYXRhW3Byb3BlcnR5TmFtZV0udmFsdWU7CiAgICAgICAgICBFdmVudEJ1cy4kZW1pdCgnc2hvd0Vycm9yUG9wdXAnLCB0cnVlLCAnaW52YWxpZCcsIGBDb3VsZCBub3Qgc2V0IHRoZSAke3Byb3BlcnR5TmFtZX0gcHJvcGVydHkuIEludmFsaWQgcHJvcGVydHkgdmFsdWUuIEVudGVyIGEgdmFsdWUgYmV0d2VlbiAwIGFuZCAgMjE0NzQ4MzY0N2ApOwogICAgICAgIH0KICAgICAgfSBlbHNlIGlmIChwcm9wZXJ0eU5hbWUgPT09ICdCb3VuZENvbHVtbicpIHsKICAgICAgICBpZiAoY2hlY2tQcm9wZXJ0eVZhbHVlKHByb3BlcnR5TmFtZSwgdmFsdWUpKSB7CiAgICAgICAgICB0aGlzLmVtaXRVcGRhdGVQcm9wZXJ0eShwcm9wZXJ0eU5hbWUsIHZhbHVlKTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgZS50YXJnZXQudmFsdWUgPSB0aGlzLnRhYmxlRGF0YVtwcm9wZXJ0eU5hbWVdLnZhbHVlOwogICAgICAgICAgRXZlbnRCdXMuJGVtaXQoJ3Nob3dFcnJvclBvcHVwJywgdHJ1ZSwgJ2ludmFsaWQnLCBgQ291bGQgbm90IHNldCB0aGUgJHtwcm9wZXJ0eU5hbWV9IHByb3BlcnR5LiBJbnZhbGlkIHByb3BlcnR5IHZhbHVlLiBFbnRlciBhIHZhbHVlIGJldHdlZW4gMCBhbmQgNjU1MzZgKTsKICAgICAgICB9CiAgICAgIH0gZWxzZSBpZiAocHJvcGVydHlOYW1lID09PSAnQ29sdW1uQ291bnQnKSB7CiAgICAgICAgaWYgKGNoZWNrUHJvcGVydHlWYWx1ZShwcm9wZXJ0eU5hbWUsIHZhbHVlKSkgewogICAgICAgICAgdGhpcy5lbWl0VXBkYXRlUHJvcGVydHkocHJvcGVydHlOYW1lLCB2YWx1ZSk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIGUudGFyZ2V0LnZhbHVlID0gdGhpcy50YWJsZURhdGFbcHJvcGVydHlOYW1lXS52YWx1ZTsKICAgICAgICAgIEV2ZW50QnVzLiRlbWl0KCdzaG93RXJyb3JQb3B1cCcsIHRydWUsICdpbnZhbGlkJywgYENvdWxkIG5vdCBzZXQgdGhlICR7cHJvcGVydHlOYW1lfSBwcm9wZXJ0eS4gSW52YWxpZCBwcm9wZXJ0eSB2YWx1ZS4gRW50ZXIgYSB2YWx1ZSBiZXR3ZWVuIC0xIGFuZCAyMTQ3NDgzNjQ3YCk7CiAgICAgICAgfQogICAgICB9IGVsc2UgaWYgKHByb3BlcnR5TmFtZSA9PT0gJ0xpc3RSb3dzJykgewogICAgICAgIGlmIChjaGVja1Byb3BlcnR5VmFsdWUocHJvcGVydHlOYW1lLCB2YWx1ZSkpIHsKICAgICAgICAgIHRoaXMuZW1pdFVwZGF0ZVByb3BlcnR5KHByb3BlcnR5TmFtZSwgdmFsdWUpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBlLnRhcmdldC52YWx1ZSA9IHRoaXMudGFibGVEYXRhW3Byb3BlcnR5TmFtZV0udmFsdWU7CiAgICAgICAgICBFdmVudEJ1cy4kZW1pdCgnc2hvd0Vycm9yUG9wdXAnLCB0cnVlLCAnaW52YWxpZCcsIGBDb3VsZCBub3Qgc2V0IHRoZSAke3Byb3BlcnR5TmFtZX0gcHJvcGVydHkuIEludmFsaWQgcHJvcGVydHkgdmFsdWUuIEVudGVyIGEgdmFsdWUgYmV0d2VlbiAwIGFuZCAyMTQ3NDgzNjQ3YCk7CiAgICAgICAgfQogICAgICB9IGVsc2UgaWYgKHByb3BlcnR5TmFtZSA9PT0gJ1RleHRDb2x1bW4nKSB7CiAgICAgICAgaWYgKGNoZWNrUHJvcGVydHlWYWx1ZShwcm9wZXJ0eU5hbWUsIHZhbHVlKSkgewogICAgICAgICAgdGhpcy5lbWl0VXBkYXRlUHJvcGVydHkocHJvcGVydHlOYW1lLCB2YWx1ZSk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIGUudGFyZ2V0LnZhbHVlID0gdGhpcy50YWJsZURhdGFbcHJvcGVydHlOYW1lXS52YWx1ZTsKICAgICAgICAgIEV2ZW50QnVzLiRlbWl0KCdzaG93RXJyb3JQb3B1cCcsIHRydWUsICdpbnZhbGlkJywgYENvdWxkIG5vdCBzZXQgdGhlICR7cHJvcGVydHlOYW1lfSBwcm9wZXJ0eS4gSW52YWxpZCBwcm9wZXJ0eSB2YWx1ZS4gRW50ZXIgYSB2YWx1ZSBiZXR3ZWVuIC0xIGFuZCAzMjc2OGApOwogICAgICAgIH0KICAgICAgfSBlbHNlIGlmIChwcm9wZXJ0eU5hbWUgPT09ICdWYWx1ZScpIHsKICAgICAgICBjb25zdCBjb250cm9sRGF0YSA9IHRoaXMudXNlcmZvcm1EYXRhW3RoaXMudXNlckZvcm1JZF1bdGhpcy5nZXRTZWxlY3RlZENvbnRyb2xzRGF0YXNbMF1dOwogICAgICAgIGNvbnN0IGNvbnRyb2xUeXBlID0gY29udHJvbERhdGEudHlwZTsKCiAgICAgICAgaWYgKHRoaXMuZ2V0U2VsZWN0ZWRDb250cm9sc0RhdGFzLmxlbmd0aCA9PT0gMSkgewogICAgICAgICAgaWYgKGNvbnRyb2xUeXBlID09PSAnVGFiU3RyaXAnKSB7CiAgICAgICAgICAgIGlmICh2YWx1ZSA8IC0xIHx8IHZhbHVlID49IGNvbnRyb2xEYXRhLmV4dHJhRGF0YXMuVGFicy5sZW5ndGgpIHsKICAgICAgICAgICAgICBlLnRhcmdldC52YWx1ZSA9IHRoaXMudGFibGVEYXRhW3Byb3BlcnR5TmFtZV0udmFsdWU7CiAgICAgICAgICAgICAgRXZlbnRCdXMuJGVtaXQoJ3Nob3dFcnJvclBvcHVwJywgdHJ1ZSwgJ2ludmFsaWQnLCBgQ291bGQgbm90IHNldCB0aGUgJHtwcm9wZXJ0eU5hbWV9IHByb3BlcnR5LiBJbnZhbGlkIHByb3BlcnR5IHZhbHVlLmApOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgIHRoaXMuZW1pdFVwZGF0ZVByb3BlcnR5KHByb3BlcnR5TmFtZSwgdmFsdWUpOwogICAgICAgICAgICB9CiAgICAgICAgICB9IGVsc2UgaWYgKGNvbnRyb2xUeXBlID09PSAnTXVsdGlQYWdlJykgewogICAgICAgICAgICBpZiAodmFsdWUgPCAtMSB8fCB2YWx1ZSA+PSBjb250cm9sRGF0YS5jb250cm9scy5sZW5ndGgpIHsKICAgICAgICAgICAgICBlLnRhcmdldC52YWx1ZSA9IHRoaXMudGFibGVEYXRhW3Byb3BlcnR5TmFtZV0udmFsdWU7CiAgICAgICAgICAgICAgRXZlbnRCdXMuJGVtaXQoJ3Nob3dFcnJvclBvcHVwJywgdHJ1ZSwgJ2ludmFsaWQnLCBgQ291bGQgbm90IHNldCB0aGUgJHtwcm9wZXJ0eU5hbWV9IHByb3BlcnR5LiBJbnZhbGlkIHByb3BlcnR5IHZhbHVlLmApOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgIHRoaXMuZW1pdFVwZGF0ZVByb3BlcnR5KHByb3BlcnR5TmFtZSwgdmFsdWUpOwogICAgICAgICAgICB9CiAgICAgICAgICB9IGVsc2UgaWYgKGNvbnRyb2xUeXBlID09PSAnU3BpbkJ1dHRvbicgfHwgY29udHJvbFR5cGUgPT09ICdTY3JvbGxCYXInKSB7CiAgICAgICAgICAgIGlmICh0aGlzLmlzRGVjaW1hbE51bWJlcihwcm9wZXJ0eVZhbHVlKSkgewogICAgICAgICAgICAgIGUudGFyZ2V0LnZhbHVlID0gdGhpcy50YWJsZURhdGFbcHJvcGVydHlOYW1lXS52YWx1ZTsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICBjb25zdCBpc1N1Y2Nlc3MgPSB0aGlzLnVwZGF0ZVNwaW5CdXR0b25TY3JvbGxCYXJWYWx1ZVByb3AodGhpcy5nZXRTZWxlY3RlZENvbnRyb2xzRGF0YXNbMF0sIHZhbHVlKTsKCiAgICAgICAgICAgICAgaWYgKCFpc1N1Y2Nlc3MpIHsKICAgICAgICAgICAgICAgIGUudGFyZ2V0LnZhbHVlID0gdGhpcy50YWJsZURhdGFbcHJvcGVydHlOYW1lXS52YWx1ZTsKICAgICAgICAgICAgICAgIEV2ZW50QnVzLiRlbWl0KCdzaG93RXJyb3JQb3B1cCcsIHRydWUsICdpbnZhbGlkJywgYENvdWxkIG5vdCBzZXQgdGhlICR7cHJvcGVydHlOYW1lfSBwcm9wZXJ0eS4gSW52YWxpZCBwcm9wZXJ0eSB2YWx1ZS5gKTsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIHRoaXMuZW1pdFVwZGF0ZVByb3BlcnR5KHByb3BlcnR5TmFtZSwgcHJvcGVydHlWYWx1ZSk7CiAgICAgICAgICB9CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIGlmICh0aGlzLmlzRGVjaW1hbE51bWJlcihwcm9wZXJ0eVZhbHVlKSkgewogICAgICAgICAgICBlLnRhcmdldC52YWx1ZSA9IHRoaXMudGFibGVEYXRhW3Byb3BlcnR5TmFtZV0udmFsdWU7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBjb25zdCBpc1N1Y2Nlc3MgPSB0aGlzLnZhbGlkYXRlTXVsdGlwbGVWYWx1ZVByb3BlcnR5KHsKICAgICAgICAgICAgICBwcm9wZXJ0eU5hbWU6IHByb3BlcnR5TmFtZSwKICAgICAgICAgICAgICB2YWx1ZTogcHJvcGVydHlWYWx1ZQogICAgICAgICAgICB9KTsKCiAgICAgICAgICAgIGlmICghaXNTdWNjZXNzKSB7CiAgICAgICAgICAgICAgZS50YXJnZXQudmFsdWUgPSB0aGlzLnRhYmxlRGF0YVtwcm9wZXJ0eU5hbWVdLnZhbHVlOwogICAgICAgICAgICAgIEV2ZW50QnVzLiRlbWl0KCdzaG93RXJyb3JQb3B1cCcsIHRydWUsICdpbnZhbGlkJywgYENvdWxkIG5vdCBzZXQgdGhlICR7cHJvcGVydHlOYW1lfSBwcm9wZXJ0eS4gSW52YWxpZCBwcm9wZXJ0eSB2YWx1ZS5gKTsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICB0aGlzLnVwZGF0ZU11bHRpU2VsZWN0UHJvcFZhbHVlKHByb3BlcnR5TmFtZSwgdmFsdWUpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9IGVsc2UgaWYgKHByb3BlcnR5TmFtZSA9PT0gJ01pbicgfHwgcHJvcGVydHlOYW1lID09PSAnTWF4JyB8fCBwcm9wZXJ0eU5hbWUgPT09ICdTbWFsbENoYW5nZScpIHsKICAgICAgICBpZiAodGhpcy5pc0RlY2ltYWxOdW1iZXIocHJvcGVydHlWYWx1ZSkpIHsKICAgICAgICAgIGUudGFyZ2V0LnZhbHVlID0gdGhpcy50YWJsZURhdGFbcHJvcGVydHlOYW1lXS52YWx1ZTsKICAgICAgICB9IGVsc2UgaWYgKGNoZWNrUHJvcGVydHlWYWx1ZShwcm9wZXJ0eU5hbWUsIHZhbHVlKSkgewogICAgICAgICAgaWYgKHByb3BlcnR5TmFtZSA9PT0gJ01pbicgfHwgcHJvcGVydHlOYW1lID09PSAnTWF4JykgewogICAgICAgICAgICB0aGlzLnVwZGF0ZVByb3BlcnR5KHsKICAgICAgICAgICAgICBwcm9wZXJ0eU5hbWU6IHByb3BlcnR5TmFtZSwKICAgICAgICAgICAgICB2YWx1ZTogdmFsdWUKICAgICAgICAgICAgfSk7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICB0aGlzLmVtaXRVcGRhdGVQcm9wZXJ0eShwcm9wZXJ0eU5hbWUsIHZhbHVlKTsKICAgICAgICAgIH0KICAgICAgICB9IGVsc2UgewogICAgICAgICAgZS50YXJnZXQudmFsdWUgPSB0aGlzLnRhYmxlRGF0YVtwcm9wZXJ0eU5hbWVdLnZhbHVlOwogICAgICAgICAgRXZlbnRCdXMuJGVtaXQoJ3Nob3dFcnJvclBvcHVwJywgdHJ1ZSwgJ2ludmFsaWQnLCBgSW52YWxpZCBwcm9wZXJ0eSB2YWx1ZS5gKTsKICAgICAgICB9CiAgICAgIH0gZWxzZSBpZiAocHJvcGVydHlOYW1lID09PSAnVGFiRml4ZWRIZWlnaHQnIHx8IHByb3BlcnR5TmFtZSA9PT0gJ1RhYkZpeGVkV2lkdGgnKSB7CiAgICAgICAgaWYgKGNoZWNrUHJvcGVydHlWYWx1ZShwcm9wZXJ0eU5hbWUsIHZhbHVlKSkgewogICAgICAgICAgdGhpcy5lbWl0VXBkYXRlUHJvcGVydHkocHJvcGVydHlOYW1lLCB2YWx1ZSk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIGUudGFyZ2V0LnZhbHVlID0gdGhpcy50YWJsZURhdGFbcHJvcGVydHlOYW1lXS52YWx1ZTsKICAgICAgICAgIEV2ZW50QnVzLiRlbWl0KCdzaG93RXJyb3JQb3B1cCcsIHRydWUsICdpbnZhbGlkJywgYENvdWxkIG5vdCBzZXQgdGhlICR7cHJvcGVydHlOYW1lfSBwcm9wZXJ0eS4gSW52YWxpZCBwcm9wZXJ0eSB2YWx1ZS4gRW50ZXIgYSB2YWx1ZSBiZXR3ZWVuIDAgYW5kIDcyMDBgKTsKICAgICAgICB9CiAgICAgIH0gZWxzZSBpZiAocHJvcGVydHlOYW1lID09PSAnVGFiSW5kZXgnKSB7CiAgICAgICAgaWYgKHRoaXMuaXNEZWNpbWFsTnVtYmVyKHByb3BlcnR5VmFsdWUpKSB7CiAgICAgICAgICBlLnRhcmdldC52YWx1ZSA9IHRoaXMudGFibGVEYXRhW3Byb3BlcnR5TmFtZV0udmFsdWU7CiAgICAgICAgfSBlbHNlIGlmIChjaGVja1Byb3BlcnR5VmFsdWUocHJvcGVydHlOYW1lLCB2YWx1ZSkpIHsKICAgICAgICAgIGNvbnN0IGlzU3VjY2VzcyA9IHRoaXMudXBkYXRlUHJvcGVydHkoewogICAgICAgICAgICBwcm9wZXJ0eU5hbWU6IHByb3BlcnR5TmFtZSwKICAgICAgICAgICAgdmFsdWU6IHZhbHVlCiAgICAgICAgICB9KTsKCiAgICAgICAgICBpZiAoIWlzU3VjY2VzcykgewogICAgICAgICAgICBlLnRhcmdldC52YWx1ZSA9IHRoaXMudGFibGVEYXRhW3Byb3BlcnR5TmFtZV0udmFsdWU7CiAgICAgICAgICB9CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIGUudGFyZ2V0LnZhbHVlID0gdGhpcy50YWJsZURhdGFbcHJvcGVydHlOYW1lXS52YWx1ZTsKICAgICAgICAgIEV2ZW50QnVzLiRlbWl0KCdzaG93RXJyb3JQb3B1cCcsIHRydWUsICdpbnZhbGlkJywgYENvdWxkIG5vdCBzZXQgdGhlICR7cHJvcGVydHlOYW1lfSBwcm9wZXJ0eS4gSW52YWxpZCBwcm9wZXJ0eSB2YWx1ZS4gRW50ZXIgYSB2YWx1ZSBncmVhdGVyIHRoYW4gb3IgZXF1YWwgdG8gemVyby5gKTsKICAgICAgICB9CiAgICAgIH0gZWxzZSBpZiAocHJvcGVydHlOYW1lID09PSAnSW5kZXgnKSB7CiAgICAgICAgaWYgKHRoaXMuaXNEZWNpbWFsTnVtYmVyKHByb3BlcnR5VmFsdWUpKSB7CiAgICAgICAgICBlLnRhcmdldC52YWx1ZSA9IHRoaXMudGFibGVEYXRhW3Byb3BlcnR5TmFtZV0udmFsdWU7CiAgICAgICAgfSBlbHNlIGlmICh2YWx1ZSA8IDApIHsKICAgICAgICAgIGUudGFyZ2V0LnZhbHVlID0gdGhpcy50YWJsZURhdGFbcHJvcGVydHlOYW1lXS52YWx1ZTsKICAgICAgICAgIEV2ZW50QnVzLiRlbWl0KCdzaG93RXJyb3JQb3B1cCcsIHRydWUsICdpbnZhbGlkJywgYENvdWxkIG5vdCBzZXQgdGhlICR7cHJvcGVydHlOYW1lfSBwcm9wZXJ0eS4gSW52YWxpZCBwcm9wZXJ0eSB2YWx1ZS4gRW50ZXIgYSB2YWx1ZSBiZXR3ZWVuIDAgYW5kIDMyNzY3YCk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIGNvbnN0IGlzU3VjY2VzcyA9IHRoaXMudXBkYXRlUHJvcGVydHkoewogICAgICAgICAgICBwcm9wZXJ0eU5hbWU6IHByb3BlcnR5TmFtZSwKICAgICAgICAgICAgdmFsdWU6IHByb3BlcnR5VmFsdWUKICAgICAgICAgIH0pOwoKICAgICAgICAgIGlmICghaXNTdWNjZXNzKSB7CiAgICAgICAgICAgIGUudGFyZ2V0LnZhbHVlID0gdGhpcy50YWJsZURhdGEuSW5kZXgudmFsdWU7CiAgICAgICAgICAgIEV2ZW50QnVzLiRlbWl0KCdzaG93RXJyb3JQb3B1cCcsIHRydWUsICdpbnZhbGlkJywgYENvdWxkIG5vdCBzZXQgdGhlICR7cHJvcGVydHlOYW1lfSBwcm9wZXJ0eS4gSW52YWxpZCBwcm9wZXJ0eSB2YWx1ZS5gKTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0gZWxzZSBpZiAocHJvcGVydHlOYW1lID09PSAnRGVsYXknKSB7CiAgICAgICAgaWYgKHRoaXMuaXNEZWNpbWFsTnVtYmVyKHByb3BlcnR5VmFsdWUpKSB7CiAgICAgICAgICBlLnRhcmdldC52YWx1ZSA9IHRoaXMudGFibGVEYXRhW3Byb3BlcnR5TmFtZV0udmFsdWU7CiAgICAgICAgfSBlbHNlIGlmIChjaGVja1Byb3BlcnR5VmFsdWUocHJvcGVydHlOYW1lLCBwcm9wZXJ0eVZhbHVlKSkgewogICAgICAgICAgdGhpcy5lbWl0VXBkYXRlUHJvcGVydHkocHJvcGVydHlOYW1lLCB2YWx1ZSk7CiAgICAgICAgfSBlbHNlIGlmICh2YWx1ZSA8IDApIHsKICAgICAgICAgIGUudGFyZ2V0LnZhbHVlID0gdGhpcy50YWJsZURhdGFbcHJvcGVydHlOYW1lXS52YWx1ZTsKICAgICAgICAgIEV2ZW50QnVzLiRlbWl0KCdzaG93RXJyb3JQb3B1cCcsIHRydWUsICdpbnZhbGlkJywgYENvdWxkIG5vdCBzZXQgdGhlICR7cHJvcGVydHlOYW1lfSBwcm9wZXJ0eS4gSW52YWxpZCBwcm9wZXJ0eSB2YWx1ZS4gRW50ZXIgYSB2YWx1ZSBncmVhdGVyIHRoYW4gb3IgZXF1YWwgdG8gemVyby5gKTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgZS50YXJnZXQudmFsdWUgPSB0aGlzLnRhYmxlRGF0YVtwcm9wZXJ0eU5hbWVdLnZhbHVlOwogICAgICAgICAgRXZlbnRCdXMuJGVtaXQoJ3Nob3dFcnJvclBvcHVwJywgdHJ1ZSwgJ2ludmFsaWQnLCBgSW52YWxpZCBwcm9wZXJ0eSB2YWx1ZS5gKTsKICAgICAgICB9CiAgICAgIH0gZWxzZSBpZiAocHJvcGVydHlOYW1lID09PSAnWm9vbScpIHsKICAgICAgICBpZiAodGhpcy5pc0RlY2ltYWxOdW1iZXIocHJvcGVydHlWYWx1ZSkpIHsKICAgICAgICAgIGUudGFyZ2V0LnZhbHVlID0gdGhpcy50YWJsZURhdGFbcHJvcGVydHlOYW1lXS52YWx1ZTsKICAgICAgICB9IGVsc2UgaWYgKGNoZWNrUHJvcGVydHlWYWx1ZShwcm9wZXJ0eU5hbWUsIHByb3BlcnR5VmFsdWUpKSB7CiAgICAgICAgICB0aGlzLmVtaXRVcGRhdGVQcm9wZXJ0eShwcm9wZXJ0eU5hbWUsIHZhbHVlKTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgZS50YXJnZXQudmFsdWUgPSB0aGlzLnRhYmxlRGF0YVtwcm9wZXJ0eU5hbWVdLnZhbHVlOwogICAgICAgICAgRXZlbnRCdXMuJGVtaXQoJ3Nob3dFcnJvclBvcHVwJywgdHJ1ZSwgJ2ludmFsaWQnLCBgQ291bGQgbm90IHNldCB0aGUgJHtwcm9wZXJ0eU5hbWV9IHByb3BlcnR5LiBJbnZhbGlkIHByb3BlcnR5IHZhbHVlLiBFbnRlciBhIHZhbHVlIGJldHdlZW4gMTAgYW5kIDQwMC5gKTsKICAgICAgICB9CiAgICAgIH0gZWxzZSBpZiAocHJvcGVydHlOYW1lID09PSAnRHJhd0J1ZmZlcicpIHsKICAgICAgICBpZiAodGhpcy5pc0RlY2ltYWxOdW1iZXIocHJvcGVydHlWYWx1ZSkpIHsKICAgICAgICAgIGUudGFyZ2V0LnZhbHVlID0gdGhpcy50YWJsZURhdGFbcHJvcGVydHlOYW1lXS52YWx1ZTsKICAgICAgICB9IGVsc2UgaWYgKGNoZWNrUHJvcGVydHlWYWx1ZShwcm9wZXJ0eU5hbWUsIHByb3BlcnR5VmFsdWUpKSB7CiAgICAgICAgICB0aGlzLmVtaXRVcGRhdGVQcm9wZXJ0eShwcm9wZXJ0eU5hbWUsIHZhbHVlKTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgZS50YXJnZXQudmFsdWUgPSB0aGlzLnRhYmxlRGF0YVtwcm9wZXJ0eU5hbWVdLnZhbHVlOwogICAgICAgICAgRXZlbnRCdXMuJGVtaXQoJ3Nob3dFcnJvclBvcHVwJywgdHJ1ZSwgJ2ludmFsaWQnLCBgQ291bGQgbm90IHNldCB0aGUgJHtwcm9wZXJ0eU5hbWV9IHByb3BlcnR5LiBJbnZhbGlkIHByb3BlcnR5IHZhbHVlLiBFbnRlciBhIHZhbHVlIGJldHdlZW4gMTYwMDAgYW5kIDEwNDg1NzYuYCk7CiAgICAgICAgfQogICAgICB9IGVsc2UgaWYgKHByb3BlcnR5TmFtZSA9PT0gJ1RyYW5zaXRpb25QZXJpb2QnKSB7CiAgICAgICAgaWYgKHRoaXMuaXNEZWNpbWFsTnVtYmVyKHByb3BlcnR5VmFsdWUpKSB7CiAgICAgICAgICBlLnRhcmdldC52YWx1ZSA9IHRoaXMudGFibGVEYXRhW3Byb3BlcnR5TmFtZV0udmFsdWU7CiAgICAgICAgfSBlbHNlIGlmIChjaGVja1Byb3BlcnR5VmFsdWUocHJvcGVydHlOYW1lLCBwcm9wZXJ0eVZhbHVlKSkgewogICAgICAgICAgdGhpcy5lbWl0VXBkYXRlUHJvcGVydHkocHJvcGVydHlOYW1lLCB2YWx1ZSk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIGUudGFyZ2V0LnZhbHVlID0gdGhpcy50YWJsZURhdGFbcHJvcGVydHlOYW1lXS52YWx1ZTsKICAgICAgICAgIEV2ZW50QnVzLiRlbWl0KCdzaG93RXJyb3JQb3B1cCcsIHRydWUsICdpbnZhbGlkJywgYENvdWxkIG5vdCBzZXQgdGhlICR7cHJvcGVydHlOYW1lfSBwcm9wZXJ0eS4gSW52YWxpZCBwcm9wZXJ0eSB2YWx1ZS4gRW50ZXIgYSB2YWx1ZSBiZXR3ZWVuIDAgYW5kIDEwMDAwLmApOwogICAgICAgIH0KICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLmVtaXRVcGRhdGVQcm9wZXJ0eShwcm9wZXJ0eU5hbWUsIHZhbHVlKTsKICAgICAgfQogICAgfSBlbHNlIGlmIChpbnB1dFR5cGUgPT09ICdCb29sZWFuJykgewogICAgICBpZiAoKHByb3BlcnR5TmFtZSA9PT0gJ0NhbmNlbCcgfHwgcHJvcGVydHlOYW1lID09PSAnRGVmYXVsdCcpICYmIGUudGFyZ2V0LnZhbHVlID09PSAndHJ1ZScpIHsKICAgICAgICB0aGlzLnVwZGF0ZVByb3BlcnR5KHsKICAgICAgICAgIHByb3BlcnR5TmFtZTogcHJvcGVydHlOYW1lLAogICAgICAgICAgdmFsdWU6IHRydWUKICAgICAgICB9KTsKICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLmVtaXRVcGRhdGVQcm9wZXJ0eShwcm9wZXJ0eU5hbWUsIGUudGFyZ2V0LnZhbHVlID09PSAndHJ1ZScpOwogICAgICB9CiAgICB9IGVsc2UgaWYgKGlucHV0VHlwZSA9PT0gJ2FycmF5JykgewogICAgICBpZiAoZS50YXJnZXQudmFsdWUgIT09ICcnKSB7CiAgICAgICAgaWYgKHByb3BlcnR5TmFtZSA9PT0gJ0JvcmRlclN0eWxlJyAmJiBwcm9wZXJ0eVZhbHVlID09PSAnMScpIHsKICAgICAgICAgIHRoaXMuZW1pdFVwZGF0ZVByb3BlcnR5KHByb3BlcnR5TmFtZSwgcGFyc2VJbnQoZS50YXJnZXQudmFsdWUpKTsKICAgICAgICAgIHRoaXMuZW1pdFVwZGF0ZVByb3BlcnR5KCdTcGVjaWFsRWZmZWN0JywgMCk7CiAgICAgICAgfSBlbHNlIGlmIChwcm9wZXJ0eU5hbWUgPT09ICdTcGVjaWFsRWZmZWN0JyAmJiBwYXJzZUludChwcm9wZXJ0eVZhbHVlKSA+IDApIHsKICAgICAgICAgIHRoaXMuZW1pdFVwZGF0ZVByb3BlcnR5KHByb3BlcnR5TmFtZSwgcGFyc2VJbnQoZS50YXJnZXQudmFsdWUpKTsKICAgICAgICAgIHRoaXMuZW1pdFVwZGF0ZVByb3BlcnR5KCdCb3JkZXJTdHlsZScsIDApOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICB0aGlzLmVtaXRVcGRhdGVQcm9wZXJ0eShwcm9wZXJ0eU5hbWUsIHBhcnNlSW50KGUudGFyZ2V0LnZhbHVlKSk7CiAgICAgICAgfQogICAgICB9CiAgICB9CiAgfQoKICB1cGRhdGVNdWx0aVNlbGVjdFByb3BWYWx1ZShwcm9wZXJ0eU5hbWUsIHZhbHVlKSB7CiAgICBjb25zdCBzZWxlY3RlZCA9IHRoaXMuZ2V0U2VsZWN0ZWRDb250cm9sc0RhdGFzOwoKICAgIGZvciAobGV0IGkgPSAwOyBpIDwgc2VsZWN0ZWQubGVuZ3RoOyBpKyspIHsKICAgICAgdGhpcy51cGRhdGVQcm9wVmFsdWUoc2VsZWN0ZWRbaV0sIHByb3BlcnR5TmFtZSwgdmFsdWUpOwogICAgfQogIH0KCiAgdmFsaWRhdGVNdWx0aXBsZVZhbHVlUHJvcGVydHkoYXJnKSB7CiAgICBkZWJ1Z2dlcjsKICAgIGNvbnN0IHNlbGVjdGVkID0gdGhpcy5nZXRTZWxlY3RlZENvbnRyb2xzRGF0YXM7CiAgICBsZXQgaXNWYWxpZCA9IHRydWU7CgogICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzZWxlY3RlZC5sZW5ndGg7IGkrKykgewogICAgICBjb25zdCB0eXBlID0gdGhpcy51c2VyZm9ybURhdGFbdGhpcy51c2VyRm9ybUlkXVtzZWxlY3RlZFtpXV0udHlwZTsKCiAgICAgIGlmICh0eXBlID09PSAnU2Nyb2xsQmFyJyB8fCB0eXBlID09PSAnU3BpbkJ1dHRvbicpIHsKICAgICAgICBpc1ZhbGlkID0gdGhpcy5jaGVja1ZhbHVlUmFuZ2VNaW5NYXgoc2VsZWN0ZWRbaV0sIGFyZy52YWx1ZSk7CiAgICAgIH0gZWxzZSBpZiAodHlwZSA9PT0gJ011bHRpUGFnZScgfHwgdHlwZSA9PT0gJ1RhYlN0cmlwJykgewogICAgICAgIGlmIChhcmcudmFsdWUgPCAtMSB8fCB0eXBlID09PSAnVGFiU3RyaXAnICYmIGFyZy52YWx1ZSA+PSB0aGlzLnVzZXJmb3JtRGF0YVt0aGlzLnVzZXJGb3JtSWRdW3NlbGVjdGVkW2ldXS5leHRyYURhdGFzLlRhYnMubGVuZ3RoIHx8IHR5cGUgPT09ICdNdWx0aVBhZ2UnICYmIGFyZy52YWx1ZSA+PSB0aGlzLnVzZXJmb3JtRGF0YVt0aGlzLnVzZXJGb3JtSWRdW3NlbGVjdGVkW2ldXS5jb250cm9scy5sZW5ndGgpIHsKICAgICAgICAgIGlzVmFsaWQgPSBmYWxzZTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgaXNWYWxpZCA9IHRydWU7CiAgICAgICAgfQogICAgICB9CgogICAgICBpZiAoIWlzVmFsaWQpIHsKICAgICAgICByZXR1cm4gaXNWYWxpZDsKICAgICAgfQogICAgfQoKICAgIHJldHVybiBpc1ZhbGlkOwogIH0KCiAgaXNEZWNpbWFsTnVtYmVyKHByb3BWYWx1ZSkgewogICAgaWYgKHByb3BWYWx1ZS5pbmRleE9mKCcuJykgPiAtMSkgewogICAgICBFdmVudEJ1cy4kZW1pdCgnc2hvd0Vycm9yUG9wdXAnLCB0cnVlLCAnaW52YWxpZCcsIGBJbnZhbGlkIHByb3BlcnR5IHZhbHVlLmApOwogICAgICByZXR1cm4gdHJ1ZTsKICAgIH0KCiAgICByZXR1cm4gZmFsc2U7CiAgfQoKICBoYW5kbGVDb252ZXJ0aW9uSW1hZ2VUb0Jhc2U2NChlKSB7CiAgICBsZXQgdGhhdCA9IHRoaXM7CiAgICBjb25zdCByZWFkZXIgPSBuZXcgRmlsZVJlYWRlcigpOwogICAgY29uc3QgZmlsZUlucHV0ID0gZS50YXJnZXQ7CiAgICBjb25zdCBmaWxlUGF0aCA9IGZpbGVJbnB1dC52YWx1ZTsKICAgIGxldCBhbGxvd2VkRXh0ZW5zaW9uczsKICAgIGxldCB0eXBlTWlzbWF0Y2hFeHRlbnNpb25zOyAvLyBBbGxvd2VkIGZpbGUgdHlwZQoKICAgIGlmIChmaWxlSW5wdXQubmFtZSA9PT0gJ1BpY3R1cmUnKSB7CiAgICAgIGFsbG93ZWRFeHRlbnNpb25zID0gLyhcLmpwZ3xcLmpwZWd8XC5ibXB8XC5pY298XC5naWYpJC9pOwogICAgICB0eXBlTWlzbWF0Y2hFeHRlbnNpb25zID0gLyhcLmpwZ3xcLmpwZWd8XC5ibXB8XC5pY298XC5naWYpJC9pOwogICAgfSBlbHNlIHsKICAgICAgYWxsb3dlZEV4dGVuc2lvbnMgPSAvKFwuYm1wfFwuaWNvKSQvaTsKICAgICAgdHlwZU1pc21hdGNoRXh0ZW5zaW9ucyA9IC8oXC5ibXB8XC5pY298XC5naWYpJC9pOwogICAgfQoKICAgIGlmICghYWxsb3dlZEV4dGVuc2lvbnMuZXhlYyhmaWxlUGF0aCkpIHsKICAgICAgZmlsZUlucHV0LnZhbHVlID0gJyc7CgogICAgICBpZiAodHlwZU1pc21hdGNoRXh0ZW5zaW9ucy5leGVjKGZpbGVQYXRoKSkgewogICAgICAgIEV2ZW50QnVzLiRlbWl0KCdzaG93RXJyb3JQb3B1cCcsIHRydWUsICdpbnZhbGlkJywgYENvdWxkIG5vdCBzZXQgdGhlICR7ZmlsZUlucHV0Lm5hbWV9IHByb3BlcnR5LiBUaGUgcGljdHVyZSB0eXBlIGlzIG5vdCB2YWxpZC5gKTsKICAgICAgfSBlbHNlIHsKICAgICAgICBFdmVudEJ1cy4kZW1pdCgnc2hvd0Vycm9yUG9wdXAnLCB0cnVlLCAnaW52YWxpZCcsICdJbnZhbGlkIFBpY3R1cmUnKTsKICAgICAgfQoKICAgICAgcmV0dXJuIGZhbHNlOwogICAgfSBlbHNlIHsKICAgICAgaWYgKGZpbGVJbnB1dC5maWxlcyAmJiBmaWxlSW5wdXQuZmlsZXNbMF0pIHsKICAgICAgICByZWFkZXIub25sb2FkID0gZnVuY3Rpb24gKGUpIHsKICAgICAgICAgIHRoYXQuZW1pdFVwZGF0ZVByb3BlcnR5KGZpbGVJbnB1dC5uYW1lLCByZWFkZXIucmVzdWx0KTsKICAgICAgICB9OwoKICAgICAgICByZWFkZXIucmVhZEFzRGF0YVVSTChmaWxlSW5wdXQuZmlsZXNbMF0pOwogICAgICB9CiAgICB9CiAgfQoKICBlbWl0Rm9udCh0ZW1wVmFsKSB7CiAgICB0aGlzLmVtaXRVcGRhdGVQcm9wZXJ0eSgnRm9udCcsIHRlbXBWYWwpOwogIH0KCiAgY29sb3JQYWxldHRlUHJvcChzZWxlY3RlZFZhbHVlKSB7CiAgICB0aGlzLmVtaXRVcGRhdGVQcm9wZXJ0eShzZWxlY3RlZFZhbHVlLnByb3BlcnR5TmFtZSwgc2VsZWN0ZWRWYWx1ZS5wcm9wZXJ0eVZhbHVlKTsKICB9Cgp9OwoKX19kZWNvcmF0ZShbUHJvcCh7CiAgdHlwZTogT2JqZWN0LAogIHJlcXVpcmVkOiB0cnVlCn0pXSwgRkRUYWJsZS5wcm90b3R5cGUsICJ0YWJsZURhdGEiLCB2b2lkIDApOwoKX19kZWNvcmF0ZShbU3RhdGUoc3RhdGUgPT4gc3RhdGUuZmQudXNlcmZvcm1EYXRhKV0sIEZEVGFibGUucHJvdG90eXBlLCAidXNlcmZvcm1EYXRhIiwgdm9pZCAwKTsKCl9fZGVjb3JhdGUoW1Byb3AoewogIHJlcXVpcmVkOiB0cnVlLAogIHR5cGU6IFN0cmluZwp9KV0sIEZEVGFibGUucHJvdG90eXBlLCAidXNlckZvcm1JZCIsIHZvaWQgMCk7CgpfX2RlY29yYXRlKFtQcm9wKHsKICByZXF1aXJlZDogdHJ1ZQp9KV0sIEZEVGFibGUucHJvdG90eXBlLCAiZ2V0U2VsZWN0ZWRDb250cm9sc0RhdGFzIiwgdm9pZCAwKTsKCl9fZGVjb3JhdGUoW1Byb3AoKV0sIEZEVGFibGUucHJvdG90eXBlLCAicmVzdWx0QXJyYXkiLCB2b2lkIDApOwoKX19kZWNvcmF0ZShbQWN0aW9uKCdmZC91cGRhdGVDb250cm9sJyldLCBGRFRhYmxlLnByb3RvdHlwZSwgInVwZGF0ZUNvbnRyb2wiLCB2b2lkIDApOwoKX19kZWNvcmF0ZShbQWN0aW9uKCdmZC91cGRhdGVDb250cm9sRXh0cmFEYXRhJyldLCBGRFRhYmxlLnByb3RvdHlwZSwgInVwZGF0ZUNvbnRyb2xFeHRyYURhdGEiLCB2b2lkIDApOwoKX19kZWNvcmF0ZShbQWN0aW9uKCdmZC9zZXRDaGlsZENvbnRyb2xzJyldLCBGRFRhYmxlLnByb3RvdHlwZSwgInNldENoaWxkQ29udHJvbHMiLCB2b2lkIDApOwoKX19kZWNvcmF0ZShbU3RhdGUoc3RhdGUgPT4gc3RhdGUuZmQuc2VsZWN0ZWRDb250cm9scyldLCBGRFRhYmxlLnByb3RvdHlwZSwgInNlbGVjdGVkQ29udHJvbHMiLCB2b2lkIDApOwoKRkRUYWJsZSA9IF9fZGVjb3JhdGUoW0NvbXBvbmVudCh7CiAgbmFtZTogJ0ZEVGFibGUnLAogIGNvbXBvbmVudHM6IHsKICAgIEZEVGFibGVJdGVtcwogIH0KfSldLCBGRFRhYmxlKTsKZXhwb3J0IGRlZmF1bHQgRkRUYWJsZTs="},{"version":3,"sources":["/home/mobiotics/Projects/hancom/FormcontrolLatest/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/mobiotics/Projects/hancom/FormcontrolLatest/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/mobiotics/Projects/hancom/FormcontrolLatest/src/FormDesigner/components/organisms/FDTable/index.vue?vue&type=script&lang=ts&"],"names":[],"mappings":"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","sourcesContent":["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\r\nimport { Component, Prop, Vue, Emit } from 'vue-property-decorator'\r\nimport { State, Action } from 'vuex-class'\r\nimport FDTableItems from '../../molecules/FDTableItems/index.vue'\r\nimport { IselectControl, IsetChildControls, IupdateControl, IupdateControlExtraData, IupdatedSelectedControl } from '@/storeModules/fd/actions'\r\nimport { EventBus } from '@/FormDesigner/event-bus'\r\nimport { checkPropertyValue } from '@/storeModules/fd/checkValidation'\r\n\r\ninterface IPropControl {\r\n  propertyName: keyof controlProperties\r\n  value : any\r\n}\r\n\r\n@Component({\r\n  name: 'FDTable',\r\n  components: {\r\n    FDTableItems\r\n  }\r\n})\r\nexport default class FDTable extends Vue {\r\n  @Prop({ type: Object, required: true }) tableData!: tableDatas;\r\n  @State((state) => state.fd.userformData) userformData!: userformData;\r\n  @Prop({ required: true, type: String }) public readonly userFormId! : string\r\n  @Prop({ required: true }) public readonly getSelectedControlsDatas: any\r\n  @Prop() resultArray: boolean[]\r\n  @Action('fd/updateControl') updateControl!: (payload: IupdateControl) => void;\r\n  @Action('fd/updateControlExtraData') updateControlExtraData!: (\r\n    payload: IupdateControlExtraData\r\n  ) => void;\r\n  @Action('fd/setChildControls') setChildControls!: (\r\n    payload: IsetChildControls\r\n  ) => void;\r\n  @State((state) => state.fd.selectedControls) selectedControls!: fdState['selectedControls'];\r\n\r\n  emitUpdateProperty (\r\n    propertyName: keyof controlProperties,\r\n    value: any\r\n  ) {\r\n    this.updateProperty({ propertyName: propertyName, value: value })\r\n  }\r\n\r\n  emitUpdateExtraProperty (\r\n    propertyName: keyof controlProperties,\r\n    value: any\r\n  ) {\r\n    this.updateProperty({ propertyName: propertyName, value: value })\r\n  }\r\n  updatePageIndex (propValue: number) {\r\n    const userData = this.userformData[this.userFormId]\r\n    const selected = this.selectedControls[this.userFormId].selected[0]\r\n    const swapTabIndex = userData[selected].properties.Index!\r\n    const container = this.selectedControls[this.userFormId].container[0]\r\n\r\n    if (propValue < userData[container].controls.length) {\r\n      const index = userData[container].controls.findIndex(val => userData[val].properties.Index === propValue)\r\n      this.updatePropValue(userData[container].controls[index], 'Index', swapTabIndex)\r\n      this.updatePropValue(selected, 'Index', propValue)\r\n      const controls = userData[container].controls\r\n      controls.sort((a, b) => {\r\n        return userData[a].properties.Index! - userData[b].properties.Index!\r\n      })\r\n      this.setChildControls({\r\n        userFormId: this.userFormId,\r\n        containerId: container,\r\n        targetControls: controls\r\n      })\r\n      return true\r\n    } else {\r\n      return false\r\n    }\r\n  }\r\n  getLowestIndex (tempControls: string[], controlLength: number, propertyType: boolean) {\r\n    let lastControlId = controlLength\r\n    const userData = this.userformData[this.userFormId]\r\n    for (let i = 0; i < tempControls.length; i++) {\r\n      const propetyName = propertyType ? userData[tempControls[i]].extraDatas!.zIndex! : userData[tempControls[i]].extraDatas!.TabIndex!\r\n      if (propetyName !== -1) {\r\n        const IdNum = propetyName\r\n        if (!isNaN(IdNum) && lastControlId > IdNum) {\r\n          lastControlId = IdNum\r\n        }\r\n      }\r\n    }\r\n    return lastControlId\r\n  }\r\n  swapTabIndex (tempZIndex: number) {\r\n    const userData = this.userformData[this.userFormId]\r\n    const container = this.selectedControls[this.userFormId].container[0]\r\n    const selected = this.selectedControls[this.userFormId].selected[0]\r\n    const swapTabIndex = userData[selected].properties!.TabIndex!\r\n    if (tempZIndex <= userData[container].controls.length - 1 && tempZIndex > -1) {\r\n      const index = userData[container].controls.findIndex(\r\n        (val) => userData[val].properties!.TabIndex === tempZIndex\r\n      )\r\n      this.updatePropValue(userData[container].controls[index], 'TabIndex', swapTabIndex)\r\n      this.updatePropValue(selected, 'TabIndex', tempZIndex)\r\n    }\r\n  }\r\n  updateTabIndexValue (val: number) {\r\n    const userData = this.userformData[this.userFormId]\r\n    const container = this.selectedControls[this.userFormId].container[0]\r\n    const selected = this.selectedControls[this.userFormId].selected[0]\r\n    const containerControls = this.userformData[this.userFormId][container].controls\r\n    const controlType = userData[selected].type\r\n    if (controlType !== 'FDImage') {\r\n      const tempControls = []\r\n      for (const index in containerControls) {\r\n        const cntrlData = this.userformData[this.userFormId][containerControls[index]]\r\n        if (cntrlData.type === 'FDImage') {\r\n          tempControls.push(containerControls[index])\r\n        }\r\n      }\r\n      const lastControlId = tempControls.length > 0 ? this.getLowestIndex(tempControls, userData[container].controls.length - 1, false)\r\n        : this.userformData[this.userFormId][container].controls.length - 1\r\n      if (val <= lastControlId) {\r\n        this.swapTabIndex(val)\r\n        return true\r\n      } else {\r\n        return false\r\n      }\r\n    }\r\n  }\r\n\r\n  updateExtraProperty (arg: IupdateControlExtraData) {\r\n    const selected = this.getSelectedControlsDatas!\r\n    for (let i = 0; i < selected.length; i++) {\r\n      this.updateControlExtraData({\r\n        userFormId: this.userFormId,\r\n        controlId: selected[i],\r\n        propertyName: arg.propertyName,\r\n        value: arg.value\r\n      })\r\n    }\r\n  }\r\n  updateProperty (arg: IPropControl) {\r\n    const selected = this.getSelectedControlsDatas!\r\n    for (let i = 0; i < selected.length; i++) {\r\n      if (arg.propertyName === 'TabIndex') {\r\n        return this.updateTabIndexValue(parseInt(arg.value))\r\n      } else if (arg.propertyName === 'Index') {\r\n        return this.updatePageIndex(parseInt(arg.value))\r\n      } else if (arg.propertyName === 'Name') {\r\n        return this.updateName(selected[i], arg.value)\r\n      } else if (arg.propertyName === 'Value' && (this.userformData[this.userFormId][selected[i]].type === 'SpinButton' || this.userformData[this.userFormId][selected[i]].type === 'ScrollBar')) {\r\n        return this.updateSpinButtonScrollBarValueProp(selected[i], arg.value)\r\n      } else if (arg.propertyName === 'Value' && (this.userformData[this.userFormId][selected[i]].type === 'OptionButton') &&\r\n      (this.userformData[this.userFormId][selected[i]].properties.GroupName !== '') && arg.value === 'True') {\r\n        const groupName = this.userformData[this.userFormId][selected[i]].properties.GroupName!\r\n        this.updateValueForCommonGroupName(selected[i], arg.value, groupName)\r\n      } else if (arg.propertyName === 'Min' || arg.propertyName === 'Max') {\r\n        this.updatePropValue(selected[i], arg.propertyName, arg.value)\r\n        this.validateValueProperty(selected[i], arg.value)\r\n      } else if (arg.propertyName === 'Cancel' || arg.propertyName === 'Default') {\r\n        this.validateCancelDefaultProp(selected[i], arg.propertyName, arg.value)\r\n      } else {\r\n        this.updatePropValue(selected[i], arg.propertyName, arg.value)\r\n      }\r\n    }\r\n  }\r\n\r\n  updateValueProperty (arg: IPropControl) {\r\n    const selected = this.getSelectedControlsDatas!\r\n    let isValid: boolean = true\r\n    for (let i = 0; i < selected.length; i++) {\r\n      const type = this.userformData[this.userFormId][selected[i]].type\r\n      if (type === 'ListBox') {\r\n        isValid = this.validateTextValueProperty(arg.value, arg.propertyName, selected[i])\r\n      }\r\n    }\r\n    if (isValid) {\r\n      this.emitUpdateProperty(arg.propertyName, arg.value)\r\n    }\r\n    return isValid\r\n  }\r\n  updatePropValue (id: string, propName: keyof controlProperties, propValue: any) {\r\n    this.updateControl({\r\n      userFormId: this.userFormId,\r\n      controlId: id,\r\n      propertyName: propName,\r\n      value: propValue\r\n    })\r\n  }\r\n  updateValueForCommonGroupName (id: string, value: string, groupName: string) {\r\n    const userData = Object.keys(this.userformData[this.userFormId])\r\n    this.updatePropValue(id, 'Value', 'True')\r\n    for (let i = 0; i < userData.length; i++) {\r\n      const controlData = this.userformData[this.userFormId][userData[i]]\r\n      if (controlData.type === 'OptionButton' && controlData.properties.GroupName === groupName && controlData.properties.ID !== id) {\r\n        this.updatePropValue(controlData.properties.ID, 'Value', 'False')\r\n      }\r\n    }\r\n  }\r\n  validateValueProperty (id: string, value: number) {\r\n    let actualValue = this.userformData[this.userFormId][id].properties.Value! as number\r\n    if (!this.checkValueRangeMinMax(id, actualValue)) {\r\n      this.updatePropValue(id, 'Value', value)\r\n    }\r\n  }\r\n  updateSpinButtonScrollBarValueProp (id: string, value: number) {\r\n    if (this.checkValueRangeMinMax(id, value)) {\r\n      this.updatePropValue(id, 'Value', value)\r\n      return true\r\n    }\r\n    return false\r\n  }\r\n  validateCancelDefaultProp (id: string, propName: keyof controlProperties, value: boolean) {\r\n    const userFormControls = Object.keys(this.userformData[this.userFormId])\r\n    for (let controlId of userFormControls) {\r\n      if (this.userformData[this.userFormId][controlId].type === 'CommandButton') {\r\n        if (controlId === id) {\r\n          this.updatePropValue(id, propName, value)\r\n        } else {\r\n          this.updatePropValue(controlId, propName, false)\r\n        }\r\n      }\r\n    }\r\n  }\r\n  checkValueRangeMinMax (id: string, value: number) {\r\n    let maxValue = this.userformData[this.userFormId][id].properties.Max!\r\n    let minValue = this.userformData[this.userFormId][id].properties.Min!\r\n    let min = Math.min(minValue, maxValue)\r\n    let max = Math.max(minValue, maxValue)\r\n    if (value >= min && value <= max) {\r\n      return true\r\n    } else {\r\n      return false\r\n    }\r\n  }\r\n  updateName (id: string, value: string) {\r\n    let userData\r\n    let isUnique\r\n    if (this.userformData[this.userFormId][id].type === 'Userform') {\r\n      userData = Object.keys(this.userformData)\r\n      isUnique = userData.findIndex(val => this.userformData[val][val].properties.Name === value && val !== id)\r\n    } else {\r\n      userData = Object.keys(this.userformData[this.userFormId])\r\n      isUnique = userData.findIndex(val => this.userformData[this.userFormId][val].properties.Name === value && val !== id)\r\n    }\r\n    if (isUnique === -1 && value !== '') {\r\n      this.updatePropValue(id, 'Name', value)\r\n      return true\r\n    } else {\r\n      return false\r\n    }\r\n  }\r\n  validateValuePropertyChboxOpbtnTglbtn (propertyName : keyof controlProperties, propertyValue : string) : string {\r\n    let resultValue = ''\r\n    if (!isNaN(parseInt(propertyValue))) {\r\n      if (parseInt(propertyValue) === 0) {\r\n        this.emitUpdateProperty(propertyName, 'False')\r\n        resultValue = 'False'\r\n      } else {\r\n        this.emitUpdateProperty(propertyName, 'True')\r\n        resultValue = 'True'\r\n      }\r\n    } else if (propertyValue.toLowerCase() === 'true') {\r\n      this.emitUpdateProperty(propertyName, 'True')\r\n      resultValue = 'True'\r\n    } else if (propertyValue.toLowerCase() === 'false') {\r\n      this.emitUpdateProperty(propertyName, 'False')\r\n      resultValue = 'False'\r\n    } else {\r\n      this.emitUpdateProperty(propertyName, '')\r\n      resultValue = ''\r\n    }\r\n    return resultValue\r\n  }\r\n  validateControlSourceProperty (propertyValue : string) {\r\n    // should validate the propertyValue\r\n    return true\r\n  }\r\n  validateRowSourceProperty (propertyValue : string) {\r\n    // should validate the propertyValue\r\n    return true\r\n  }\r\n  validateTextValueProperty (propertyValue : string, propertyName: string, controlId: string) {\r\n    const controlData = this.userformData[this.userFormId][controlId]\r\n    const rowSourceData = controlData.extraDatas!.RowSourceData!\r\n    const boundColumn = propertyName === 'Value' ? controlData.properties.BoundColumn! : 1\r\n    if (boundColumn <= 0 || boundColumn > rowSourceData[0].length) {\r\n      return false\r\n    }\r\n    for (let i = 0; i < rowSourceData.length; i++) {\r\n      if (propertyValue === rowSourceData[i][boundColumn - 1]) {\r\n        return true\r\n      }\r\n    }\r\n    return false\r\n  }\r\n  validateColumnWidths (propertyName : keyof controlProperties, propertyValue : string) :string {\r\n    if (propertyValue === '') {\r\n      return ''\r\n    }\r\n    const initialColWidths = propertyValue.split(';')\r\n    let validPropertyValue: boolean = false\r\n    initialColWidths.forEach(element => {\r\n      for (let index = 0; index < element.length; index++) {\r\n        if (element.includes('in')) {\r\n          if ((element.charCodeAt(index) > 47 && element.charCodeAt(index) < 58) || (element.charCodeAt(index) === 73 || element.charCodeAt(index) === 105 || element.charCodeAt(index) === 32) || (element.charCodeAt(index) === 78 || element.charCodeAt(index) === 110 || element.charCodeAt(index) === 32)) {\r\n            validPropertyValue = true\r\n          } else {\r\n            validPropertyValue = false\r\n            break\r\n          }\r\n        } else if (element.includes('cm')) {\r\n          if ((element.charCodeAt(index) > 47 && element.charCodeAt(index) < 58) || (element.charCodeAt(index) === 67 || element.charCodeAt(index) === 99 || element.charCodeAt(index) === 32) || (element.charCodeAt(index) === 77 || element.charCodeAt(index) === 109 || element.charCodeAt(index) === 32)) {\r\n            validPropertyValue = true\r\n          } else {\r\n            validPropertyValue = false\r\n            break\r\n          }\r\n        } else if (element.includes('pt')) {\r\n          if ((element.charCodeAt(index) > 47 && element.charCodeAt(index) < 58) || (element.charCodeAt(index) === 80 || element.charCodeAt(index) === 112 || element.charCodeAt(index) === 32) || (element.charCodeAt(index) === 84 || element.charCodeAt(index) === 116 || element.charCodeAt(index) === 32)) {\r\n            validPropertyValue = true\r\n          } else {\r\n            validPropertyValue = false\r\n            break\r\n          }\r\n        } else {\r\n          if ((element.charCodeAt(index) > 47 && element.charCodeAt(index) < 58)) {\r\n            validPropertyValue = true\r\n          } else {\r\n            validPropertyValue = false\r\n            break\r\n          }\r\n        }\r\n      }\r\n    })\r\n    if (validPropertyValue) {\r\n      let a = (propertyValue.split(';'))\r\n      let pointValue:any = []\r\n      let newColumnWidthsValue = ''\r\n      a.forEach(element => {\r\n        if (!isNaN(parseInt(element))) {\r\n          if (element.includes('in')) {\r\n            pointValue.push(parseInt(element) * 72)\r\n          } else if (element.includes('cm')) {\r\n            pointValue.push(parseInt(element) * 28.35)\r\n          } else {\r\n            pointValue.push(parseInt(element))\r\n          }\r\n        }\r\n      })\r\n      for (let index = 0; index < pointValue.length; index++) {\r\n        if (index === pointValue.length - 1) {\r\n          newColumnWidthsValue = newColumnWidthsValue + (pointValue[index]) + 'pt'\r\n        } else {\r\n          newColumnWidthsValue = newColumnWidthsValue + (pointValue[index]) + 'pt;'\r\n        }\r\n      }\r\n      return newColumnWidthsValue\r\n    } else {\r\n      return 'Invalid'\r\n    }\r\n  }\r\n  validateListWidth (propertyName : keyof controlProperties, propertyValue : string) :string {\r\n    if (propertyValue === '') {\r\n      return 'Invalid'\r\n    }\r\n    if (propertyValue[0] === '-') {\r\n      return 'Negative'\r\n    }\r\n    const initialListWidth = propertyValue\r\n    let validPropertyValue: boolean = false\r\n    const element = initialListWidth\r\n    for (let index = 0; index < initialListWidth.length; index++) {\r\n      if (element.includes('in') && (element.endsWith('in'))) {\r\n        if ((element.charCodeAt(index) > 47 && element.charCodeAt(index) < 58) || (element.charCodeAt(index) === 73 || element.charCodeAt(index) === 105 || element.charCodeAt(index) === 32) || (element.charCodeAt(index) === 78 || element.charCodeAt(index) === 110 || element.charCodeAt(index) === 32)) {\r\n          validPropertyValue = true\r\n        } else {\r\n          validPropertyValue = false\r\n          break\r\n        }\r\n      } else if (element.includes('cm') && (element.endsWith('cm'))) {\r\n        if ((element.charCodeAt(index) > 47 && element.charCodeAt(index) < 58) || (element.charCodeAt(index) === 67 || element.charCodeAt(index) === 99 || element.charCodeAt(index) === 32) || (element.charCodeAt(index) === 77 || element.charCodeAt(index) === 109 || element.charCodeAt(index) === 32)) {\r\n          validPropertyValue = true\r\n        } else {\r\n          validPropertyValue = false\r\n          break\r\n        }\r\n      } else if (element.includes('pt') && (element.endsWith('pt'))) {\r\n        if ((element.charCodeAt(index) > 47 && element.charCodeAt(index) < 58) || (element.charCodeAt(index) === 80 || element.charCodeAt(index) === 112 || element.charCodeAt(index) === 32) || (element.charCodeAt(index) === 84 || element.charCodeAt(index) === 116 || element.charCodeAt(index) === 32)) {\r\n          validPropertyValue = true\r\n        } else {\r\n          validPropertyValue = false\r\n          break\r\n        }\r\n      } else {\r\n        if ((element.charCodeAt(index) > 47 && element.charCodeAt(index) < 58)) {\r\n          validPropertyValue = true\r\n        } else {\r\n          validPropertyValue = false\r\n          break\r\n        }\r\n      }\r\n    }\r\n    if (validPropertyValue) {\r\n      let a = propertyValue\r\n      let pointValue:any = []\r\n      let newColumnWidthsValue = ''\r\n      const element = a\r\n      if (!isNaN(parseInt(element))) {\r\n        if (element.includes('in')) {\r\n          pointValue.push(parseInt(element) * 72)\r\n        } else if (element.includes('cm')) {\r\n          pointValue.push(parseInt(element) * 28.35)\r\n        } else {\r\n          pointValue.push(parseInt(element))\r\n        }\r\n      }\r\n      newColumnWidthsValue = pointValue + 'pt'\r\n      return newColumnWidthsValue\r\n    } else {\r\n      return 'Invalid'\r\n    }\r\n  }\r\n  updateAppearance (e: Event) {\r\n    const propertyName: keyof controlProperties = (e.target as HTMLInputElement).name as keyof controlProperties\r\n    const inputType = this.tableData[propertyName]!.type\r\n    let propertyValue = (e.target as HTMLInputElement).value\r\n    if (inputType === 'file') {\r\n      if (propertyName === 'MouseIcon' || propertyName === 'Picture') {\r\n        this.handleConvertionImageToBase64(e)\r\n      }\r\n    } else if (inputType === 'String') {\r\n      if (propertyName === 'Accelerator' || propertyName === 'PasswordChar') {\r\n        this.emitUpdateProperty(\r\n          propertyName,\r\n          propertyValue !== '' ? propertyValue[0] : propertyValue\r\n        );\r\n        (e.target as HTMLInputElement).value = propertyValue && propertyValue[0]\r\n      } else if (propertyName === 'Name') {\r\n        if (checkPropertyValue(propertyName, propertyValue)) {\r\n          const isSuccess = this.updateProperty({ propertyName: propertyName, value: propertyValue })\r\n          if (!isSuccess) {\r\n            (e.target as HTMLInputElement).value = this.tableData![propertyName]!.value! as string\r\n            EventBus.$emit('showErrorPopup', true, 'invalid', 'Could not set the Name property. Ambiguous name.')\r\n          }\r\n        } else {\r\n          (e.target as HTMLInputElement).value = this.tableData![propertyName]!.value! as string\r\n          EventBus.$emit('showErrorPopup', true, 'invalid', `Not a legal object name: '${propertyValue}'`)\r\n        }\r\n      } else if (propertyName === 'Value') {\r\n        if (this.getSelectedControlsDatas.length === 1) {\r\n          const controlType = this.userformData[this.userFormId][this.getSelectedControlsDatas[0]].type\r\n          if (controlType === 'CheckBox' || controlType === 'OptionButton' || controlType === 'ToggleButton') {\r\n            const resultValue = this.validateValuePropertyChboxOpbtnTglbtn(propertyName, propertyValue);\r\n            (e.target as HTMLInputElement).value = resultValue\r\n          } else if (controlType === 'ListBox') {\r\n            const isTextValid = this.validateTextValueProperty(propertyValue, propertyName, this.getSelectedControlsDatas[0])\r\n            if (isTextValid) {\r\n              this.emitUpdateProperty(propertyName, propertyValue)\r\n            } else {\r\n              EventBus.$emit('showErrorPopup', true, 'invalid', `Could not set the ${propertyName} property. Invalid property Value`);\r\n              (e.target as HTMLInputElement).value = this.tableData![propertyName]!.value! as string\r\n            }\r\n          } else {\r\n            this.emitUpdateProperty(propertyName, propertyValue)\r\n          }\r\n        } else {\r\n          if (this.resultArray[0] === true) {\r\n            const resultValue = this.validateValuePropertyChboxOpbtnTglbtn(propertyName, propertyValue);\r\n            (e.target as HTMLInputElement).value = resultValue\r\n          } else if (this.resultArray[1] === true) {\r\n            const isValueValid = this.updateValueProperty({ propertyName: propertyName, value: propertyValue })\r\n            if (!isValueValid) {\r\n              EventBus.$emit('showErrorPopup', true, 'invalid', `Could not set the ${propertyName} property. Invalid property Value`);\r\n              (e.target as HTMLInputElement).value = this.tableData![propertyName]!.value! as string\r\n            }\r\n          } else if (this.resultArray[2] === true) {\r\n\r\n          }\r\n          // this.updateValueProperty({ propertyName: propertyName, value: propertyValue })\r\n        }\r\n      } else if (propertyName === 'Text') {\r\n        const controlType = this.userformData[this.userFormId][this.getSelectedControlsDatas[0]].type\r\n        if (controlType === 'ListBox') {\r\n          const isTextValid = this.validateTextValueProperty(propertyValue, propertyName, this.getSelectedControlsDatas[0])\r\n          if (isTextValid) {\r\n            this.emitUpdateProperty(propertyName, propertyValue)\r\n          } else {\r\n            EventBus.$emit('showErrorPopup', true, 'invalid', `Could not set the ${propertyName} property. Invalid property Value`);\r\n            (e.target as HTMLInputElement).value = this.tableData![propertyName]!.value! as string\r\n          }\r\n        } else {\r\n          this.emitUpdateProperty(propertyName, propertyValue)\r\n        }\r\n      } else if (propertyName === 'ControlSource') {\r\n        const isValid = this.validateControlSourceProperty(propertyValue)\r\n        if (isValid) {\r\n          this.emitUpdateProperty(propertyName, propertyValue)\r\n        } else {\r\n          EventBus.$emit('showErrorPopup', true, 'invalid', 'Invalid property value.')\r\n        }\r\n      } else if (propertyName === 'RowSource') {\r\n        const isValid = this.validateRowSourceProperty(propertyValue)\r\n        if (isValid) {\r\n          this.emitUpdateProperty(propertyName, propertyValue)\r\n        } else {\r\n          EventBus.$emit('showErrorPopup', true, 'invalid', 'Invalid property value.')\r\n        }\r\n      } else if (propertyName === 'ColumnWidths') {\r\n        const resultValue = this.validateColumnWidths(propertyName, propertyValue)\r\n        if (resultValue !== 'Invalid') {\r\n          this.emitUpdateProperty(propertyName, resultValue)\r\n        } else {\r\n          EventBus.$emit('showErrorPopup', true, 'invalid', `Could not set the ${propertyName} property. Type mismatch`);\r\n          (e.target as HTMLInputElement).value = this.tableData![propertyName]!.value! as string\r\n        }\r\n      } else if (propertyName === 'ListWidth') {\r\n        const resultValue = this.validateListWidth(propertyName, propertyValue)\r\n        if (resultValue !== 'Invalid' && resultValue !== 'Negative') {\r\n          this.emitUpdateProperty(propertyName, resultValue)\r\n        } else if (resultValue === 'Negative') {\r\n          EventBus.$emit('showErrorPopup', true, 'invalid', `Could not set the ${propertyName} property. Invalid property value`);\r\n          (e.target as HTMLInputElement).value = this.tableData![propertyName]!.value! as string\r\n        } else {\r\n          EventBus.$emit('showErrorPopup', true, 'invalid', `Could not set the ${propertyName} property. Type mismatch`);\r\n          (e.target as HTMLInputElement).value = this.tableData![propertyName]!.value! as string\r\n        }\r\n      } else {\r\n        this.emitUpdateProperty(propertyName, propertyValue)\r\n      }\r\n    } else if (inputType === 'number' || inputType === 'float') {\r\n      const value = propertyValue.includes('.') ? parseFloat(propertyValue) : parseInt(propertyValue)\r\n      if (propertyName === 'Height' || propertyName === 'Width') {\r\n        if ((this.userformData[this.userFormId][this.getSelectedControlsDatas[0]].type === 'Userform')) {\r\n          if (propertyName === 'Width') {\r\n            if (value >= 0 && value < 103) {\r\n              this.emitUpdateProperty(propertyName, 103);\r\n              (e.target as HTMLInputElement).value = '103'\r\n            } else if (value > 9830) {\r\n              this.emitUpdateProperty(propertyName, 9830)\r\n            } else if (value < 0) {\r\n              (e.target as HTMLInputElement).value = this.tableData![propertyName]!.value! as string\r\n            } else {\r\n              this.emitUpdateProperty(propertyName, value)\r\n            }\r\n          } else if (propertyName === 'Height') {\r\n            if (value >= 0 && value < 30) {\r\n              this.emitUpdateProperty(propertyName, 30);\r\n              (e.target as HTMLInputElement).value = '30'\r\n            } else if (value > 9830) {\r\n              this.emitUpdateProperty(propertyName, 9830)\r\n            } else if (value < 0) {\r\n              (e.target as HTMLInputElement).value = this.tableData![propertyName]!.value! as string\r\n            } else {\r\n              this.emitUpdateProperty(propertyName, value)\r\n            }\r\n          }\r\n        } else if (checkPropertyValue(propertyName, value)) {\r\n          this.emitUpdateProperty(propertyName, value)\r\n        } else {\r\n          (e.target as HTMLInputElement).value = this.tableData![propertyName]!.value! as string\r\n          if (value > 32767) {\r\n            EventBus.$emit('showErrorPopup', true, 'overflow', 'Overflow')\r\n          } else {\r\n            EventBus.$emit('showErrorPopup', true, 'invalid', `Could not set the ${propertyName} property. Invalid property value. Enter a value between 0 and 32768`)\r\n          }\r\n        }\r\n      } else if (propertyName === 'Top' || propertyName === 'Left') {\r\n        if (checkPropertyValue(propertyName, value)) {\r\n          this.emitUpdateProperty(propertyName, value)\r\n        } else {\r\n          (e.target as HTMLInputElement).value = this.tableData![propertyName]!.value! as string\r\n          EventBus.$emit('showErrorPopup', true, 'invalid', `Could not set the ${propertyName} property. Invalid property value.`)\r\n        }\r\n      } else if (propertyName === 'MaxLength') {\r\n        if (checkPropertyValue(propertyName, value)) {\r\n          this.emitUpdateProperty(propertyName, value)\r\n        } else {\r\n          (e.target as HTMLInputElement).value = this.tableData![propertyName]!.value! as string\r\n          EventBus.$emit('showErrorPopup', true, 'invalid', `Could not set the ${propertyName} property. Invalid property value. Enter a value between 0 and  2147483647`)\r\n        }\r\n      } else if (propertyName === 'BoundColumn') {\r\n        if (checkPropertyValue(propertyName, value)) {\r\n          this.emitUpdateProperty(propertyName, value)\r\n        } else {\r\n          (e.target as HTMLInputElement).value = this.tableData![propertyName]!.value! as string\r\n          EventBus.$emit('showErrorPopup', true, 'invalid', `Could not set the ${propertyName} property. Invalid property value. Enter a value between 0 and 65536`)\r\n        }\r\n      } else if (propertyName === 'ColumnCount') {\r\n        if (checkPropertyValue(propertyName, value)) {\r\n          this.emitUpdateProperty(propertyName, value)\r\n        } else {\r\n          (e.target as HTMLInputElement).value = this.tableData![propertyName]!.value! as string\r\n          EventBus.$emit('showErrorPopup', true, 'invalid', `Could not set the ${propertyName} property. Invalid property value. Enter a value between -1 and 2147483647`)\r\n        }\r\n      } else if (propertyName === 'ListRows') {\r\n        if (checkPropertyValue(propertyName, value)) {\r\n          this.emitUpdateProperty(propertyName, value)\r\n        } else {\r\n          (e.target as HTMLInputElement).value = this.tableData![propertyName]!.value! as string\r\n          EventBus.$emit('showErrorPopup', true, 'invalid', `Could not set the ${propertyName} property. Invalid property value. Enter a value between 0 and 2147483647`)\r\n        }\r\n      } else if (propertyName === 'TextColumn') {\r\n        if (checkPropertyValue(propertyName, value)) {\r\n          this.emitUpdateProperty(propertyName, value)\r\n        } else {\r\n          (e.target as HTMLInputElement).value = this.tableData![propertyName]!.value! as string\r\n          EventBus.$emit('showErrorPopup', true, 'invalid', `Could not set the ${propertyName} property. Invalid property value. Enter a value between -1 and 32768`)\r\n        }\r\n      } else if (propertyName === 'Value') {\r\n        const controlData = this.userformData[this.userFormId][this.getSelectedControlsDatas[0]]\r\n        const controlType = controlData.type\r\n        if (this.getSelectedControlsDatas.length === 1) {\r\n          if (controlType === 'TabStrip') {\r\n            if (value < -1 || value >= controlData.extraDatas!.Tabs!.length!) {\r\n              (e.target as HTMLInputElement).value = this.tableData![propertyName]!.value! as string\r\n              EventBus.$emit('showErrorPopup', true, 'invalid', `Could not set the ${propertyName} property. Invalid property value.`)\r\n            } else {\r\n              this.emitUpdateProperty(propertyName, value)\r\n            }\r\n          } else if (controlType === 'MultiPage') {\r\n            if (value < -1 || value >= controlData.controls.length) {\r\n              (e.target as HTMLInputElement).value = this.tableData![propertyName]!.value! as string\r\n              EventBus.$emit('showErrorPopup', true, 'invalid', `Could not set the ${propertyName} property. Invalid property value.`)\r\n            } else {\r\n              this.emitUpdateProperty(propertyName, value)\r\n            }\r\n          } else if (controlType === 'SpinButton' || controlType === 'ScrollBar') {\r\n            if (this.isDecimalNumber(propertyValue)) {\r\n              (e.target as HTMLInputElement).value = this.tableData![propertyName]!.value! as string\r\n            } else {\r\n              const isSuccess = this.updateSpinButtonScrollBarValueProp(this.getSelectedControlsDatas[0], value)\r\n              if (!isSuccess) {\r\n                (e.target as HTMLInputElement).value = this.tableData![propertyName]!.value! as string\r\n                EventBus.$emit('showErrorPopup', true, 'invalid', `Could not set the ${propertyName} property. Invalid property value.`)\r\n              }\r\n            }\r\n          } else {\r\n            this.emitUpdateProperty(propertyName, propertyValue)\r\n          }\r\n        } else {\r\n          if (this.isDecimalNumber(propertyValue)) {\r\n            (e.target as HTMLInputElement).value = this.tableData![propertyName]!.value! as string\r\n          } else {\r\n            const isSuccess = this.validateMultipleValueProperty({ propertyName: propertyName, value: propertyValue })\r\n            if (!isSuccess) {\r\n              (e.target as HTMLInputElement).value = this.tableData![propertyName]!.value! as string\r\n              EventBus.$emit('showErrorPopup', true, 'invalid', `Could not set the ${propertyName} property. Invalid property value.`)\r\n            } else {\r\n              this.updateMultiSelectPropValue(propertyName, value)\r\n            }\r\n          }\r\n        }\r\n      } else if (propertyName === 'Min' || propertyName === 'Max' || propertyName === 'SmallChange') {\r\n        if (this.isDecimalNumber(propertyValue)) {\r\n          (e.target as HTMLInputElement).value = this.tableData![propertyName]!.value! as string\r\n        } else if (checkPropertyValue(propertyName, value)) {\r\n          if (propertyName === 'Min' || propertyName === 'Max') {\r\n            this.updateProperty({ propertyName: propertyName, value: value })\r\n          } else {\r\n            this.emitUpdateProperty(propertyName, value)\r\n          }\r\n        } else {\r\n          (e.target as HTMLInputElement).value = this.tableData![propertyName]!.value! as string\r\n          EventBus.$emit('showErrorPopup', true, 'invalid', `Invalid property value.`)\r\n        }\r\n      } else if (propertyName === 'TabFixedHeight' || propertyName === 'TabFixedWidth') {\r\n        if (checkPropertyValue(propertyName, value)) {\r\n          this.emitUpdateProperty(propertyName, value)\r\n        } else {\r\n          (e.target as HTMLInputElement).value = this.tableData![propertyName]!.value! as string\r\n          EventBus.$emit('showErrorPopup', true, 'invalid', `Could not set the ${propertyName} property. Invalid property value. Enter a value between 0 and 7200`)\r\n        }\r\n      } else if (propertyName === 'TabIndex') {\r\n        if (this.isDecimalNumber(propertyValue)) {\r\n          (e.target as HTMLInputElement).value = this.tableData![propertyName]!.value! as string\r\n        } else if (checkPropertyValue(propertyName, value)) {\r\n          const isSuccess = this.updateProperty({ propertyName: propertyName, value: value })\r\n          if (!isSuccess) {\r\n            (e.target as HTMLInputElement).value = this.tableData![propertyName]!.value! as string\r\n          }\r\n        } else {\r\n          (e.target as HTMLInputElement).value = this.tableData![propertyName]!.value! as string\r\n          EventBus.$emit('showErrorPopup', true, 'invalid', `Could not set the ${propertyName} property. Invalid property value. Enter a value greater than or equal to zero.`)\r\n        }\r\n      } else if (propertyName === 'Index') {\r\n        if (this.isDecimalNumber(propertyValue)) {\r\n          (e.target as HTMLInputElement).value = this.tableData![propertyName]!.value! as string\r\n        } else if (value < 0) {\r\n          (e.target as HTMLInputElement).value = this.tableData![propertyName]!.value! as string\r\n          EventBus.$emit('showErrorPopup', true, 'invalid', `Could not set the ${propertyName} property. Invalid property value. Enter a value between 0 and 32767`)\r\n        } else {\r\n          const isSuccess = this.updateProperty({ propertyName: propertyName, value: propertyValue })\r\n          if (!isSuccess) {\r\n            (e.target as HTMLInputElement).value = this.tableData!.Index!.value! as string\r\n            EventBus.$emit('showErrorPopup', true, 'invalid', `Could not set the ${propertyName} property. Invalid property value.`)\r\n          }\r\n        }\r\n      } else if (propertyName === 'Delay') {\r\n        if (this.isDecimalNumber(propertyValue)) {\r\n          (e.target as HTMLInputElement).value = this.tableData![propertyName]!.value! as string\r\n        } else if (checkPropertyValue(propertyName, propertyValue)) {\r\n          this.emitUpdateProperty(propertyName, value)\r\n        } else if (value < 0) {\r\n          (e.target as HTMLInputElement).value = this.tableData![propertyName]!.value! as string\r\n          EventBus.$emit('showErrorPopup', true, 'invalid', `Could not set the ${propertyName} property. Invalid property value. Enter a value greater than or equal to zero.`)\r\n        } else {\r\n          (e.target as HTMLInputElement).value = this.tableData![propertyName]!.value! as string\r\n          EventBus.$emit('showErrorPopup', true, 'invalid', `Invalid property value.`)\r\n        }\r\n      } else if (propertyName === 'Zoom') {\r\n        if (this.isDecimalNumber(propertyValue)) {\r\n          (e.target as HTMLInputElement).value = this.tableData![propertyName]!.value! as string\r\n        } else if (checkPropertyValue(propertyName, propertyValue)) {\r\n          this.emitUpdateProperty(propertyName, value)\r\n        } else {\r\n          (e.target as HTMLInputElement).value = this.tableData![propertyName]!.value! as string\r\n          EventBus.$emit('showErrorPopup', true, 'invalid', `Could not set the ${propertyName} property. Invalid property value. Enter a value between 10 and 400.`)\r\n        }\r\n      } else if (propertyName === 'DrawBuffer') {\r\n        if (this.isDecimalNumber(propertyValue)) {\r\n          (e.target as HTMLInputElement).value = this.tableData![propertyName]!.value! as string\r\n        } else if (checkPropertyValue(propertyName, propertyValue)) {\r\n          this.emitUpdateProperty(propertyName, value)\r\n        } else {\r\n          (e.target as HTMLInputElement).value = this.tableData![propertyName]!.value! as string\r\n          EventBus.$emit('showErrorPopup', true, 'invalid', `Could not set the ${propertyName} property. Invalid property value. Enter a value between 16000 and 1048576.`)\r\n        }\r\n      } else if (propertyName === 'TransitionPeriod') {\r\n        if (this.isDecimalNumber(propertyValue)) {\r\n          (e.target as HTMLInputElement).value = this.tableData![propertyName]!.value! as string\r\n        } else if (checkPropertyValue(propertyName, propertyValue)) {\r\n          this.emitUpdateProperty(propertyName, value)\r\n        } else {\r\n          (e.target as HTMLInputElement).value = this.tableData![propertyName]!.value! as string\r\n          EventBus.$emit('showErrorPopup', true, 'invalid', `Could not set the ${propertyName} property. Invalid property value. Enter a value between 0 and 10000.`)\r\n        }\r\n      } else {\r\n        this.emitUpdateProperty(propertyName, value)\r\n      }\r\n    } else if (inputType === 'Boolean') {\r\n      if ((propertyName === 'Cancel' || propertyName === 'Default') && ((e.target as HTMLInputElement).value) === 'true') {\r\n        this.updateProperty({ propertyName: propertyName, value: true })\r\n      } else {\r\n        this.emitUpdateProperty(\r\n          propertyName,\r\n          (e.target as HTMLInputElement).value === 'true'\r\n        )\r\n      }\r\n    } else if (inputType === 'array') {\r\n      if ((e.target as HTMLInputElement).value !== '') {\r\n        if (propertyName === 'BorderStyle' && propertyValue === '1') {\r\n          this.emitUpdateProperty(\r\n            propertyName,\r\n            parseInt((e.target as HTMLInputElement).value)\r\n          )\r\n          this.emitUpdateProperty(\r\n            'SpecialEffect',\r\n            0\r\n          )\r\n        } else if (propertyName === 'SpecialEffect' && parseInt(propertyValue) > 0) {\r\n          this.emitUpdateProperty(\r\n            propertyName,\r\n            parseInt((e.target as HTMLInputElement).value)\r\n          )\r\n          this.emitUpdateProperty(\r\n            'BorderStyle',\r\n            0\r\n          )\r\n        } else {\r\n          this.emitUpdateProperty(\r\n            propertyName,\r\n            parseInt((e.target as HTMLInputElement).value)\r\n          )\r\n        }\r\n      }\r\n    }\r\n  }\r\n  updateMultiSelectPropValue (propertyName: keyof controlProperties, value: number) {\r\n    const selected = this.getSelectedControlsDatas!\r\n    for (let i = 0; i < selected.length; i++) {\r\n      this.updatePropValue(selected[i], propertyName, value)\r\n    }\r\n  }\r\n  validateMultipleValueProperty (arg: IPropControl) {\r\n    debugger\r\n    const selected = this.getSelectedControlsDatas!\r\n    let isValid: boolean = true\r\n    for (let i = 0; i < selected.length; i++) {\r\n      const type = this.userformData[this.userFormId][selected[i]].type\r\n      if (type === 'ScrollBar' || type === 'SpinButton') {\r\n        isValid = this.checkValueRangeMinMax(selected[i], arg.value)\r\n      } else if (type === 'MultiPage' || type === 'TabStrip') {\r\n        if (arg.value < -1 || (type === 'TabStrip' && arg.value >= this.userformData[this.userFormId][selected[i]].extraDatas!.Tabs!.length!) ||\r\n        (type === 'MultiPage' && arg.value >= this.userformData[this.userFormId][selected[i]].controls.length!)) {\r\n          isValid = false\r\n        } else {\r\n          isValid = true\r\n        }\r\n      }\r\n      if (!isValid) {\r\n        return isValid\r\n      }\r\n    }\r\n    return isValid\r\n  }\r\n  isDecimalNumber (propValue : string) {\r\n    if (propValue.indexOf('.') > -1) {\r\n      EventBus.$emit('showErrorPopup', true, 'invalid', `Invalid property value.`)\r\n      return true\r\n    }\r\n    return false\r\n  }\r\n  handleConvertionImageToBase64 (e: Event) {\r\n    let that = this\r\n    const reader = new FileReader()\r\n    const fileInput = (e.target as HTMLInputElement)\r\n    const filePath = fileInput.value\r\n    let allowedExtensions\r\n    let typeMismatchExtensions\r\n    // Allowed file type\r\n    if (fileInput.name === 'Picture') {\r\n      allowedExtensions = /(\\.jpg|\\.jpeg|\\.bmp|\\.ico|\\.gif)$/i\r\n      typeMismatchExtensions = /(\\.jpg|\\.jpeg|\\.bmp|\\.ico|\\.gif)$/i\r\n    } else {\r\n      allowedExtensions = /(\\.bmp|\\.ico)$/i\r\n      typeMismatchExtensions = /(\\.bmp|\\.ico|\\.gif)$/i\r\n    }\r\n    if (!allowedExtensions.exec(filePath)) {\r\n      fileInput.value = ''\r\n      if (typeMismatchExtensions.exec(filePath)) {\r\n        EventBus.$emit('showErrorPopup', true, 'invalid', `Could not set the ${fileInput.name} property. The picture type is not valid.`)\r\n      } else {\r\n        EventBus.$emit('showErrorPopup', true, 'invalid', 'Invalid Picture')\r\n      }\r\n      return false\r\n    } else {\r\n      if (fileInput.files && fileInput.files[0]) {\r\n        reader.onload = function (e) {\r\n          that.emitUpdateProperty(fileInput.name as keyof controlProperties, reader.result)\r\n        }\r\n        reader.readAsDataURL(fileInput.files[0])\r\n      }\r\n    }\r\n  }\r\n\r\n  emitFont (tempVal: font) {\r\n    this.emitUpdateProperty('Font', tempVal)\r\n  }\r\n  colorPaletteProp (selectedValue: ISelectedColoPaletteValue) {\r\n    this.emitUpdateProperty(selectedValue.propertyName as keyof controlProperties, selectedValue.propertyValue)\r\n  }\r\n}\r\n"],"sourceRoot":""}]}