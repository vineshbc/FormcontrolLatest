{"remainingRequest":"/home/mobiotics/Projects/hancom/FormcontrolLatest/node_modules/babel-loader/lib/index.js!/home/mobiotics/Projects/hancom/FormcontrolLatest/node_modules/ts-loader/index.js??ref--14-2!/home/mobiotics/Projects/hancom/FormcontrolLatest/node_modules/eslint-loader/index.js??ref--13-0!/home/mobiotics/Projects/hancom/FormcontrolLatest/src/api/abstract/FormDesigner/FdContainerVue.ts","dependencies":[{"path":"/home/mobiotics/Projects/hancom/FormcontrolLatest/src/api/abstract/FormDesigner/FdContainerVue.ts","mtime":1612197584000},{"path":"/home/mobiotics/Projects/hancom/FormcontrolLatest/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/mobiotics/Projects/hancom/FormcontrolLatest/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/mobiotics/Projects/hancom/FormcontrolLatest/node_modules/ts-loader/index.js","mtime":499162500000},{"path":"/home/mobiotics/Projects/hancom/FormcontrolLatest/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IHsgX19kZWNvcmF0ZSB9IGZyb20gInRzbGliIjsKaW1wb3J0IHsgQ29tcG9uZW50LCBQcm9wIH0gZnJvbSAndnVlLXByb3BlcnR5LWRlY29yYXRvcic7CmltcG9ydCBGZENvbnRyb2xWdWUgZnJvbSAnLi9GZENvbnRyb2xWdWUnOwppbXBvcnQgeyBBY3Rpb24sIFN0YXRlIH0gZnJvbSAndnVleC1jbGFzcyc7CmltcG9ydCB7IGNvbnRyb2xDb250ZXh0TWVudSB9IGZyb20gJ0AvRm9ybURlc2lnbmVyL21vZGVscy9jb250cm9sQ29udGV4dE1lbnVEYXRhJzsKaW1wb3J0IHsgdXNlcmZvcm1Db250ZXh0TWVudSB9IGZyb20gJ0AvRm9ybURlc2lnbmVyL21vZGVscy91c2VyZm9ybUNvbnRleHRNZW51RGF0YSc7CmltcG9ydCB7IENvbnRyb2xQcm9wZXJ0eURhdGEgfSBmcm9tICdAL0Zvcm1EZXNpZ25lci9tb2RlbHMvQ29udHJvbHNUYWJsZVByb3BlcnRpZXMvQ29udHJvbFByb3BlcnR5RGF0YS50cyc7CmltcG9ydCB7IEV2ZW50QnVzIH0gZnJvbSAnQC9Gb3JtRGVzaWduZXIvZXZlbnQtYnVzJzsKbGV0IEZkQ29udGFpbmVyVnVlID0gY2xhc3MgRmRDb250YWluZXJWdWUgZXh0ZW5kcyBGZENvbnRyb2xWdWUgewogIGNvbnN0cnVjdG9yKCkgewogICAgc3VwZXIoLi4uYXJndW1lbnRzKTsKICAgIHRoaXMuY29udHJvbENvbnRleHRNZW51ID0gY29udHJvbENvbnRleHRNZW51OwogICAgdGhpcy51c2VyZm9ybUNvbnRleHRNZW51ID0gdXNlcmZvcm1Db250ZXh0TWVudTsKICAgIHRoaXMuc2VsZWN0ZWRDb250cm9sQXJyYXkgPSBbXTsKICAgIHRoaXMuc2VsTXVsdGlwbGVDdHJsID0gZmFsc2U7CiAgICB0aGlzLmFjdGl2YXRlQ3RybCA9IGZhbHNlOwogICAgdGhpcy5iYWNrQ29sb3JQcm9wID0gWydGcmFtZScsICdDaGVja0JveCcsICdPcHRpb25CdXR0b24nLCAnTGFiZWwnLCAnTXVsdGlQYWdlJ107CiAgICB0aGlzLmZvcmVDb2xvclByb3AgPSBbJ0ZyYW1lJywgJ0NoZWNrQm94JywgJ09wdGlvbkJ1dHRvbicsICdMYWJlbCcsICdNdWx0aVBhZ2UnLCAnVGFiU3RyaXAnXTsKICAgIHRoaXMuZm9udFByb3AgPSBbJ0ZyYW1lJywgJ0NoZWNrQm94JywgJ09wdGlvbkJ1dHRvbicsICdMYWJlbCcsICdNdWx0aVBhZ2UnLCAnVGFiU3RyaXAnLCAnVG9nZ2xlQnV0dG9uJywgJ0NvbW1hbmRCdXR0b24nXTsKICB9CgogIGdldCBzZWxDb25hdGluZXIoKSB7CiAgICByZXR1cm4gdGhpcy5zZWxlY3RlZENvbnRyb2xzW3RoaXMudXNlckZvcm1JZF0uY29udGFpbmVyOwogIH0KICAvKioKICAqIEBkZXNjcmlwdGlvbiAgVG8gZ2V0IHRoZSBzZWxlY3RlZCBDb250YWluZXJMaXN0CiAgKiBAZnVuY3Rpb24gZ2V0Q29udGFpbmVyTGlzdAogICogQHBhcmFtIHNlbGVjdFRhcmdldCAgLSBzZWxjdGVkIGNvbnRyb2wgb3IgZ3JvdXAKICAqLwoKCiAgZ2V0Q29udGFpbmVyTGlzdChzZWxlY3RUYXJnZXQpIHsKICAgIGNvbnN0IGNvbnRhaW5lckxpc3QgPSBbXTsKCiAgICBjb25zdCBjb250cm9sQ29udGFpbmVyID0gc2VsZWN0VGFyZ2V0ID0+IHsKICAgICAgZm9yIChsZXQgaSBpbiB0aGlzLnVzZXJmb3JtRGF0YVt0aGlzLnVzZXJGb3JtSWRdKSB7CiAgICAgICAgY29uc3QgY29udHJvbERhdGEgPSB0aGlzLnVzZXJmb3JtRGF0YVt0aGlzLnVzZXJGb3JtSWRdW2ldOwoKICAgICAgICBpZiAoY29udHJvbERhdGEuY29udHJvbHMubGVuZ3RoID4gMCAmJiBjb250cm9sRGF0YS5jb250cm9scy5pbmNsdWRlcyhzZWxlY3RUYXJnZXQpKSB7CiAgICAgICAgICBjb250YWluZXJMaXN0LnB1c2goaSk7CiAgICAgICAgICBjb250cm9sQ29udGFpbmVyKGkpOwogICAgICAgIH0KICAgICAgfQogICAgfTsKCiAgICBjb25zdCBnZXRDb250cm9sSWQgPSBzZWxlY3RUYXJnZXQgPT4gewogICAgICBjb25zdCB1c2VyRGF0YSA9IHRoaXMudXNlcmZvcm1EYXRhW3RoaXMudXNlckZvcm1JZF07CgogICAgICBmb3IgKGxldCBpIGluIHVzZXJEYXRhKSB7CiAgICAgICAgY29uc3QgY29udHJvbERhdGEgPSB1c2VyRGF0YVtpXTsKCiAgICAgICAgaWYgKGNvbnRyb2xEYXRhLnByb3BlcnRpZXMuR3JvdXBJRCA9PT0gc2VsZWN0VGFyZ2V0KSB7CiAgICAgICAgICByZXR1cm4gaTsKICAgICAgICB9CiAgICAgIH0KICAgIH07CgogICAgaWYgKHNlbGVjdFRhcmdldCkgewogICAgICBjb25zdCBjb250cm9sSWQgPSBzZWxlY3RUYXJnZXQuc3RhcnRzV2l0aCgnZ3JvdXAnKSA/IGdldENvbnRyb2xJZChzZWxlY3RUYXJnZXQpIDogc2VsZWN0VGFyZ2V0OwoKICAgICAgaWYgKGNvbnRyb2xJZCkgewogICAgICAgIGNvbnRyb2xDb250YWluZXIoY29udHJvbElkKTsKICAgICAgfQogICAgfQoKICAgIHJldHVybiBjb250YWluZXJMaXN0Lmxlbmd0aCA+IDAgPyBjb250YWluZXJMaXN0IDogW3RoaXMudXNlckZvcm1JZF07CiAgfQoKICBnZW5lcmF0ZVVuaXF1ZU5hbWUoY29udHJvbE5hbWUpIHsKICAgIGxldCBsYXN0Q29udHJvbElkID0gMDsKICAgIGNvbnN0IHVzZXJmb3JtQ29udHJvbElkcyA9IE9iamVjdC5rZXlzKHRoaXMudXNlcmZvcm1EYXRhW3RoaXMudXNlckZvcm1JZF0pOwoKICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdXNlcmZvcm1Db250cm9sSWRzLmxlbmd0aDsgaSsrKSB7CiAgICAgIGNvbnN0IGN0cmxQcm9wID0gdGhpcy51c2VyZm9ybURhdGFbdGhpcy51c2VyRm9ybUlkXVt1c2VyZm9ybUNvbnRyb2xJZHNbaV1dLnByb3BlcnRpZXM7CgogICAgICBpZiAoY3RybFByb3AuTmFtZS5pbmRleE9mKGNvbnRyb2xOYW1lKSAhPT0gLTEpIHsKICAgICAgICBjb25zdCBJZE51bSA9IGN0cmxQcm9wLk5hbWUuc3BsaXQoY29udHJvbE5hbWUpLnBvcCgpIHx8ICctMSc7CiAgICAgICAgY29uc3QgcGFzcmVJZCA9IHBhcnNlSW50KElkTnVtLCAxMCk7CgogICAgICAgIGlmICghaXNOYU4ocGFzcmVJZCkgJiYgbGFzdENvbnRyb2xJZCA8IHBhc3JlSWQpIHsKICAgICAgICAgIGxhc3RDb250cm9sSWQgPSBwYXNyZUlkOwogICAgICAgIH0KICAgICAgfQogICAgfQoKICAgIHJldHVybiBgJHtjb250cm9sTmFtZX0ke2xhc3RDb250cm9sSWQgKyAxfWA7CiAgfQoKICBnZW5lcmF0ZUNvbnRyb2xJZChjb250cm9sTmFtZSkgewogICAgbGV0IGxhc3RDb250cm9sSWQgPSAwOwogICAgY29uc3QgdXNlcmZvcm1Db250cm9sSWRzID0gT2JqZWN0LmtleXModGhpcy51c2VyZm9ybURhdGFbdGhpcy51c2VyRm9ybUlkXSk7CgogICAgZm9yIChsZXQgaSA9IDA7IGkgPCB1c2VyZm9ybUNvbnRyb2xJZHMubGVuZ3RoOyBpKyspIHsKICAgICAgaWYgKHVzZXJmb3JtQ29udHJvbElkc1tpXS5pbmRleE9mKGNvbnRyb2xOYW1lKSAhPT0gLTEpIHsKICAgICAgICBjb25zdCBJZE51bSA9IHVzZXJmb3JtQ29udHJvbElkc1tpXS5zcGxpdChjb250cm9sTmFtZSkucG9wKCkgfHwgJy0xJzsKICAgICAgICBjb25zdCBwYXNyZUlkID0gcGFyc2VJbnQoSWROdW0sIDEwKTsKCiAgICAgICAgaWYgKCFpc05hTihwYXNyZUlkKSAmJiBsYXN0Q29udHJvbElkIDwgcGFzcmVJZCkgewogICAgICAgICAgbGFzdENvbnRyb2xJZCA9IHBhc3JlSWQ7CiAgICAgICAgfQogICAgICB9CiAgICB9CgogICAgY29uc3QgY29udHJvbFByb3BEYXRhID0gbmV3IENvbnRyb2xQcm9wZXJ0eURhdGEoKTsKICAgIGxldCBjb250cm9sT2JqID0gY29udHJvbE5hbWUuc3RhcnRzV2l0aCgnUGFnZScpID8gY29udHJvbFByb3BEYXRhLmRhdGFbJ1BhZ2UnXSA6IGNvbnRyb2xQcm9wRGF0YS5kYXRhW2NvbnRyb2xOYW1lXTsKICAgIGNvbnN0IGl0ZW0gPSBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KGNvbnRyb2xPYmopKTsKICAgIGxhc3RDb250cm9sSWQgKz0gMTsKICAgIGl0ZW0ucHJvcGVydGllcy5JRCA9IGBJRF8ke2NvbnRyb2xOYW1lfSR7bGFzdENvbnRyb2xJZH1gOwogICAgaXRlbS5wcm9wZXJ0aWVzLkNhcHRpb24gPSBgJHtjb250cm9sTmFtZX0ke2xhc3RDb250cm9sSWR9YDsKICAgIGl0ZW0ucHJvcGVydGllcy5OYW1lID0gdGhpcy5nZW5lcmF0ZVVuaXF1ZU5hbWUoY29udHJvbE5hbWUpOwogICAgcmV0dXJuIGl0ZW07CiAgfQoKICB1cGRhdGVOZXdDb250cm9sKHBhcmVudElkLCBuZXdDb250cm9sSWQsIG5ld0NvbnRyb2xEYXRhKSB7CiAgICB0aGlzLmFkZENvbnRyb2woewogICAgICB1c2VyRm9ybUlkOiB0aGlzLnVzZXJGb3JtSWQsCiAgICAgIGNvbnRyb2xJZDogcGFyZW50SWQsCiAgICAgIGFkZElkOiBuZXdDb250cm9sSWQsCiAgICAgIGl0ZW06IG5ld0NvbnRyb2xEYXRhCiAgICB9KTsKICB9CgogIGdldExvd2VzdEluZGV4KHRlbXBDb250cm9scywgY29udHJvbExlbmd0aCwgcHJvcGVydHlUeXBlKSB7CiAgICBsZXQgbGFzdENvbnRyb2xJZCA9IGNvbnRyb2xMZW5ndGg7CiAgICBjb25zdCB1c2VyRGF0YSA9IHRoaXMudXNlcmZvcm1EYXRhW3RoaXMudXNlckZvcm1JZF07CgogICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0ZW1wQ29udHJvbHMubGVuZ3RoOyBpKyspIHsKICAgICAgY29uc3QgcHJvcGV0eU5hbWUgPSBwcm9wZXJ0eVR5cGUgPyB1c2VyRGF0YVt0ZW1wQ29udHJvbHNbaV1dLmV4dHJhRGF0YXMuekluZGV4IDogdXNlckRhdGFbdGVtcENvbnRyb2xzW2ldXS5leHRyYURhdGFzLlRhYkluZGV4OwoKICAgICAgaWYgKHByb3BldHlOYW1lICE9PSAtMSkgewogICAgICAgIGNvbnN0IElkTnVtID0gcHJvcGV0eU5hbWU7CgogICAgICAgIGlmICghaXNOYU4oSWROdW0pICYmIGxhc3RDb250cm9sSWQgPiBJZE51bSkgewogICAgICAgICAgbGFzdENvbnRyb2xJZCA9IElkTnVtOwogICAgICAgIH0KICAgICAgfQogICAgfQoKICAgIHJldHVybiBsYXN0Q29udHJvbElkOwogIH0KCiAgdXBkYXRlWkluZGV4VmFsdWUoaWQpIHsKICAgIGNvbnN0IHVzZXJEYXRhID0gdGhpcy51c2VyZm9ybURhdGFbdGhpcy51c2VyRm9ybUlkXTsKICAgIGNvbnN0IGNvbnRhaW5lciA9IHRoaXMuZ2V0Q29udGFpbmVyTGlzdChpZClbMF07CiAgICBjb25zdCBjb250YWluZXJDb250cm9scyA9IHRoaXMudXNlcmZvcm1EYXRhW3RoaXMudXNlckZvcm1JZF1bY29udGFpbmVyXS5jb250cm9sczsKICAgIGNvbnN0IGNvbnRyb2xUeXBlID0gdXNlckRhdGFbaWRdLnR5cGU7CgogICAgaWYgKGNvbnRyb2xUeXBlID09PSAnTXVsdGlQYWdlJyB8fCBjb250cm9sVHlwZSA9PT0gJ0ZyYW1lJyB8fCBjb250cm9sVHlwZSA9PT0gJ0xpc3RCb3gnKSB7CiAgICAgIHRoaXMudXBkYXRlRXh0cmFEYXRhcyhpZCwgJ3pJbmRleCcsIHVzZXJEYXRhW2NvbnRhaW5lcl0uY29udHJvbHMubGVuZ3RoKTsKICAgIH0gZWxzZSB7CiAgICAgIGNvbnN0IHRlbXBDb250cm9scyA9IFtdOwoKICAgICAgZm9yIChjb25zdCBpbmRleCBpbiBjb250YWluZXJDb250cm9scykgewogICAgICAgIGNvbnN0IGNudHJsRGF0YSA9IHRoaXMudXNlcmZvcm1EYXRhW3RoaXMudXNlckZvcm1JZF1bY29udGFpbmVyQ29udHJvbHNbaW5kZXhdXTsKCiAgICAgICAgaWYgKGNudHJsRGF0YS50eXBlID09PSAnTXVsdGlQYWdlJyB8fCBjbnRybERhdGEudHlwZSA9PT0gJ0ZyYW1lJyB8fCBjbnRybERhdGEudHlwZSA9PT0gJ0xpc3RCb3gnKSB7CiAgICAgICAgICB0ZW1wQ29udHJvbHMucHVzaChjb250YWluZXJDb250cm9sc1tpbmRleF0pOwogICAgICAgIH0KICAgICAgfQoKICAgICAgY29uc3QgbGFzdENvbnRyb2xJZCA9IHRlbXBDb250cm9scy5sZW5ndGggPiAwID8gdGhpcy5nZXRMb3dlc3RJbmRleCh0ZW1wQ29udHJvbHMsIHVzZXJEYXRhW2NvbnRhaW5lcl0uY29udHJvbHMubGVuZ3RoLCB0cnVlKSA6IHRoaXMudXNlcmZvcm1EYXRhW3RoaXMudXNlckZvcm1JZF1bY29udGFpbmVyXS5jb250cm9scy5sZW5ndGg7CiAgICAgIHRoaXMudXBkYXRlRXh0cmFEYXRhcyhpZCwgJ3pJbmRleCcsIGxhc3RDb250cm9sSWQpOwoKICAgICAgZm9yIChjb25zdCBpbmRleCBvZiB0ZW1wQ29udHJvbHMpIHsKICAgICAgICBjb25zdCBjbnRybFpJbmRleCA9IHRoaXMudXNlcmZvcm1EYXRhW3RoaXMudXNlckZvcm1JZF1baW5kZXhdLmV4dHJhRGF0YXMuekluZGV4OwogICAgICAgIHRoaXMudXBkYXRlRXh0cmFEYXRhcyhpbmRleCwgJ3pJbmRleCcsIGNudHJsWkluZGV4ICsgMSk7CiAgICAgIH0KICAgIH0KICB9CgogIHVwZGF0ZVRhYkluZGV4VmFsdWUoaWQpIHsKICAgIGNvbnN0IHVzZXJEYXRhID0gdGhpcy51c2VyZm9ybURhdGFbdGhpcy51c2VyRm9ybUlkXTsKICAgIGNvbnN0IGNvbnRhaW5lciA9IHRoaXMuZ2V0Q29udGFpbmVyTGlzdChpZClbMF07CiAgICBjb25zdCBjb250YWluZXJDb250cm9scyA9IHRoaXMudXNlcmZvcm1EYXRhW3RoaXMudXNlckZvcm1JZF1bY29udGFpbmVyXS5jb250cm9sczsKICAgIGNvbnN0IGNvbnRyb2xUeXBlID0gdXNlckRhdGFbaWRdLnR5cGU7CgogICAgaWYgKGNvbnRyb2xUeXBlID09PSAnRkRJbWFnZScpIHsKICAgICAgdGhpcy51cGRhdGVFeHRyYURhdGFzKGlkLCAnVGFiSW5kZXgnLCB1c2VyRGF0YVtjb250YWluZXJdLmNvbnRyb2xzLmxlbmd0aCAtIDEpOwogICAgfSBlbHNlIHsKICAgICAgY29uc3QgdGVtcENvbnRyb2xzID0gW107CgogICAgICBmb3IgKGNvbnN0IGluZGV4IGluIGNvbnRhaW5lckNvbnRyb2xzKSB7CiAgICAgICAgY29uc3QgY250cmxEYXRhID0gdGhpcy51c2VyZm9ybURhdGFbdGhpcy51c2VyRm9ybUlkXVtjb250YWluZXJDb250cm9sc1tpbmRleF1dOwoKICAgICAgICBpZiAoY250cmxEYXRhLnR5cGUgPT09ICdGREltYWdlJykgewogICAgICAgICAgdGVtcENvbnRyb2xzLnB1c2goY29udGFpbmVyQ29udHJvbHNbaW5kZXhdKTsKICAgICAgICB9CiAgICAgIH0KCiAgICAgIGNvbnN0IGxhc3RDb250cm9sSWQgPSB0ZW1wQ29udHJvbHMubGVuZ3RoID4gMCA/IHRoaXMuZ2V0TG93ZXN0SW5kZXgodGVtcENvbnRyb2xzLCB1c2VyRGF0YVtjb250YWluZXJdLmNvbnRyb2xzLmxlbmd0aCAtIDEsIGZhbHNlKSA6IHRoaXMudXNlcmZvcm1EYXRhW3RoaXMudXNlckZvcm1JZF1bY29udGFpbmVyXS5jb250cm9scy5sZW5ndGggLSAxOwogICAgICB0aGlzLnVwZGF0ZVRhYkluZGV4KGlkLCBsYXN0Q29udHJvbElkKTsKCiAgICAgIGZvciAoY29uc3QgaW5kZXggb2YgdGVtcENvbnRyb2xzKSB7CiAgICAgICAgY29uc3QgY250cmxUYWJJbmRleCA9IHRoaXMudXNlcmZvcm1EYXRhW3RoaXMudXNlckZvcm1JZF1baW5kZXhdLmV4dHJhRGF0YXMuVGFiSW5kZXg7CiAgICAgICAgdGhpcy51cGRhdGVFeHRyYURhdGFzKGluZGV4LCAnVGFiSW5kZXgnLCBjbnRybFRhYkluZGV4ICsgMSk7CiAgICAgIH0KICAgIH0KICB9CgogIHVwZGF0ZUV4dHJhRGF0YXMoaWQsIHByb3BlcnR5TmFtZSwgdmFsdWUpIHsKICAgIHRoaXMudXBkYXRlQ29udHJvbEV4dHJhRGF0YSh7CiAgICAgIHVzZXJGb3JtSWQ6IHRoaXMudXNlckZvcm1JZCwKICAgICAgY29udHJvbElkOiBpZCwKICAgICAgcHJvcGVydHlOYW1lOiBwcm9wZXJ0eU5hbWUsCiAgICAgIHZhbHVlOiB2YWx1ZQogICAgfSk7CiAgfQoKICB1cGRhdGVUYWJJbmRleChpZCwgdmFsdWUpIHsKICAgIHRoaXMudXBkYXRlQ29udHJvbCh7CiAgICAgIHVzZXJGb3JtSWQ6IHRoaXMudXNlckZvcm1JZCwKICAgICAgY29udHJvbElkOiBpZCwKICAgICAgcHJvcGVydHlOYW1lOiAnVGFiSW5kZXgnLAogICAgICB2YWx1ZTogdmFsdWUKICAgIH0pOwogIH0KICAvKioKICAgKiBAZGVzY3JpcHRpb24gIGFkZCB0aGUgY29udHJvbCB0byBpdHMgcmVzcGVjdGl2ZSAgY29udGFpbmVyCiAgICogQGZ1bmN0aW9uIGFkZENvbnRyb2xPYmoKICAgKiBAcGFyYW0gZXZlbnQgIC0gaXQgaXMgb2YgdHlwZSBNb3VzZUV2ZW50CiAgICogQHBhcmFtIHVzZXJGb3JtSWQgLSBzZWxlY3RlZCBVc2VyZm9ybQogICAqIEBldmVudCBjbGljawogICAqLwoKCiAgYWRkQ29udHJvbE9iaihlLCBwYWdlSWQpIHsKICAgIGlmICh0aGlzLnRvb2xCb3hTZWxlY3QgIT09ICdTZWxlY3QnICYmIHRoaXMudG9vbEJveFNlbGVjdCAhPT0gJycpIHsKICAgICAgY29uc3QgY29udGFpbmVyID0gdGhpcy51c2VyZm9ybURhdGFbdGhpcy51c2VyRm9ybUlkXVt0aGlzLmNvbnRyb2xJZF07CiAgICAgIGNvbnN0IGNvbnRhaW5lclByb3AgPSBjb250YWluZXIucHJvcGVydGllczsKICAgICAgY29uc3QgdHlwZSA9IHRoaXMudXNlcmZvcm1EYXRhW3RoaXMudXNlckZvcm1JZF1bdGhpcy5jb250cm9sSWRdLnR5cGU7CiAgICAgIGNvbnN0IGl0ZW0gPSB0aGlzLmdlbmVyYXRlQ29udHJvbElkKHRoaXMudG9vbEJveFNlbGVjdCk7CiAgICAgIGNvbnN0IHN3ID0gcGFyc2VJbnQodGhpcy5zZWxlY3RlZEFyZWFTdHlsZS53aWR0aCk7CiAgICAgIGNvbnN0IHNoID0gcGFyc2VJbnQodGhpcy5zZWxlY3RlZEFyZWFTdHlsZS5oZWlnaHQpOwogICAgICBpdGVtLnByb3BlcnRpZXMuTGVmdCA9IGlzTmFOKHN3KSB8fCBzdyA9PT0gMCA/IGUub2Zmc2V0WCA6IHBhcnNlSW50KHRoaXMuc2VsZWN0ZWRBcmVhU3R5bGUubGVmdCk7CiAgICAgIGl0ZW0ucHJvcGVydGllcy5Ub3AgPSBpc05hTihzaCkgfHwgc2ggPT09IDAgPyBlLm9mZnNldFkgOiBwYXJzZUludCh0aGlzLnNlbGVjdGVkQXJlYVN0eWxlLnRvcCk7CiAgICAgIGl0ZW0ucHJvcGVydGllcy5XaWR0aCA9IGlzTmFOKHN3KSB8fCBzdyA9PT0gMCA/IGl0ZW0ucHJvcGVydGllcy5XaWR0aCA6IHN3OwogICAgICBpdGVtLnByb3BlcnRpZXMuSGVpZ2h0ID0gaXNOYU4oc2gpIHx8IHNoID09PSAwID8gaXRlbS5wcm9wZXJ0aWVzLkhlaWdodCA6IHNoOwoKICAgICAgaWYgKGNvbnRhaW5lci50eXBlID09PSAnVXNlckZvcm0nIHx8IGNvbnRhaW5lci50eXBlID09PSAnRnJhbWUnKSB7CiAgICAgICAgaXRlbS5wcm9wZXJ0aWVzLkJhY2tDb2xvciA9IHRoaXMuYmFja0NvbG9yUHJvcC5pbmNsdWRlcyhpdGVtLnR5cGUpID8gY29udGFpbmVyUHJvcC5CYWNrQ29sb3IgOiBpdGVtLnByb3BlcnRpZXMuQmFja0NvbG9yOwogICAgICAgIGl0ZW0ucHJvcGVydGllcy5Gb3JlQ29sb3IgPSB0aGlzLmZvcmVDb2xvclByb3AuaW5jbHVkZXMoaXRlbS50eXBlKSA/IGNvbnRhaW5lclByb3AuRm9yZUNvbG9yIDogaXRlbS5wcm9wZXJ0aWVzLkZvcmVDb2xvcjsKICAgICAgICBpdGVtLnByb3BlcnRpZXMuRm9udCA9IHRoaXMuZm9udFByb3AuaW5jbHVkZXMoaXRlbS50eXBlKSA/IHsgLi4uY29udGFpbmVyUHJvcC5Gb250CiAgICAgICAgfSA6IHsgLi4uaXRlbS5wcm9wZXJ0aWVzLkZvbnQKICAgICAgICB9OwogICAgICB9CgogICAgICBjb25zdCBjb250cm9scyA9IGl0ZW0uY29udHJvbHM7CiAgICAgIGl0ZW0uY29udHJvbHMgPSBpdGVtLnR5cGUgPT09ICdNdWx0aVBhZ2UnID8gW10gOiBpdGVtLmNvbnRyb2xzOwogICAgICBjb25zdCBuZXdDb250cm9sSWQgPSB0eXBlID09PSAnTXVsdGlQYWdlJyA/IHBhZ2VJZCA6IHRoaXMuY29udHJvbElkOwogICAgICB0aGlzLnVwZGF0ZU5ld0NvbnRyb2wobmV3Q29udHJvbElkLCBpdGVtLnByb3BlcnRpZXMuSUQsIGl0ZW0pOwogICAgICB0aGlzLnVwZGF0ZVRhYkluZGV4VmFsdWUoaXRlbS5wcm9wZXJ0aWVzLklEKTsKICAgICAgdGhpcy51cGRhdGVaSW5kZXhWYWx1ZShpdGVtLnByb3BlcnRpZXMuSUQpOwoKICAgICAgaWYgKGl0ZW0udHlwZSA9PT0gJ011bHRpUGFnZScgJiYgY29udHJvbHMubGVuZ3RoID4gMCkgewogICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgY29udHJvbHMubGVuZ3RoOyBpKyspIHsKICAgICAgICAgIGNvbnN0IHBhcmVudElkID0gaXRlbS5wcm9wZXJ0aWVzLklELnNwbGl0KCdNdWx0aVBhZ2UnKS5wb3AoKTsKICAgICAgICAgIGNvbnN0IGNvbnRyb2xOYW1lID0gYFBhZ2Uke3BhcmVudElkfV9gOwogICAgICAgICAgY29uc3QgcGFnZU9iaiA9IHRoaXMuZ2VuZXJhdGVDb250cm9sSWQoY29udHJvbE5hbWUpOwogICAgICAgICAgY29uc3QgY291bnQgPSB0aGlzLmdldFBhZ2VDb3VudChpdGVtLnByb3BlcnRpZXMuSUQpOwogICAgICAgICAgcGFnZU9iai5wcm9wZXJ0aWVzLkNhcHRpb24gPSBgUGFnZSR7Y291bnQgKyBpfWA7CiAgICAgICAgICBwYWdlT2JqLnByb3BlcnRpZXMuTmFtZSA9IGBQYWdlJHtjb3VudCArIGl9YDsKICAgICAgICAgIHBhZ2VPYmoucHJvcGVydGllcy5JbmRleCA9IGk7CiAgICAgICAgICB0aGlzLnVwZGF0ZU5ld0NvbnRyb2woaXRlbS5wcm9wZXJ0aWVzLklELCBwYWdlT2JqLnByb3BlcnRpZXMuSUQsIHBhZ2VPYmopOwogICAgICAgIH0KICAgICAgfQoKICAgICAgdGhpcy5zZWxlY3RDb250cm9sKHsKICAgICAgICB1c2VyRm9ybUlkOiB0aGlzLnVzZXJGb3JtSWQsCiAgICAgICAgc2VsZWN0OiB7CiAgICAgICAgICBjb250YWluZXI6IHRoaXMuZ2V0Q29udGFpbmVyTGlzdChpdGVtLnByb3BlcnRpZXMuSUQpLAogICAgICAgICAgc2VsZWN0ZWQ6IFtpdGVtLnByb3BlcnRpZXMuSURdCiAgICAgICAgfQogICAgICB9KTsKICAgIH0KCiAgICB0aGlzLmNoYW5nZVRvb2xCb3hTZWxlY3QoJ1NlbGVjdCcpOwoKICAgIGlmICh0aGlzLmFjdGl2YXRlQ3RybCkgewogICAgICBjb25zdCB0eXBlID0gdGhpcy51c2VyZm9ybURhdGFbdGhpcy51c2VyRm9ybUlkXVt0aGlzLmNvbnRyb2xJZF0udHlwZTsKICAgICAgY29uc3QgdXNlckRhdGEgPSB0aGlzLnVzZXJmb3JtRGF0YVt0aGlzLnVzZXJGb3JtSWRdOwogICAgICBjb25zdCBjb250cm9sRGF0YSA9IHR5cGUgPT09ICdNdWx0aVBhZ2UnID8gdXNlckRhdGFbcGFnZUlkXSA6IHRoaXMuZGF0YTsKCiAgICAgIGlmIChjb250cm9sRGF0YS5wcm9wZXJ0aWVzLklEID09PSB0aGlzLnNlbGVjdGVkQ29udHJvbHNbdGhpcy51c2VyRm9ybUlkXS5jb250YWluZXJbMF0pIHsKICAgICAgICBsZXQgbGVmdCA9IDA7CiAgICAgICAgbGV0IHJpZ2h0ID0gMDsKICAgICAgICBsZXQgdG9wID0gMDsKICAgICAgICBsZXQgYm90dG9tID0gMDsKCiAgICAgICAgaWYgKHRoaXMuYWN0aXZhdGVDdHJsKSB7CiAgICAgICAgICBsZXQgbWFpblNlbGVjdGVkID0gdGhpcy5zZWxlY3RlZENvbnRyb2xzW3RoaXMudXNlckZvcm1JZF0uc2VsZWN0ZWRbMF07CiAgICAgICAgICBsZXQgZGl2c3R5bGUgPSBbXTsKCiAgICAgICAgICBpZiAobWFpblNlbGVjdGVkLnN0YXJ0c1dpdGgoJ2dyb3VwJykgfHwgdXNlckRhdGFbdGhpcy5jb250cm9sSWRdLnByb3BlcnRpZXMuR3JvdXBJRCAhPT0gJycpIHsKICAgICAgICAgICAgRXZlbnRCdXMuJGVtaXQoJ2dldEdyb3VwU2l6ZScsIGRpdnN0YXlsZUFycmF5ID0+IHsKICAgICAgICAgICAgICBkaXZzdHlsZSA9IGRpdnN0YXlsZUFycmF5OwogICAgICAgICAgICB9KTsKICAgICAgICAgIH0KCiAgICAgICAgICBsZXQgbWFpbkN0cmwgPSB7CiAgICAgICAgICAgIElEOiAnJwogICAgICAgICAgfTsKCiAgICAgICAgICBpZiAobWFpblNlbGVjdGVkLnN0YXJ0c1dpdGgoJ2dyb3VwJykpIHsKICAgICAgICAgICAgY29uc3QgZ2V0SW5kZXggPSBkaXZzdHlsZS5maW5kSW5kZXgodmFsID0+IHZhbC5ncm91cE5hbWUgPT09IG1haW5TZWxlY3RlZCk7CiAgICAgICAgICAgIG1haW5DdHJsID0gewogICAgICAgICAgICAgIExlZnQ6IHBhcnNlSW50KGRpdnN0eWxlW2dldEluZGV4XS5sZWZ0KSwKICAgICAgICAgICAgICBUb3A6IHBhcnNlSW50KGRpdnN0eWxlW2dldEluZGV4XS50b3ApLAogICAgICAgICAgICAgIFdpZHRoOiBwYXJzZUludChkaXZzdHlsZVtnZXRJbmRleF0ud2lkdGgpLAogICAgICAgICAgICAgIEhlaWdodDogcGFyc2VJbnQoZGl2c3R5bGVbZ2V0SW5kZXhdLmhlaWdodCksCiAgICAgICAgICAgICAgSUQ6ICcnCiAgICAgICAgICAgIH07CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBtYWluQ3RybCA9IHVzZXJEYXRhW21haW5TZWxlY3RlZF0ucHJvcGVydGllczsKCiAgICAgICAgICAgIGlmICh0aGlzLnNlbGVjdGVkQ29udHJvbHNbdGhpcy51c2VyRm9ybUlkXS5zZWxlY3RlZC5sZW5ndGggPT09IDEpIHsKICAgICAgICAgICAgICBjb25zdCBzZWxUeXBlID0gdGhpcy51c2VyZm9ybURhdGFbdGhpcy51c2VyRm9ybUlkXVttYWluU2VsZWN0ZWRdLnR5cGU7CgogICAgICAgICAgICAgIGlmIChzZWxUeXBlID09PSAnVXNlcmZvcm0nIHx8IHNlbFR5cGUgPT09ICdGcmFtZScgfHwgc2VsVHlwZSA9PT0gJ1BhZ2UnIHx8IHNlbFR5cGUgPT09ICdNdWx0aVBhZ2UnKSB7CiAgICAgICAgICAgICAgICBtYWluU2VsZWN0ZWQgPSAnJzsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KCiAgICAgICAgICBpZiAobWFpblNlbGVjdGVkICE9PSAnJykgewogICAgICAgICAgICBsZXQgc2lkZUN0cmwgPSB7CiAgICAgICAgICAgICAgTGVmdDogZS5vZmZzZXRYLAogICAgICAgICAgICAgIFRvcDogZS5vZmZzZXRZLAogICAgICAgICAgICAgIFdpZHRoOiAwLAogICAgICAgICAgICAgIEhlaWdodDogMCwKICAgICAgICAgICAgICBJRDogJycKICAgICAgICAgICAgfTsKICAgICAgICAgICAgY29uc3Qgc2VsZWN0ZWRTaXplID0gewogICAgICAgICAgICAgIExlZnQ6IG1haW5DdHJsLkxlZnQgPCBzaWRlQ3RybC5MZWZ0ID8gbWFpbkN0cmwuTGVmdCA6IHNpZGVDdHJsLkxlZnQsCiAgICAgICAgICAgICAgVG9wOiBtYWluQ3RybC5Ub3AgPCBzaWRlQ3RybC5Ub3AgPyBtYWluQ3RybC5Ub3AgOiBzaWRlQ3RybC5Ub3AsCiAgICAgICAgICAgICAgV2lkdGg6IG1haW5DdHJsLkxlZnQgKyBtYWluQ3RybC5XaWR0aCA+IHNpZGVDdHJsLkxlZnQgKyBzaWRlQ3RybC5XaWR0aCA/IG1haW5DdHJsLkxlZnQgKyBtYWluQ3RybC5XaWR0aCA6IHNpZGVDdHJsLkxlZnQgKyBzaWRlQ3RybC5XaWR0aCwKICAgICAgICAgICAgICBIZWlnaHQ6IG1haW5DdHJsLlRvcCArIG1haW5DdHJsLkhlaWdodCA+IHNpZGVDdHJsLlRvcCArIHNpZGVDdHJsLkhlaWdodCA/IG1haW5DdHJsLlRvcCArIG1haW5DdHJsLkhlaWdodCA6IHNpZGVDdHJsLlRvcCArIHNpZGVDdHJsLkhlaWdodAogICAgICAgICAgICB9OwogICAgICAgICAgICBsZWZ0ID0gc2VsZWN0ZWRTaXplLkxlZnQ7CiAgICAgICAgICAgIHRvcCA9IHNlbGVjdGVkU2l6ZS5Ub3A7CiAgICAgICAgICAgIHJpZ2h0ID0gc2VsZWN0ZWRTaXplLldpZHRoOwogICAgICAgICAgICBib3R0b20gPSBzZWxlY3RlZFNpemUuSGVpZ2h0OwogICAgICAgICAgfQogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBsZWZ0ID0gcGFyc2VJbnQodGhpcy5zZWxlY3RlZEFyZWFTdHlsZS5sZWZ0KTsKICAgICAgICAgIHJpZ2h0ID0gcGFyc2VJbnQodGhpcy5zZWxlY3RlZEFyZWFTdHlsZS5sZWZ0KSArIHBhcnNlSW50KHRoaXMuc2VsZWN0ZWRBcmVhU3R5bGUud2lkdGgpOwogICAgICAgICAgdG9wID0gcGFyc2VJbnQodGhpcy5zZWxlY3RlZEFyZWFTdHlsZS50b3ApOwogICAgICAgICAgYm90dG9tID0gcGFyc2VJbnQodGhpcy5zZWxlY3RlZEFyZWFTdHlsZS50b3ApICsgcGFyc2VJbnQodGhpcy5zZWxlY3RlZEFyZWFTdHlsZS5oZWlnaHQpOwogICAgICAgIH0KCiAgICAgICAgY29uc3QgbGVmdEFycmF5ID0gW107CgogICAgICAgIGlmIChsZWZ0ICE9PSByaWdodCB8fCB0b3AgIT09IGJvdHRvbSkgewogICAgICAgICAgdGhpcy5zZWxlY3RlZENvbnRyb2xBcnJheSA9IFtdOwoKICAgICAgICAgIGZvciAobGV0IGkgaW4gY29udHJvbERhdGEuY29udHJvbHMpIHsKICAgICAgICAgICAgY29uc3Qga2V5ID0gY29udHJvbERhdGEuY29udHJvbHNbaV07CiAgICAgICAgICAgIGNvbnN0IGNvbnRyb2xQcm9wID0gdGhpcy51c2VyZm9ybURhdGFbdGhpcy51c2VyRm9ybUlkXVtrZXldLnByb3BlcnRpZXM7CgogICAgICAgICAgICBpZiAobGVmdCA8PSBjb250cm9sUHJvcC5MZWZ0ICsgY29udHJvbFByb3AuV2lkdGggJiYgcmlnaHQgPj0gY29udHJvbFByb3AuTGVmdCAmJiB0b3AgPD0gY29udHJvbFByb3AuVG9wICsgY29udHJvbFByb3AuSGVpZ2h0ICYmIGJvdHRvbSA+PSBjb250cm9sUHJvcC5Ub3ApIHsKICAgICAgICAgICAgICBpZiAoIXRoaXMuc2VsZWN0ZWRDb250cm9sQXJyYXkuaW5jbHVkZXMoa2V5KSkgewogICAgICAgICAgICAgICAgdGhpcy5zZWxlY3RlZENvbnRyb2xBcnJheS5wdXNoKGtleSk7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICB9CgogICAgICAgICAgY29uc3Qgc2VsZWN0ZWRHcm91cCA9IFtdOwoKICAgICAgICAgIGZvciAoY29uc3QgdmFsIG9mIHRoaXMuc2VsZWN0ZWRDb250cm9sQXJyYXkpIHsKICAgICAgICAgICAgY29uc3QgY29udHJvbEdyb3VwSWQgPSB0aGlzLnVzZXJmb3JtRGF0YVt0aGlzLnVzZXJGb3JtSWRdW3ZhbF0ucHJvcGVydGllcy5Hcm91cElEOwoKICAgICAgICAgICAgaWYgKGNvbnRyb2xHcm91cElkICYmIGNvbnRyb2xHcm91cElkICE9PSAnJykgewogICAgICAgICAgICAgICFzZWxlY3RlZEdyb3VwLmluY2x1ZGVzKGNvbnRyb2xHcm91cElkKSAmJiBzZWxlY3RlZEdyb3VwLnB1c2goY29udHJvbEdyb3VwSWQpOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgIHNlbGVjdGVkR3JvdXAucHVzaCh2YWwpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CgogICAgICAgICAgaWYgKHRoaXMuc2VsZWN0ZWRDb250cm9sQXJyYXkubGVuZ3RoICE9PSAwKSB7CiAgICAgICAgICAgIHRoaXMuc2VsZWN0Q29udHJvbCh7CiAgICAgICAgICAgICAgdXNlckZvcm1JZDogdGhpcy51c2VyRm9ybUlkLAogICAgICAgICAgICAgIHNlbGVjdDogewogICAgICAgICAgICAgICAgY29udGFpbmVyOiB0aGlzLmdldENvbnRhaW5lckxpc3Qoc2VsZWN0ZWRHcm91cFswXSksCiAgICAgICAgICAgICAgICBzZWxlY3RlZDogWy4uLnNlbGVjdGVkR3JvdXBdCiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0KICAgIH0KICB9CgogIGNyZWF0ZVBhZ2VOYW1lKHBhZ2VMaXN0KSB7CiAgICBsZXQgbGFzdENvbnRyb2xJZCA9IDA7CgogICAgZm9yIChsZXQgaSBvZiBwYWdlTGlzdCkgewogICAgICBpZiAoaS5pbmRleE9mKCdQYWdlJykgIT09IC0xKSB7CiAgICAgICAgY29uc3QgSWROdW0gPSBpLnNwbGl0KCdQYWdlJykucG9wKCkgfHwgJy0xJzsKICAgICAgICBjb25zdCBwYXNyZUlkID0gcGFyc2VJbnQoSWROdW0sIDEwKTsKCiAgICAgICAgaWYgKCFpc05hTihwYXNyZUlkKSAmJiBsYXN0Q29udHJvbElkIDwgcGFzcmVJZCkgewogICAgICAgICAgbGFzdENvbnRyb2xJZCA9IHBhc3JlSWQ7CiAgICAgICAgfQogICAgICB9CiAgICB9CgogICAgcmV0dXJuIGxhc3RDb250cm9sSWQgKyAxOwogIH0KCiAgZ2V0UGFnZUNvdW50KGNvbnRhaW5lcikgewogICAgY29uc3QgY29udGFpbmVyTGlzdCA9IHRoaXMuZ2V0Q29udGFpbmVyTGlzdChjb250YWluZXIpOwogICAgY29uc3QgcGFnZUxpc3QgPSBbXTsKCiAgICBmb3IgKGNvbnN0IGlkIG9mIGNvbnRhaW5lckxpc3QpIHsKICAgICAgY29uc3QgdHlwZSA9IHRoaXMudXNlcmZvcm1EYXRhW3RoaXMudXNlckZvcm1JZF1baWRdLnR5cGU7CgogICAgICBpZiAodHlwZSA9PT0gJ011bHRpUGFnZScpIHsKICAgICAgICBmb3IgKGNvbnN0IHBhZ2VJZCBvZiB0aGlzLnVzZXJmb3JtRGF0YVt0aGlzLnVzZXJGb3JtSWRdW2lkXS5jb250cm9scykgewogICAgICAgICAgcGFnZUxpc3QucHVzaCh0aGlzLnVzZXJmb3JtRGF0YVt0aGlzLnVzZXJGb3JtSWRdW3BhZ2VJZF0ucHJvcGVydGllcy5OYW1lKTsKICAgICAgICB9CiAgICAgIH0KICAgIH0KCiAgICBjb25zdCBuYW1lID0gdGhpcy5jcmVhdGVQYWdlTmFtZShwYWdlTGlzdCk7CiAgICByZXR1cm4gbmFtZTsKICB9CiAgLyoqCiAgICogQGRlc2NyaXB0aW9uICBkZWFjdGl2YXRlIHRoZSBhbGwgY29udHJvbCBwcmVzZW50IGluIGNvbnRhaW5lcgogICAqIEBmdW5jdGlvbiBkZUFjdGl2ZUNvbnRyb2wKICAgKiBAcGFyYW0gdGhpcyAgLSBWdWVDb21wb25lbnQgb2YgY29udGFpbmVyCiAgICogQGV2ZW50IG1vdXNlZG93bgogICAqLwoKCiAgZGVBY3RpdmVDb250cm9sKCkgewogICAgY29uc3QgY29udHJvbFR5cGUgPSB0aGlzLnVzZXJmb3JtRGF0YVt0aGlzLnVzZXJGb3JtSWRdW3RoaXMuY29udHJvbElkXS50eXBlOwoKICAgIGlmICh0aGlzLnNlbE11bHRpcGxlQ3RybCA9PT0gZmFsc2UgJiYgdGhpcy5hY3RpdmF0ZUN0cmwgPT09IGZhbHNlKSB7CiAgICAgIHRoaXMuc2VsZWN0Q29udHJvbCh7CiAgICAgICAgdXNlckZvcm1JZDogdGhpcy51c2VyRm9ybUlkLAogICAgICAgIHNlbGVjdDogewogICAgICAgICAgY29udGFpbmVyOiBjb250cm9sVHlwZSA9PT0gJ1VzZXJmb3JtJyA/IFt0aGlzLmNvbnRyb2xJZF0gOiB0aGlzLmdldENvbnRhaW5lckxpc3QodGhpcy5jb250cm9sSWQpLAogICAgICAgICAgc2VsZWN0ZWQ6IFt0aGlzLmNvbnRyb2xJZF0KICAgICAgICB9CiAgICAgIH0pOwogICAgfQogIH0KICAvKioKICAgKiBAZGVzY3JpcHRpb24gdG8gZHJhZyBhbmQgc2VsZWN0ICB0aGUgY29udG9sIGluIGNvbnRhaW5lcgogICAqIEBmdW5jdGlvbiBjYWxTZWxlY3RlZEFyZWFTdHlsZQogICAqIEBwYXJhbSBldmVudCAgLSBpdCBpcyBvZiB0eXBlIE1vdXNlRXZlbnQKICAgKiBAZXZlbnQgbW91c2V1cAogICAqLwoKCiAgY2FsU2VsZWN0ZWRBcmVhU3R5bGUoZXZlbnQsIHBhZ2VEYXRhKSB7CiAgICBjb25zdCB0eXBlID0gdGhpcy51c2VyZm9ybURhdGFbdGhpcy51c2VyRm9ybUlkXVt0aGlzLmNvbnRyb2xJZF0udHlwZTsKICAgIGNvbnN0IGNvbnRyb2xEYXRhID0gdHlwZSA9PT0gJ011bHRpUGFnZScgPyBwYWdlRGF0YSA6IHRoaXMuZGF0YTsKICAgIGNvbnN0IGxlZnQgPSBwYXJzZUludCh0aGlzLnNlbGVjdGVkQXJlYVN0eWxlLmxlZnQpOwogICAgY29uc3QgcmlnaHQgPSBwYXJzZUludCh0aGlzLnNlbGVjdGVkQXJlYVN0eWxlLmxlZnQpICsgcGFyc2VJbnQodGhpcy5zZWxlY3RlZEFyZWFTdHlsZS53aWR0aCk7CiAgICBjb25zdCB0b3AgPSBwYXJzZUludCh0aGlzLnNlbGVjdGVkQXJlYVN0eWxlLnRvcCk7CiAgICBjb25zdCBib3R0b20gPSBwYXJzZUludCh0aGlzLnNlbGVjdGVkQXJlYVN0eWxlLnRvcCkgKyBwYXJzZUludCh0aGlzLnNlbGVjdGVkQXJlYVN0eWxlLmhlaWdodCk7CiAgICBjb25zdCBsZWZ0QXJyYXkgPSBbXTsKCiAgICBpZiAobGVmdCAhPT0gcmlnaHQgfHwgdG9wICE9PSBib3R0b20pIHsKICAgICAgZm9yIChsZXQgaSBpbiBjb250cm9sRGF0YS5jb250cm9scykgewogICAgICAgIGNvbnN0IGtleSA9IGNvbnRyb2xEYXRhLmNvbnRyb2xzW2ldOwogICAgICAgIGNvbnN0IGNvbnRyb2xQcm9wID0gdGhpcy51c2VyZm9ybURhdGFbdGhpcy51c2VyRm9ybUlkXVtrZXldLnByb3BlcnRpZXM7CgogICAgICAgIGlmIChsZWZ0IDw9IGNvbnRyb2xQcm9wLkxlZnQgKyBjb250cm9sUHJvcC5XaWR0aCAmJiByaWdodCA+PSBjb250cm9sUHJvcC5MZWZ0ICYmIHRvcCA8PSBjb250cm9sUHJvcC5Ub3AgKyBjb250cm9sUHJvcC5IZWlnaHQgJiYgYm90dG9tID49IGNvbnRyb2xQcm9wLlRvcCkgewogICAgICAgICAgdGhpcy5zZWxlY3RlZENvbnRyb2xBcnJheS5wdXNoKGtleSk7CiAgICAgICAgfQogICAgICB9CgogICAgICBjb25zdCBzZWxlY3RlZEdyb3VwID0gW107CgogICAgICBmb3IgKGNvbnN0IHZhbCBvZiB0aGlzLnNlbGVjdGVkQ29udHJvbEFycmF5KSB7CiAgICAgICAgY29uc3QgY29udHJvbEdyb3VwSWQgPSB0aGlzLnVzZXJmb3JtRGF0YVt0aGlzLnVzZXJGb3JtSWRdW3ZhbF0ucHJvcGVydGllcy5Hcm91cElEOwoKICAgICAgICBpZiAoY29udHJvbEdyb3VwSWQgJiYgY29udHJvbEdyb3VwSWQgIT09ICcnKSB7CiAgICAgICAgICAhc2VsZWN0ZWRHcm91cC5pbmNsdWRlcyhjb250cm9sR3JvdXBJZCkgJiYgc2VsZWN0ZWRHcm91cC5wdXNoKGNvbnRyb2xHcm91cElkKTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgc2VsZWN0ZWRHcm91cC5wdXNoKHZhbCk7CiAgICAgICAgfQogICAgICB9CgogICAgICBpZiAodGhpcy5zZWxlY3RlZENvbnRyb2xBcnJheS5sZW5ndGggIT09IDApIHsKICAgICAgICBpZiAodGhpcy5zZWxNdWx0aXBsZUN0cmwpIHsKICAgICAgICAgIGxldCBzZWxlY3RlZCA9IFsuLi50aGlzLnNlbGVjdGVkQ29udHJvbHNbdGhpcy51c2VyRm9ybUlkXS5zZWxlY3RlZF07CgogICAgICAgICAgaWYgKHNlbGVjdGVkWzBdID09PSBjb250cm9sRGF0YS5wcm9wZXJ0aWVzLklEKSB7CiAgICAgICAgICAgIHNlbGVjdGVkID0gW107CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBzZWxlY3RlZCA9IFsuLi5zZWxlY3RlZF07CiAgICAgICAgICB9CgogICAgICAgICAgbGV0IGNvbWJpbmVBcnJheSA9IHNlbGVjdGVkLmZpbHRlcih4ID0+ICFzZWxlY3RlZEdyb3VwLmluY2x1ZGVzKHgpKS5jb25jYXQoc2VsZWN0ZWRHcm91cC5maWx0ZXIoeCA9PiAhc2VsZWN0ZWQuaW5jbHVkZXMoeCkpKTsKICAgICAgICAgIHRoaXMuc2VsZWN0Q29udHJvbCh7CiAgICAgICAgICAgIHVzZXJGb3JtSWQ6IHRoaXMudXNlckZvcm1JZCwKICAgICAgICAgICAgc2VsZWN0OiB7CiAgICAgICAgICAgICAgY29udGFpbmVyOiBjb21iaW5lQXJyYXkubGVuZ3RoID4gMCA/IHRoaXMuZ2V0Q29udGFpbmVyTGlzdChjb21iaW5lQXJyYXlbMF0pIDogdGhpcy5zZWxlY3RlZENvbnRyb2xzW3RoaXMudXNlckZvcm1JZF0uY29udGFpbmVyLAogICAgICAgICAgICAgIHNlbGVjdGVkOiBjb21iaW5lQXJyYXkubGVuZ3RoID4gMCA/IGNvbWJpbmVBcnJheSA6IFt0aGlzLnNlbGVjdGVkQ29udHJvbHNbdGhpcy51c2VyRm9ybUlkXS5jb250YWluZXJbMF1dCiAgICAgICAgICAgIH0KICAgICAgICAgIH0pOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICB0aGlzLnNlbGVjdENvbnRyb2woewogICAgICAgICAgICB1c2VyRm9ybUlkOiB0aGlzLnVzZXJGb3JtSWQsCiAgICAgICAgICAgIHNlbGVjdDogewogICAgICAgICAgICAgIGNvbnRhaW5lcjogdGhpcy5nZXRDb250YWluZXJMaXN0KHNlbGVjdGVkR3JvdXBbMF0pLAogICAgICAgICAgICAgIHNlbGVjdGVkOiBbLi4uc2VsZWN0ZWRHcm91cF0KICAgICAgICAgICAgfQogICAgICAgICAgfSk7CiAgICAgICAgfQogICAgICB9CiAgICB9CiAgfQoKfTsKCl9fZGVjb3JhdGUoW1Byb3AoewogIHJlcXVpcmVkOiB0cnVlLAogIHR5cGU6IFN0cmluZwp9KV0sIEZkQ29udGFpbmVyVnVlLnByb3RvdHlwZSwgInVzZXJGb3JtSWQiLCB2b2lkIDApOwoKX19kZWNvcmF0ZShbUHJvcCh7CiAgcmVxdWlyZWQ6IHRydWUsCiAgdHlwZTogU3RyaW5nCn0pXSwgRmRDb250YWluZXJWdWUucHJvdG90eXBlLCAiY29udGFpbmVySWQiLCB2b2lkIDApOwoKX19kZWNvcmF0ZShbU3RhdGUoc3RhdGUgPT4gc3RhdGUuZmQudG9vbEJveFNlbGVjdCldLCBGZENvbnRhaW5lclZ1ZS5wcm90b3R5cGUsICJ0b29sQm94U2VsZWN0Iiwgdm9pZCAwKTsKCl9fZGVjb3JhdGUoW1N0YXRlKHN0YXRlID0+IHN0YXRlLmZkLmNvcHlDb250cm9sTGlzdCldLCBGZENvbnRhaW5lclZ1ZS5wcm90b3R5cGUsICJjb3B5Q29udHJvbCIsIHZvaWQgMCk7CgpfX2RlY29yYXRlKFtTdGF0ZShzdGF0ZSA9PiBzdGF0ZS5mZC51c2VyZm9ybURhdGEpXSwgRmRDb250YWluZXJWdWUucHJvdG90eXBlLCAidXNlcmZvcm1EYXRhIiwgdm9pZCAwKTsKCl9fZGVjb3JhdGUoW1N0YXRlKHN0YXRlID0+IHN0YXRlLmZkLnNlbGVjdGVkQ29udHJvbHMpXSwgRmRDb250YWluZXJWdWUucHJvdG90eXBlLCAic2VsZWN0ZWRDb250cm9scyIsIHZvaWQgMCk7CgpfX2RlY29yYXRlKFtTdGF0ZShzdGF0ZSA9PiBzdGF0ZS5mZC5ncm91cGVkQ29udHJvbHMpXSwgRmRDb250YWluZXJWdWUucHJvdG90eXBlLCAiZ3JvdXBlZENvbnRyb2xzIiwgdm9pZCAwKTsKCl9fZGVjb3JhdGUoW1N0YXRlKHN0YXRlID0+IHN0YXRlLmZkLmNvcGllZENvbnRyb2wpXSwgRmRDb250YWluZXJWdWUucHJvdG90eXBlLCAiY29waWVkQ29udHJvbCIsIHZvaWQgMCk7CgpfX2RlY29yYXRlKFtBY3Rpb24oJ2ZkL2NoYW5nZVRvb2xCb3hTZWxlY3QnKV0sIEZkQ29udGFpbmVyVnVlLnByb3RvdHlwZSwgImNoYW5nZVRvb2xCb3hTZWxlY3QiLCB2b2lkIDApOwoKX19kZWNvcmF0ZShbQWN0aW9uKCdmZC9zZWxlY3RDb250cm9sJyldLCBGZENvbnRhaW5lclZ1ZS5wcm90b3R5cGUsICJzZWxlY3RDb250cm9sIiwgdm9pZCAwKTsKCl9fZGVjb3JhdGUoW0FjdGlvbignZmQvYWRkQ29udHJvbCcpXSwgRmRDb250YWluZXJWdWUucHJvdG90eXBlLCAiYWRkQ29udHJvbCIsIHZvaWQgMCk7CgpfX2RlY29yYXRlKFtBY3Rpb24oJ2ZkL3VwZGF0ZUNvcHlDb250cm9sTGlzdCcpXSwgRmRDb250YWluZXJWdWUucHJvdG90eXBlLCAidXBkYXRlQ29weUNvbnRyb2xMaXN0Iiwgdm9pZCAwKTsKCl9fZGVjb3JhdGUoW0FjdGlvbignZmQvZGVsZXRlQ29udHJvbCcpXSwgRmRDb250YWluZXJWdWUucHJvdG90eXBlLCAiZGVsZXRlQ29udHJvbCIsIHZvaWQgMCk7CgpfX2RlY29yYXRlKFtBY3Rpb24oJ2ZkL3VwZGF0ZUdyb3VwJyldLCBGZENvbnRhaW5lclZ1ZS5wcm90b3R5cGUsICJ1cGRhdGVHcm91cCIsIHZvaWQgMCk7CgpfX2RlY29yYXRlKFtBY3Rpb24oJ2ZkL3VwZGF0ZUNvbnRyb2wnKV0sIEZkQ29udGFpbmVyVnVlLnByb3RvdHlwZSwgInVwZGF0ZUNvbnRyb2wiLCB2b2lkIDApOwoKX19kZWNvcmF0ZShbQWN0aW9uKCdmZC91cGRhdGVDb250cm9sRXh0cmFEYXRhJyldLCBGZENvbnRhaW5lclZ1ZS5wcm90b3R5cGUsICJ1cGRhdGVDb250cm9sRXh0cmFEYXRhIiwgdm9pZCAwKTsKCkZkQ29udGFpbmVyVnVlID0gX19kZWNvcmF0ZShbQ29tcG9uZW50KHsKICBuYW1lOiAnRmRDb250YWluZXJWdWUnCn0pXSwgRmRDb250YWluZXJWdWUpOwpleHBvcnQgZGVmYXVsdCBGZENvbnRhaW5lclZ1ZTs="},{"version":3,"sources":["/home/mobiotics/Projects/hancom/FormcontrolLatest/node_modules/eslint-loader/index.js??ref--13-0!/home/mobiotics/Projects/hancom/FormcontrolLatest/src/api/abstract/FormDesigner/FdContainerVue.ts"],"names":[],"mappings":"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","sourcesContent":["import { Component, Prop, Vue } from 'vue-property-decorator'\r\nimport { controlProperties } from '@/FormDesigner/controls-properties'\r\nimport FdControlVue from './FdControlVue'\r\nimport { Action, State } from 'vuex-class'\r\nimport { IaddControl, IchangeToolBoxSelect, IdeleteControl, IselectControl, IupdateControl, IupdateControlExtraData, IupdateCopyControlList, IupdateGroup } from '@/storeModules/fd/actions'\r\n\r\nimport { controlContextMenu } from '@/FormDesigner/models/controlContextMenuData'\r\nimport { userformContextMenu } from '@/FormDesigner/models/userformContextMenuData'\r\nimport { ControlPropertyData } from '@/FormDesigner/models/ControlsTableProperties/ControlPropertyData.ts'\r\nimport { EventBus } from '@/FormDesigner/event-bus'\r\n@Component({\r\n  name: 'FdContainerVue'\r\n})\r\nexport default class FdContainerVue extends FdControlVue {\r\n  @Prop({ required: true, type: String }) public readonly userFormId!: string\r\n  @Prop({ required: true, type: String }) public readonly containerId!: string\r\n  @State((state: rootState) => state.fd.toolBoxSelect) toolBoxSelect!: fdState['toolBoxSelect'];\r\n  @State((state) => state.fd.copyControlList) copyControl!: copyControl;\r\n  @State((state) => state.fd.userformData) userformData!: userformData;\r\n  @State((state) => state.fd.selectedControls) selectedControls!: fdState['selectedControls'];\r\n  @State(state => state.fd.groupedControls) groupedControls!: fdState['groupedControls']\r\n  @State((state) => state.fd.copiedControl) copiedControl!: userformData;\r\n\r\n  @Action('fd/changeToolBoxSelect') changeToolBoxSelect!: (payload: IchangeToolBoxSelect) => void;\r\n  @Action('fd/selectControl') selectControl!: (payload: IselectControl) => void;\r\n  @Action('fd/addControl') addControl!: (payload: IaddControl) => void;\r\n  @Action('fd/updateCopyControlList') updateCopyControlList!: (payload: IupdateCopyControlList) => void\r\n  @Action('fd/deleteControl') deleteControl!: (payload: IdeleteControl) => void\r\n  @Action('fd/updateGroup') updateGroup!: (payload: IupdateGroup) => void\r\n  @Action('fd/updateControl') updateControl!: (payload: IupdateControl) => void;\r\n  @Action('fd/updateControlExtraData') updateControlExtraData!: (payload: IupdateControlExtraData) => void;\r\n\r\n  controlContextMenu: Array<IcontextMenu> = controlContextMenu;\r\n  userformContextMenu: Array<IcontextMenu> = userformContextMenu;\r\n  selectedControlArray: Array<string> = [];\r\n  selectedAreaStyle: ISelectedArea | undefined\r\n  selMultipleCtrl: boolean = false\r\n  activateCtrl: boolean = false\r\n  backColorProp = ['Frame', 'CheckBox', 'OptionButton', 'Label', 'MultiPage']\r\n  foreColorProp = ['Frame', 'CheckBox', 'OptionButton', 'Label', 'MultiPage', 'TabStrip']\r\n  fontProp = ['Frame', 'CheckBox', 'OptionButton', 'Label', 'MultiPage', 'TabStrip', 'ToggleButton', 'CommandButton']\r\n\r\n  get selConatiner () {\r\n    return this.selectedControls[this.userFormId].container\r\n  }\r\n  /**\r\n * @description  To get the selected ContainerList\r\n * @function getContainerList\r\n * @param selectTarget  - selcted control or group\r\n */\r\n  getContainerList (selectTarget: string) {\r\n    const containerList: string[] = []\r\n    const controlContainer = (selectTarget: string) => {\r\n      for (let i in this.userformData[this.userFormId]) {\r\n        const controlData = this.userformData[this.userFormId][i]\r\n        if (\r\n          controlData.controls.length > 0 &&\r\n          controlData.controls.includes(selectTarget)\r\n        ) {\r\n          containerList.push(i)\r\n          controlContainer(i)\r\n        }\r\n      }\r\n    }\r\n    const getControlId = (selectTarget: string) => {\r\n      const userData = this.userformData[this.userFormId]\r\n      for (let i in userData) {\r\n        const controlData = userData[i]\r\n        if (controlData.properties.GroupID === selectTarget) {\r\n          return i\r\n        }\r\n      }\r\n    }\r\n    if (selectTarget) {\r\n      const controlId = selectTarget.startsWith('group') ? getControlId(selectTarget) : selectTarget\r\n      if (controlId) {\r\n        controlContainer(controlId)\r\n      }\r\n    }\r\n    return containerList.length > 0 ? containerList : [this.userFormId]\r\n  }\r\n  generateUniqueName (controlName: string) {\r\n    let lastControlId = 0\r\n    const userformControlIds = Object.keys(this.userformData[this.userFormId])\r\n    for (let i = 0; i < userformControlIds.length; i++) {\r\n      const ctrlProp = this.userformData[this.userFormId][userformControlIds[i]].properties\r\n      if (ctrlProp.Name!.indexOf(controlName) !== -1) {\r\n        const IdNum =\r\n        ctrlProp.Name!.split(controlName).pop() || '-1'\r\n        const pasreId = parseInt(IdNum, 10)\r\n        if (!isNaN(pasreId) && lastControlId < pasreId) {\r\n          lastControlId = pasreId\r\n        }\r\n      }\r\n    }\r\n    return `${controlName}${lastControlId + 1}`\r\n  }\r\n  generateControlId (controlName: string) {\r\n    let lastControlId = 0\r\n    const userformControlIds = Object.keys(this.userformData[this.userFormId])\r\n    for (let i = 0; i < userformControlIds.length; i++) {\r\n      if (userformControlIds[i].indexOf(controlName) !== -1) {\r\n        const IdNum =\r\n          userformControlIds[i].split(controlName).pop() || '-1'\r\n        const pasreId = parseInt(IdNum, 10)\r\n        if (!isNaN(pasreId) && lastControlId < pasreId) {\r\n          lastControlId = pasreId\r\n        }\r\n      }\r\n    }\r\n    const controlPropData = new ControlPropertyData()\r\n    let controlObj = controlName.startsWith('Page') ? controlPropData.data['Page'] : controlPropData.data[controlName]\r\n    const item = JSON.parse(JSON.stringify(controlObj!))\r\n    lastControlId += 1\r\n    item.properties.ID = `ID_${controlName}${lastControlId}`\r\n    item.properties.Caption = `${controlName}${lastControlId}`\r\n    item.properties.Name = this.generateUniqueName(controlName)\r\n    return item\r\n  }\r\n\r\n  updateNewControl (parentId: string, newControlId: string, newControlData: controlData) {\r\n    this.addControl({\r\n      userFormId: this.userFormId,\r\n      controlId!: parentId,\r\n      addId: newControlId,\r\n      item: newControlData\r\n    })\r\n  }\r\n  getLowestIndex (tempControls: string[], controlLength: number, propertyType: boolean) {\r\n    let lastControlId = controlLength\r\n    const userData = this.userformData[this.userFormId]\r\n    for (let i = 0; i < tempControls.length; i++) {\r\n      const propetyName = propertyType ? userData[tempControls[i]].extraDatas!.zIndex! : userData[tempControls[i]].extraDatas!.TabIndex!\r\n      if (propetyName !== -1) {\r\n        const IdNum = propetyName\r\n        if (!isNaN(IdNum) && lastControlId > IdNum) {\r\n          lastControlId = IdNum\r\n        }\r\n      }\r\n    }\r\n    return lastControlId\r\n  }\r\n  updateZIndexValue (id: string) {\r\n    const userData = this.userformData[this.userFormId]\r\n    const container = this.getContainerList(id)[0]\r\n    const containerControls = this.userformData[this.userFormId][container].controls\r\n    const controlType = userData[id].type\r\n    if (controlType === 'MultiPage' || controlType === 'Frame' || controlType === 'ListBox') {\r\n      this.updateExtraDatas(id, 'zIndex', userData[container].controls.length)\r\n    } else {\r\n      const tempControls = []\r\n      for (const index in containerControls) {\r\n        const cntrlData = this.userformData[this.userFormId][containerControls[index]]\r\n        if (cntrlData.type === 'MultiPage' || cntrlData.type === 'Frame' || cntrlData.type === 'ListBox') {\r\n          tempControls.push(containerControls[index])\r\n        }\r\n      }\r\n      const lastControlId = tempControls.length > 0 ? this.getLowestIndex(tempControls, userData[container].controls.length, true)\r\n        : this.userformData[this.userFormId][container].controls.length\r\n      this.updateExtraDatas(id, 'zIndex', lastControlId)\r\n      for (const index of tempControls) {\r\n        const cntrlZIndex = this.userformData[this.userFormId][index].extraDatas!.zIndex!\r\n        this.updateExtraDatas(index, 'zIndex', cntrlZIndex + 1)\r\n      }\r\n    }\r\n  }\r\n  updateTabIndexValue (id: string) {\r\n    const userData = this.userformData[this.userFormId]\r\n    const container = this.getContainerList(id)[0]\r\n    const containerControls = this.userformData[this.userFormId][container].controls\r\n    const controlType = userData[id].type\r\n    if (controlType === 'FDImage') {\r\n      this.updateExtraDatas(id, 'TabIndex', userData[container].controls.length - 1)\r\n    } else {\r\n      const tempControls = []\r\n      for (const index in containerControls) {\r\n        const cntrlData = this.userformData[this.userFormId][containerControls[index]]\r\n        if (cntrlData.type === 'FDImage') {\r\n          tempControls.push(containerControls[index])\r\n        }\r\n      }\r\n      const lastControlId = tempControls.length > 0 ? this.getLowestIndex(tempControls, userData[container].controls.length - 1, false)\r\n        : this.userformData[this.userFormId][container].controls.length - 1\r\n      this.updateTabIndex(id, lastControlId)\r\n      for (const index of tempControls) {\r\n        const cntrlTabIndex = this.userformData[this.userFormId][index].extraDatas!.TabIndex!\r\n        this.updateExtraDatas(index, 'TabIndex', cntrlTabIndex + 1)\r\n      }\r\n    }\r\n  }\r\n  updateExtraDatas (id: string, propertyName: keyof extraDatas, value: number) {\r\n    this.updateControlExtraData({\r\n      userFormId: this.userFormId,\r\n      controlId: id,\r\n      propertyName: propertyName,\r\n      value: value\r\n    })\r\n  }\r\n  updateTabIndex (id: string, value: number) {\r\n    this.updateControl({\r\n      userFormId: this.userFormId,\r\n      controlId: id,\r\n      propertyName: 'TabIndex',\r\n      value: value\r\n    })\r\n  }\r\n  /**\r\n   * @description  add the control to its respective  container\r\n   * @function addControlObj\r\n   * @param event  - it is of type MouseEvent\r\n   * @param userFormId - selected Userform\r\n   * @event click\r\n   */\r\n  addControlObj (e: MouseEvent, pageId: string) {\r\n    if (this.toolBoxSelect !== 'Select' && this.toolBoxSelect !== '') {\r\n      const container = this.userformData[this.userFormId][this.controlId]\r\n      const containerProp = container.properties\r\n      const type = this.userformData[this.userFormId][this.controlId].type\r\n      const item = this.generateControlId(this.toolBoxSelect)\r\n      const sw = parseInt(this.selectedAreaStyle!.width!)\r\n      const sh = parseInt(this.selectedAreaStyle!.height)\r\n\r\n      item.properties.Left = (isNaN(sw!) || sw! === 0) ? e.offsetX : parseInt(this.selectedAreaStyle!.left)\r\n      item.properties.Top = (isNaN(sh!) || sh! === 0) ? e.offsetY : parseInt(this.selectedAreaStyle!.top)\r\n      item.properties.Width = (isNaN(sw!) || sw! === 0) ? item.properties.Width : sw\r\n      item.properties.Height = (isNaN(sh!) || sh! === 0) ? item.properties.Height : sh\r\n      if (container.type === 'UserForm' || container.type === 'Frame') {\r\n        item.properties.BackColor = this.backColorProp.includes(item.type) ? containerProp.BackColor : item.properties.BackColor\r\n        item.properties.ForeColor = this.foreColorProp.includes(item.type) ? containerProp.ForeColor : item.properties.ForeColor\r\n        item.properties.Font = this.fontProp.includes(item.type) ? { ...containerProp.Font } : { ...item.properties.Font }\r\n      }\r\n      const controls = item.controls\r\n      item.controls = item.type === 'MultiPage' ? [] : item.controls\r\n      const newControlId = type === 'MultiPage' ? pageId : this.controlId\r\n      this.updateNewControl(newControlId, item.properties.ID, item)\r\n      this.updateTabIndexValue(item.properties.ID)\r\n      this.updateZIndexValue(item.properties.ID)\r\n\r\n      if (item.type === 'MultiPage' && controls.length > 0) {\r\n        for (let i = 0; i < controls.length; i++) {\r\n          const parentId = item.properties.ID.split('MultiPage').pop()\r\n          const controlName = `Page${parentId}_`\r\n          const pageObj = this.generateControlId(controlName)\r\n          const count = this.getPageCount(item.properties.ID)\r\n          pageObj.properties.Caption = `Page${count + i}`\r\n          pageObj.properties.Name = `Page${count + i}`\r\n          pageObj.properties.Index = i\r\n          this.updateNewControl(item.properties.ID, pageObj.properties.ID, pageObj)\r\n        }\r\n      }\r\n      this.selectControl({\r\n        userFormId: this.userFormId,\r\n        select: {\r\n          container: this.getContainerList(item.properties.ID),\r\n          selected: [item.properties.ID]\r\n        }\r\n      })\r\n    }\r\n    this.changeToolBoxSelect('Select')\r\n    if (this.activateCtrl) {\r\n      const type = this.userformData[this.userFormId][this.controlId].type\r\n      const userData = this.userformData[this.userFormId]\r\n      const controlData: controlData = type === 'MultiPage' ? userData[pageId] : this.data\r\n      if (controlData.properties.ID === this.selectedControls[this.userFormId].container[0]) {\r\n        let left = 0\r\n        let right = 0\r\n        let top = 0\r\n        let bottom = 0\r\n        if (this.activateCtrl) {\r\n          let mainSelected = this.selectedControls[this.userFormId].selected[0]\r\n          let divstyle: Array<IGroupStyle> = []\r\n          if (mainSelected.startsWith('group') || userData[this.controlId].properties.GroupID !== '') {\r\n            EventBus.$emit('getGroupSize', (divstayleArray: Array<IGroupStyle>) => {\r\n              divstyle = divstayleArray\r\n            })\r\n          }\r\n          let mainCtrl: controlProperties = { ID: '' }\r\n          if (mainSelected.startsWith('group')) {\r\n            const getIndex = divstyle.findIndex(val => val.groupName === mainSelected)\r\n            mainCtrl = {\r\n              Left: parseInt(divstyle[getIndex].left!),\r\n              Top: parseInt(divstyle[getIndex].top!),\r\n              Width: parseInt(divstyle[getIndex].width!),\r\n              Height: parseInt(divstyle[getIndex].height!),\r\n              ID: ''\r\n            }\r\n          } else {\r\n            mainCtrl = userData[mainSelected].properties\r\n            if (this.selectedControls[this.userFormId].selected.length === 1) {\r\n              const selType = this.userformData[this.userFormId][mainSelected].type\r\n              if (selType === 'Userform' || selType === 'Frame' || selType === 'Page' || selType === 'MultiPage') {\r\n                mainSelected = ''\r\n              }\r\n            }\r\n          }\r\n          if (mainSelected !== '') {\r\n            let sideCtrl = {\r\n              Left: e.offsetX,\r\n              Top: e.offsetY,\r\n              Width: 0,\r\n              Height: 0,\r\n              ID: ''\r\n            }\r\n            const selectedSize = {\r\n              Left: mainCtrl.Left! < sideCtrl.Left! ? mainCtrl.Left! : sideCtrl.Left!,\r\n              Top: mainCtrl.Top! < sideCtrl.Top! ? mainCtrl.Top! : sideCtrl.Top!,\r\n              Width: (mainCtrl.Left! + mainCtrl.Width!) > (sideCtrl.Left! + sideCtrl.Width!) ? mainCtrl.Left! + mainCtrl.Width! : sideCtrl.Left! + sideCtrl.Width!,\r\n              Height: (mainCtrl.Top! + mainCtrl.Height!) > (sideCtrl.Top! + sideCtrl.Height!) ? mainCtrl.Top! + mainCtrl.Height! : sideCtrl.Top! + sideCtrl.Height!\r\n            }\r\n            left = selectedSize.Left\r\n            top = selectedSize.Top\r\n            right = selectedSize.Width\r\n            bottom = selectedSize.Height\r\n          }\r\n        } else {\r\n          left = parseInt(this.selectedAreaStyle!.left)\r\n          right =\r\n          parseInt(this.selectedAreaStyle!.left) +\r\n          parseInt(this.selectedAreaStyle!.width)\r\n          top = parseInt(this.selectedAreaStyle!.top)\r\n          bottom =\r\n          parseInt(this.selectedAreaStyle!.top) +\r\n          parseInt(this.selectedAreaStyle!.height)\r\n        }\r\n        const leftArray: Array<number> = []\r\n        if (left !== right || top !== bottom) {\r\n          this.selectedControlArray = []\r\n          for (let i in controlData.controls) {\r\n            const key: string = controlData.controls[i]\r\n            const controlProp: controlProperties = this.userformData[this.userFormId][key].properties\r\n            if (\r\n              left <= controlProp!.Left! + controlProp!.Width! &&\r\n              right >= controlProp!.Left! &&\r\n              top <= controlProp!.Top! + controlProp!.Height! &&\r\n              bottom >= controlProp!.Top!\r\n            ) {\r\n              if (!this.selectedControlArray.includes(key)) { this.selectedControlArray.push(key) }\r\n            }\r\n          }\r\n          const selectedGroup: string[] = []\r\n          for (const val of this.selectedControlArray) {\r\n            const controlGroupId: string = this.userformData[this.userFormId][val]\r\n              .properties.GroupID!\r\n            if (controlGroupId && controlGroupId !== '') {\r\n              !selectedGroup.includes(controlGroupId)! &&\r\n                selectedGroup.push(controlGroupId)\r\n            } else {\r\n              selectedGroup.push(val)\r\n            }\r\n          }\r\n          if (this.selectedControlArray.length !== 0) {\r\n            this.selectControl({\r\n              userFormId: this.userFormId,\r\n              select: {\r\n                container: this.getContainerList(selectedGroup[0]),\r\n                selected: [...selectedGroup]\r\n              }\r\n            })\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n  createPageName (pageList: string[]) {\r\n    let lastControlId = 0\r\n    for (let i of pageList) {\r\n      if (i.indexOf('Page') !== -1) {\r\n        const IdNum = i.split('Page').pop() || '-1'\r\n        const pasreId = parseInt(IdNum, 10)\r\n        if (!isNaN(pasreId) && lastControlId < pasreId) {\r\n          lastControlId = pasreId\r\n        }\r\n      }\r\n    }\r\n    return lastControlId + 1\r\n  }\r\n  getPageCount (container: string) {\r\n    const containerList = this.getContainerList(container)\r\n    const pageList: string[] = []\r\n    for (const id of containerList) {\r\n      const type = this.userformData[this.userFormId][id].type\r\n      if (type === 'MultiPage') {\r\n        for (const pageId of this.userformData[this.userFormId][id].controls) {\r\n          pageList.push(this.userformData[this.userFormId][pageId].properties.Name!)\r\n        }\r\n      }\r\n    }\r\n    const name = this.createPageName(pageList)\r\n    return name\r\n  }\r\n\r\n  /**\r\n   * @description  deactivate the all control present in container\r\n   * @function deActiveControl\r\n   * @param this  - VueComponent of container\r\n   * @event mousedown\r\n   */\r\n  deActiveControl () {\r\n    const controlType: string = this.userformData[this.userFormId][this.controlId].type\r\n    if (this.selMultipleCtrl === false && this.activateCtrl === false) {\r\n      this.selectControl({\r\n        userFormId: this.userFormId,\r\n        select: { container: controlType === 'Userform' ? [this.controlId] : this.getContainerList(this.controlId), selected: [this.controlId] }\r\n      })\r\n    }\r\n  }\r\n\r\n  /**\r\n   * @description to drag and select  the contol in container\r\n   * @function calSelectedAreaStyle\r\n   * @param event  - it is of type MouseEvent\r\n   * @event mouseup\r\n   */\r\n  calSelectedAreaStyle (event: MouseEvent, pageData: controlData) {\r\n    const type = this.userformData[this.userFormId][this.controlId].type\r\n    const controlData: controlData = type === 'MultiPage' ? pageData : this.data\r\n    const left = parseInt(this.selectedAreaStyle!.left)\r\n    const right =\r\n        parseInt(this.selectedAreaStyle!.left) +\r\n        parseInt(this.selectedAreaStyle!.width)\r\n    const top = parseInt(this.selectedAreaStyle!.top)\r\n    const bottom =\r\n        parseInt(this.selectedAreaStyle!.top) +\r\n        parseInt(this.selectedAreaStyle!.height)\r\n    const leftArray: Array<number> = []\r\n    if (left !== right || top !== bottom) {\r\n      for (let i in controlData.controls) {\r\n        const key: string = controlData.controls[i]\r\n        const controlProp: controlProperties = this.userformData[this.userFormId][key].properties\r\n        if (\r\n          left <= controlProp!.Left! + controlProp!.Width! &&\r\n            right >= controlProp!.Left! &&\r\n            top <= controlProp!.Top! + controlProp!.Height! &&\r\n            bottom >= controlProp!.Top!\r\n        ) {\r\n          this.selectedControlArray.push(key)\r\n        }\r\n      }\r\n      const selectedGroup: string[] = []\r\n      for (const val of this.selectedControlArray) {\r\n        const controlGroupId: string = this.userformData[this.userFormId][val]\r\n          .properties.GroupID!\r\n        if (controlGroupId && controlGroupId !== '') {\r\n          !selectedGroup.includes(controlGroupId)! &&\r\n              selectedGroup.push(controlGroupId)\r\n        } else {\r\n          selectedGroup.push(val)\r\n        }\r\n      }\r\n      if (this.selectedControlArray.length !== 0) {\r\n        if (this.selMultipleCtrl) {\r\n          let selected = [...this.selectedControls[this.userFormId].selected]\r\n          if (selected[0] === controlData.properties.ID) {\r\n            selected = []\r\n          } else {\r\n            selected = [...selected]\r\n          }\r\n          let combineArray = selected.filter(x => !selectedGroup.includes(x)).concat(selectedGroup.filter(x => !selected.includes(x)))\r\n          this.selectControl({\r\n            userFormId: this.userFormId,\r\n            select: {\r\n              container: combineArray.length > 0 ? this.getContainerList(combineArray[0]) : this.selectedControls[this.userFormId].container,\r\n              selected: combineArray.length > 0 ? combineArray : [this.selectedControls[this.userFormId].container[0]]\r\n            }\r\n          })\r\n        } else {\r\n          this.selectControl({\r\n            userFormId: this.userFormId,\r\n            select: {\r\n              container: this.getContainerList(selectedGroup[0]),\r\n              selected: [...selectedGroup]\r\n            }\r\n          })\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\n"],"sourceRoot":""}]}