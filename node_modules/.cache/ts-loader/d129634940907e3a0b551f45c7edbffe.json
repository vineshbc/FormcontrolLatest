{"remainingRequest":"/home/mobiotics/Projects/hancom/FormcontrolLatest/node_modules/babel-loader/lib/index.js!/home/mobiotics/Projects/hancom/FormcontrolLatest/node_modules/ts-loader/index.js??ref--14-2!/home/mobiotics/Projects/hancom/FormcontrolLatest/node_modules/eslint-loader/index.js??ref--13-0!/home/mobiotics/Projects/hancom/FormcontrolLatest/src/api/abstract/FormDesigner/FdControlVue.ts","dependencies":[{"path":"/home/mobiotics/Projects/hancom/FormcontrolLatest/src/api/abstract/FormDesigner/FdControlVue.ts","mtime":1611912151832},{"path":"/home/mobiotics/Projects/hancom/FormcontrolLatest/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/mobiotics/Projects/hancom/FormcontrolLatest/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/mobiotics/Projects/hancom/FormcontrolLatest/node_modules/ts-loader/index.js","mtime":499162500000},{"path":"/home/mobiotics/Projects/hancom/FormcontrolLatest/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IHsgX19kZWNvcmF0ZSB9IGZyb20gInRzbGliIjsKaW1wb3J0IHsgY29udHJvbFByb3BlcnRpZXMgfSBmcm9tICdAL0Zvcm1EZXNpZ25lci9jb250cm9scy1wcm9wZXJ0aWVzJzsKaW1wb3J0IHsgQ29tcG9uZW50LCBFbWl0LCBQcm9wLCBQcm9wU3luYywgVnVlLCBXYXRjaCB9IGZyb20gJ3Z1ZS1wcm9wZXJ0eS1kZWNvcmF0b3InOwppbXBvcnQgeyBFdmVudEJ1cyB9IGZyb20gJ0AvRm9ybURlc2lnbmVyL2V2ZW50LWJ1cyc7CmxldCBGZENvbnRyb2xWdWUgPSBjbGFzcyBGZENvbnRyb2xWdWUgZXh0ZW5kcyBWdWUgewogIGNvbnN0cnVjdG9yKCkgewogICAgc3VwZXIoLi4uYXJndW1lbnRzKTsKICAgIHRoaXMuaXNDb250ZW50RWRpdGFibGUgPSBmYWxzZTsKICAgIHRoaXMuc2VsZWN0aW9uRGF0YSA9IFtdOwogICAgdGhpcy5tYXRjaEVudHJ5ID0gW107CiAgICB0aGlzLm1hdGNoSW5kZXggPSAtMTsKICAgIHRoaXMuaXNEcm9wZG93blZpc2libGUgPSB0cnVlOwogICAgdGhpcy5pc0l0YWxpYyA9IGZhbHNlOwogICAgdGhpcy50ZW1wV2VpZ2h0ID0gJzQwMCc7CiAgICB0aGlzLnRlbXBTdHJldGNoID0gJ25vcm1hbCc7CiAgICB0aGlzLmlzVmlzaWJsZSA9IGZhbHNlOwogICAgdGhpcy5sYWJlbFN0eWxlID0ge307CiAgICB0aGlzLnJldmVyc2VTdHlsZSA9IHsKICAgICAgZGlzcGxheTogJycsCiAgICAgIGZsZXhEaXJlY3Rpb246ICcnLAogICAgICBqdXN0aWZ5SXRlbXM6ICcnLAogICAgICBwb3NpdGlvbjogJycsCiAgICAgIGp1c3RpZnlDb250ZW50OiAnY2VudGVyJywKICAgICAgYWxpZ25JdGVtczogJycsCiAgICAgIGFsaWduU2VsZjogJycsCiAgICAgIHdpZHRoOiAnJwogICAgfTsKICAgIHRoaXMuaW1hZ2VQcm9wZXJ0eSA9IHsKICAgICAgaGVpZ2h0OiAnZml0LWNvbnRlbnQnCiAgICB9OwogICAgdGhpcy5pbWFnZVBvcyA9IHsKICAgICAgYWxpZ25TZWxmOiAnJwogICAgfTsgLy8gZ2xvYmFsIHZhcmlhYmxlIHRvIGtlZXAgdHJhY2sgb2YgVHJpcGxlU3RhdGUgd2hlbiBlbmFibGVkCgogICAgdGhpcy50cmlwbGVTdGF0ZSA9IDA7CiAgICB0aGlzLnByZXZlbnRDbGlja09uY2UgPSBmYWxzZTsKICB9CgogIGFkZEV2ZW50Q3VzdG9tQ2FsbGJhY2soZSkgewogICAgdGhpcy5jb250cm9sRWRpdE1vZGUoZSk7CiAgICBjb25zdCBzZWxmID0gdGhpczsKCiAgICBlLmN1c3RvbUNhbGxCYWNrID0gKCkgPT4gewogICAgICBzZWxmLnByZXZlbnRDbGlja09uY2UgPSB0cnVlOwogICAgfTsKICB9CgogIHNlbGVjdGVkSXRlbShldmVudCkgewogICAgaWYgKHRoaXMucHJldmVudENsaWNrT25jZSkgewogICAgICB0aGlzLnByZXZlbnRDbGlja09uY2UgPSBmYWxzZTsKICAgIH0gZWxzZSB7CiAgICAgIHRoaXMuZW1pdFNlbGVjdGVkSXRlbShldmVudCk7CiAgICB9CiAgfQoKICBlbWl0U2VsZWN0ZWRJdGVtKGV2ZW50KSB7CiAgICByZXR1cm4gZXZlbnQ7CiAgfQoKICBkcmFnR3JvdXAoZXZlbnQpIHsKICAgIHJldHVybiBldmVudDsKICB9CgogIGRlbGV0ZUl0ZW0oZXZlbnQpIHsKICAgIHJldHVybiBldmVudDsKICB9CgogIHNldEVkaXRNb2RlKGNvbnRlbnRFZGl0YWJsZSkgewogICAgcmV0dXJuIGNvbnRlbnRFZGl0YWJsZTsKICB9CgogIGNvbnRyb2xFZGl0TW9kZShldmVudCkgewogICAgcmV0dXJuIGV2ZW50OwogIH0KCiAgdXBkYXRlQ2FwdGlvbih1cGRhdGVWYWx1ZSkgewogICAgdGhpcy51cGRhdGVEYXRhTW9kZWwoewogICAgICBwcm9wZXJ0eU5hbWU6ICdDYXB0aW9uJywKICAgICAgdmFsdWU6IHVwZGF0ZVZhbHVlCiAgICB9KTsKICB9CiAgLyoqCiAgICogQGRlc2NyaXB0aW9uIHVzZXJGb3JtSWQgYW5kIGNvbnRyb2xJZCB3aGljaCBpcyB0YWtlbiBhcyBwcm9wcyBmcm9tIHBhcmVudCBDb21wb25lbnQKICAgKiBAYWJzdHJhY3QgcHJvcENvbnRyb2xEYXRhCiAgICovCgoKICBnZXQgcHJvcGVydGllcygpIHsKICAgIHJldHVybiB0aGlzLmRhdGEucHJvcGVydGllczsKICB9CgogIGdldCBleHRyYURhdGFzKCkgewogICAgcmV0dXJuIHRoaXMuZGF0YS5leHRyYURhdGFzOwogIH0KCiAgZ2V0IGNvbnRyb2xzKCkgewogICAgcmV0dXJuIHRoaXMuZGF0YS5jb250cm9sczsKICB9CgogIGdldCByZW5kZXJTaXplKCkgewogICAgcmV0dXJuIHsKICAgICAgd2lkdGg6IGAke3RoaXMucHJvcGVydGllcy5XaWR0aH1weGAsCiAgICAgIGhlaWdodDogYCR7dGhpcy5wcm9wZXJ0aWVzLkhlaWdodH1weGAKICAgIH07CiAgfQoKICBnZXQgYmFzZVN0eWxlKCkgewogICAgcmV0dXJuIHsKICAgICAgYmFja2dyb3VuZENvbG9yOiB0aGlzLnByb3BlcnRpZXMuQmFja0NvbG9yLAogICAgICBkaXNwbGF5OiAnYmxvY2snCiAgICB9OwogIH0KICAvKioKICAgKiBAZGVzY3JpcHRpb24gZ2V0U3BlY2lhbEVmZmVjdERhdGEgcmV0dXJucyBzdHJpbmcgdmFsdWUgZnJvbQogICAqIGNvbnRyb2xQcm9wZXJ0aWVzLnNwZWNpYWxFZmZlY3RQcm9wCiAgICogQGZ1bmN0aW9uIGdldFNwZWNpYWxFZmZlY3REYXRhCiAgICogQHJldHVybnMgc3RyaW5nIHZhbHVlCiAgICovCgoKICBnZXQgZ2V0U3BlY2lhbEVmZmVjdERhdGEoKSB7CiAgICByZXR1cm4gY29udHJvbFByb3BlcnRpZXMuc3BlY2lhbEVmZmVjdFByb3AodGhpcy5kYXRhKTsKICB9CiAgLyoqCiAgICogQGRlc2NyaXB0aW9uIGdldEJvcmRlclN0eWxlIHJldHVybnMgc3RyaW5nIHZhbHVlIGZyb20KICAgKiBjb250cm9sUHJvcGVydGllcy5ib3JkZXJTdHlsZVByb3AKICAgKiBAZnVuY3Rpb24gZ2V0Qm9yZGVyU3R5bGUKICAgKiBAcmV0dXJucyBzdHJpbmcgdmFsdWUKICAgKi8KCgogIGdldCBnZXRCb3JkZXJTdHlsZSgpIHsKICAgIHJldHVybiBjb250cm9sUHJvcGVydGllcy5ib3JkZXJTdHlsZVByb3AodGhpcy5kYXRhKTsKICB9CiAgLyoqCiAgICogQGRlc2NyaXB0aW9uIGdldE1vdXNlQ3Vyc29yRGF0YSByZXR1cm5zIHN0cmluZyB2YWx1ZSBmcm9tCiAgICogY29udHJvbFByb3BlcnRpZXMubW91c2VQb2ludGVyUHJvcAogICAqIEBmdW5jdGlvbiBnZXRNb3VzZUN1cnNvckRhdGEKICAgKiBAcmV0dXJucyBzdHJpbmcgdmFsdWUKICAgKi8KCgogIGdldCBnZXRNb3VzZUN1cnNvckRhdGEoKSB7CiAgICByZXR1cm4gY29udHJvbFByb3BlcnRpZXMubW91c2VQb2ludGVyUHJvcCh0aGlzLmRhdGEpOwogIH0KICAvKioKICAgKiBAZGVzY3JpcHRpb24gZ2V0RW5hYmxlZCByZXR1cm5zIHN0cmluZyB2YWx1ZSBmcm9tCiAgICogY29udHJvbFByb3BlcnRpZXMuZW5hYmxlZFByb3AKICAgKiBAZnVuY3Rpb24gZ2V0RW5hYmxlZAogICAqIEByZXR1cm5zIHN0cmluZyB2YWx1ZQogICAqLwoKCiAgZ2V0IGdldEVuYWJsZWQoKSB7CiAgICByZXR1cm4gY29udHJvbFByb3BlcnRpZXMuZW5hYmxlZFByb3AodGhpcy5kYXRhKTsKICB9CiAgLyoqCiAgICogQGRlc2NyaXB0aW9uIGdldFJlcGVhdCByZXR1cm5zIHN0cmluZyB2YWx1ZSBmcm9tCiAgICogY29udHJvbFByb3BlcnRpZXMuZXh0cmFEYXRhUmVwZWF0UHJvcAogICAqIEBmdW5jdGlvbiBnZXRSZXBlYXQKICAgKiBAcmV0dXJucyBzdHJpbmcgdmFsdWUKICAgKi8KCgogIGdldCBnZXRSZXBlYXQoKSB7CiAgICByZXR1cm4gY29udHJvbFByb3BlcnRpZXMuZXh0cmFEYXRhUmVwZWF0UHJvcCh0aGlzLmRhdGEpOwogIH0KICAvKioKICAgKiBAZGVzY3JpcHRpb24gZ2V0UG9zaXRpb24gcmV0dXJucyBzdHJpbmcgdmFsdWUgZnJvbQogICAqIGNvbnRyb2xQcm9wZXJ0aWVzLnBpY3R1cmVQb3NpdGlvblByb3AKICAgKiBAZnVuY3Rpb24gZ2V0UG9zaXRpb24KICAgKiBAcmV0dXJucyBzdHJpbmcgdmFsdWUKICAgKi8KCgogIGdldCBnZXRQb3NpdGlvbigpIHsKICAgIHJldHVybiBjb250cm9sUHJvcGVydGllcy5waWN0dXJlUG9zaXRpb25Qcm9wKHRoaXMuZGF0YSk7CiAgfQogIC8qKgogICAqIEBkZXNjcmlwdGlvbiBnZXRQb3NpdGlvblggcmV0dXJucyBzdHJpbmcgdmFsdWUgZnJvbQogICAqIGNvbnRyb2xQcm9wZXJ0aWVzLnBpY3R1cmVYWVBvc2l0aW9uUHJvcAogICAqIEBmdW5jdGlvbiBnZXRQb3NpdGlvblgKICAgKiBAcmV0dXJucyBzdHJpbmcgdmFsdWUKICAgKi8KCgogIGdldCBnZXRQb3NpdGlvblgoKSB7CiAgICBjb25zdCBwb3NYID0gY29udHJvbFByb3BlcnRpZXMucGljdHVyZVhZUG9zaXRpb25Qcm9wKHRoaXMuZGF0YSk7CiAgICByZXR1cm4gcG9zWC5iYWNrZ3JvdW5kUG9zaXRpb25YOwogIH0KICAvKioKICAgKiBAZGVzY3JpcHRpb24gZ2V0UG9zaXRpb25ZIHJldHVybnMgc3RyaW5nIHZhbHVlIGZyb20KICAgKiBjb250cm9sUHJvcGVydGllcy5waWN0dXJlWFlQb3NpdGlvblByb3AKICAgKiBAZnVuY3Rpb24gZ2V0UG9zaXRpb25ZCiAgICogQHJldHVybnMgc3RyaW5nIHZhbHVlCiAgICovCgoKICBnZXQgZ2V0UG9zaXRpb25ZKCkgewogICAgY29uc3QgcG9zWSA9IGNvbnRyb2xQcm9wZXJ0aWVzLnBpY3R1cmVYWVBvc2l0aW9uUHJvcCh0aGlzLmRhdGEpOwogICAgcmV0dXJuIHBvc1kuYmFja2dyb3VuZFBvc2l0aW9uWTsKICB9CiAgLyoqCiAgICogQGRlc2NyaXB0aW9uIGdldFNpemVNb2RlIHJldHVybnMgc3RyaW5nIHZhbHVlIGZyb20KICAgKiBjb250cm9sUHJvcGVydGllcy5waWN0dXJlU2l6ZU1vZGVQcm9wCiAgICogQGZ1bmN0aW9uIGdldFNpemVNb2RlCiAgICogQHJldHVybnMgc3RyaW5nIHZhbHVlCiAgICovCgoKICBnZXQgZ2V0U2l6ZU1vZGUoKSB7CiAgICByZXR1cm4gY29udHJvbFByb3BlcnRpZXMucGljdHVyZVNpemVNb2RlUHJvcCh0aGlzLmRhdGEpOwogIH0KICAvKioKICAgKiBAZGVzY3JpcHRpb24gZ2V0U2Nyb2xsQmFyWCByZXR1cm5zIHN0cmluZyB2YWx1ZSBmcm9tCiAgICogY29udHJvbFByb3BlcnRpZXMuc2Nyb2xsQmFyUHJvcCAvIGNvbnRyb2xQcm9wZXJ0aWVzLnNjcm9sbEJhclRleHRCb3hQcm9wCiAgICogQGZ1bmN0aW9uIGdldFNjcm9sbEJhclgKICAgKiBAcmV0dXJucyBzdHJpbmcgdmFsdWUKICAgKi8KCgogIGdldCBnZXRTY3JvbGxCYXJYKCkgewogICAgaWYgKHRoaXMuZGF0YS50eXBlID09PSAnVGV4dEJveCcpIHsKICAgICAgaWYgKHRoaXMuaXNFZGl0TW9kZSkgewogICAgICAgIGNvbnN0IHNjcm9sbFhEYXRhID0gY29udHJvbFByb3BlcnRpZXMuc2Nyb2xsQmFyVGV4dEJveFByb3AodGhpcy5kYXRhKTsKICAgICAgICByZXR1cm4gc2Nyb2xsWERhdGEub3ZlcmZsb3dYOwogICAgICB9CiAgICB9CgogICAgY29uc3Qgc2Nyb2xsWCA9IGNvbnRyb2xQcm9wZXJ0aWVzLnNjcm9sbEJhclByb3AodGhpcy5kYXRhKTsKICAgIHJldHVybiBzY3JvbGxYLm92ZXJmbG93WDsKICB9CiAgLyoqCiAgICogQGRlc2NyaXB0aW9uIGdldFNjcm9sbEJhclkgcmV0dXJucyBzdHJpbmcgdmFsdWUgZnJvbQogICAqIGNvbnRyb2xQcm9wZXJ0aWVzLnNjcm9sbEJhclByb3AgLyBjb250cm9sUHJvcGVydGllcy5zY3JvbGxCYXJUZXh0Qm94UHJvcAogICAqIEBmdW5jdGlvbiBnZXRTY3JvbGxCYXJZCiAgICogQHJldHVybnMgc3RyaW5nIHZhbHVlCiAgICovCgoKICBnZXQgZ2V0U2Nyb2xsQmFyWSgpIHsKICAgIGlmICh0aGlzLmRhdGEudHlwZSA9PT0gJ1RleHRCb3gnKSB7CiAgICAgIGlmICh0aGlzLmlzRWRpdE1vZGUpIHsKICAgICAgICBjb25zdCBzY3JvbGxZRGF0YSA9IGNvbnRyb2xQcm9wZXJ0aWVzLnNjcm9sbEJhclRleHRCb3hQcm9wKHRoaXMuZGF0YSk7CiAgICAgICAgcmV0dXJuIHNjcm9sbFlEYXRhLm92ZXJmbG93WTsKICAgICAgfQogICAgfQoKICAgIGNvbnN0IHNjcm9sbFkgPSBjb250cm9sUHJvcGVydGllcy5zY3JvbGxCYXJQcm9wKHRoaXMuZGF0YSk7CiAgICByZXR1cm4gc2Nyb2xsWS5vdmVyZmxvd1k7CiAgfQogIC8qKgogICAqIEBkZXNjcmlwdGlvbiBnZXRTY3JvbGxpbmdIZWlnaHQgcmV0dXJucyBzdHJpbmcgdmFsdWUgZnJvbQogICAqIGNvbnRyb2xQcm9wZXJ0aWVzLnNjcm9sbEJhcldpZHRoQW5kSGVpZ2h0UHJvcAogICAqIEBmdW5jdGlvbiBnZXRTY3JvbGxpbmdIZWlnaHQKICAgKiBAcmV0dXJucyBzdHJpbmcgdmFsdWUKICAgKi8KCgogIGdldCBnZXRTY3JvbGxpbmdIZWlnaHQoKSB7CiAgICBjb25zdCBzY3JvbGxpbmdIZWlnaHQgPSBjb250cm9sUHJvcGVydGllcy5zY3JvbGxCYXJXaWR0aEFuZEhlaWdodFByb3AodGhpcy5kYXRhKTsKICAgIHJldHVybiBzY3JvbGxpbmdIZWlnaHQuc2Nyb2xsSGVpZ2h0OwogIH0KICAvKioKICAgKiBAZGVzY3JpcHRpb24gZ2V0U2Nyb2xsaW5nV2lkdGggcmV0dXJucyBzdHJpbmcgdmFsdWUgZnJvbQogICAqIGNvbnRyb2xQcm9wZXJ0aWVzLnNjcm9sbEJhcldpZHRoQW5kSGVpZ2h0UHJvcAogICAqIEBmdW5jdGlvbiBnZXRTY3JvbGxpbmdXaWR0aAogICAqIEByZXR1cm5zIHN0cmluZyB2YWx1ZQogICAqLwoKCiAgZ2V0IGdldFNjcm9sbGluZ1dpZHRoKCkgewogICAgY29uc3Qgc2Nyb2xsaW5nV2lkdGggPSBjb250cm9sUHJvcGVydGllcy5zY3JvbGxCYXJXaWR0aEFuZEhlaWdodFByb3AodGhpcy5kYXRhKTsKICAgIHJldHVybiBzY3JvbGxpbmdXaWR0aC5zY3JvbGxXaWR0aDsKICB9CiAgLyoqCiAgICogQGRlc2NyaXB0aW9uIGNoZWNrT3RoZXJPcmllbnRhdGlvbnMgcmV0dXJucyBzdHJpbmcgdmFsdWUgZnJvbQogICAqIGNvbnRyb2xQcm9wZXJ0aWVzLmNvbnRyb2xzT3JpZW50YXRpb25Qcm9wCiAgICogQGZ1bmN0aW9uIGNoZWNrT3RoZXJPcmllbnRhdGlvbnMKICAgKiBAcmV0dXJucyBib29sZWFuIHZhbHVlCiAgICovCgoKICBjaGVja090aGVyT3JpZW50YXRpb25zKCkgewogICAgdGhyb3cgbmV3IEVycm9yKCdjaGVja090aGVyT3JpZW50YXRpb25zIE5vdCBJbXBsZW1lbnRlZCcpOwogIH0KICAvKioKICAgKiBAZGVzY3JpcHRpb24gZ2V0Rm9yZUNvbG9yVmFsdWUgcmV0dXJucyBzdHJpbmcgdmFsdWUgZnJvbQogICAqIGNvbnRyb2xQcm9wZXJ0aWVzLmdldEZvcmVDb2xvcgogICAqIEBmdW5jdGlvbiBnZXRGb3JlQ29sb3JWYWx1ZQogICAqIEByZXR1cm5zIHN0cmluZyB2YWx1ZQogICAqLwoKCiAgZ2V0IGdldEZvcmVDb2xvclZhbHVlKCkgewogICAgcmV0dXJuIGNvbnRyb2xQcm9wZXJ0aWVzLmdldEZvcmVDb2xvcih0aGlzLmRhdGEpOwogIH0KICAvKioKICAgKiBAZGVzY3JpcHRpb24gaW5jcmVhc2VUaGVWYWx1ZSBjYWxscyBWdWV4IEFjdGlvbnMgdG8gdXBkYXRlIG9iamVjdCBhbmQgVmFsdWUgUHJvcGVydHkKICAgKiBAZnVuY3Rpb24gaW5jcmVhc2VUaGVWYWx1ZQogICAqLwoKCiAgaW5jcmVhc2VUaGVWYWx1ZSgpIHsKICAgIGxldCB0ZW1wVmFsLCB0ZW1wTWF4OwoKICAgIGlmICh0aGlzLnByb3BlcnRpZXMuTWF4ID49IDAgJiYgdGhpcy5wcm9wZXJ0aWVzLk1pbiA+PSAwKSB7CiAgICAgIGlmICh0aGlzLnByb3BlcnRpZXMuTWF4IDwgdGhpcy5wcm9wZXJ0aWVzLk1pbikgewogICAgICAgIHRlbXBNYXggPSB0aGlzLnByb3BlcnRpZXMuTWF4OwoKICAgICAgICBpZiAodGhpcy5wcm9wZXJ0aWVzLlZhbHVlIDwgdGhpcy5wcm9wZXJ0aWVzLk1heCAmJiB0aGlzLnByb3BlcnRpZXMuVmFsdWUgPiB0aGlzLnByb3BlcnRpZXMuTWluKSB7CiAgICAgICAgICB0aGlzLnVwZGF0ZURhdGFNb2RlbCh7CiAgICAgICAgICAgIHByb3BlcnR5TmFtZTogJ1ZhbHVlJywKICAgICAgICAgICAgdmFsdWU6IHRoaXMucHJvcGVydGllcy5NaW4KICAgICAgICAgIH0pOwogICAgICAgIH0KCiAgICAgICAgdGVtcFZhbCA9IHRoaXMucHJvcGVydGllcy5WYWx1ZTsKCiAgICAgICAgaWYgKHRlbXBWYWwgPj0gdGVtcE1heCAmJiB0ZW1wVmFsIC0gdGVtcE1heCA+IHRoaXMucHJvcGVydGllcy5TbWFsbENoYW5nZSkgewogICAgICAgICAgdGVtcFZhbCA9IHRlbXBWYWwgLSB0aGlzLnByb3BlcnRpZXMuU21hbGxDaGFuZ2U7CiAgICAgICAgfSBlbHNlIGlmICh0ZW1wVmFsID49IHRlbXBNYXgpIHsKICAgICAgICAgIHRlbXBWYWwgPSB0ZW1wTWF4OwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICB0ZW1wVmFsID0gdGVtcE1heDsKICAgICAgICB9CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGVtcE1heCA9IHRoaXMucHJvcGVydGllcy5NYXg7CgogICAgICAgIGlmICh0aGlzLnByb3BlcnRpZXMuVmFsdWUgPiB0aGlzLnByb3BlcnRpZXMuTWF4ICYmIHRoaXMucHJvcGVydGllcy5WYWx1ZSA8IHRoaXMucHJvcGVydGllcy5NaW4pIHsKICAgICAgICAgIHRoaXMudXBkYXRlRGF0YU1vZGVsKHsKICAgICAgICAgICAgcHJvcGVydHlOYW1lOiAnVmFsdWUnLAogICAgICAgICAgICB2YWx1ZTogdGhpcy5wcm9wZXJ0aWVzLk1pbgogICAgICAgICAgfSk7CiAgICAgICAgfQoKICAgICAgICB0ZW1wVmFsID0gdGhpcy5wcm9wZXJ0aWVzLlZhbHVlOwoKICAgICAgICBpZiAodGVtcFZhbCA8PSB0ZW1wTWF4ICYmIHRlbXBNYXggLSB0ZW1wVmFsID4gdGhpcy5wcm9wZXJ0aWVzLlNtYWxsQ2hhbmdlKSB7CiAgICAgICAgICB0ZW1wVmFsID0gdGVtcFZhbCArIHRoaXMucHJvcGVydGllcy5TbWFsbENoYW5nZTsKICAgICAgICB9IGVsc2UgaWYgKHRlbXBWYWwgPD0gdGVtcE1heCkgewogICAgICAgICAgdGVtcFZhbCA9IHRlbXBNYXg7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHRlbXBWYWwgPSB0ZW1wTWF4OwogICAgICAgIH0KICAgICAgfQoKICAgICAgdGhpcy51cGRhdGVEYXRhTW9kZWwoewogICAgICAgIHByb3BlcnR5TmFtZTogJ1ZhbHVlJywKICAgICAgICB2YWx1ZTogdGVtcFZhbAogICAgICB9KTsKICAgIH0gZWxzZSBpZiAodGhpcy5wcm9wZXJ0aWVzLk1heCA8IDAgJiYgdGhpcy5wcm9wZXJ0aWVzLk1pbiA8IDApIHsKICAgICAgaWYgKHRoaXMucHJvcGVydGllcy5NYXggPiB0aGlzLnByb3BlcnRpZXMuTWluKSB7CiAgICAgICAgdGVtcE1heCA9IHRoaXMucHJvcGVydGllcy5NYXg7CgogICAgICAgIGlmICh0aGlzLnByb3BlcnRpZXMuVmFsdWUgPiB0aGlzLnByb3BlcnRpZXMuTWF4ICYmIHRoaXMucHJvcGVydGllcy5WYWx1ZSA8IHRoaXMucHJvcGVydGllcy5NaW4pIHsKICAgICAgICAgIHRoaXMudXBkYXRlRGF0YU1vZGVsKHsKICAgICAgICAgICAgcHJvcGVydHlOYW1lOiAnVmFsdWUnLAogICAgICAgICAgICB2YWx1ZTogdGhpcy5wcm9wZXJ0aWVzLk1heAogICAgICAgICAgfSk7CiAgICAgICAgfQoKICAgICAgICB0ZW1wVmFsID0gdGhpcy5wcm9wZXJ0aWVzLlZhbHVlOwoKICAgICAgICBpZiAodGVtcFZhbCA8PSB0ZW1wTWF4ICYmIE1hdGguYWJzKHRlbXBWYWwpIC0gTWF0aC5hYnModGVtcE1heCkgPiB0aGlzLnByb3BlcnRpZXMuU21hbGxDaGFuZ2UpIHsKICAgICAgICAgIHRlbXBWYWwgPSBNYXRoLmFicyh0ZW1wVmFsKSAtIHRoaXMucHJvcGVydGllcy5TbWFsbENoYW5nZTsKICAgICAgICB9IGVsc2UgaWYgKHRlbXBWYWwgPD0gdGVtcE1heCkgewogICAgICAgICAgdGVtcFZhbCA9IE1hdGguYWJzKHRlbXBNYXgpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICB0ZW1wVmFsID0gTWF0aC5hYnModGVtcE1heCk7CiAgICAgICAgfQogICAgICB9IGVsc2UgewogICAgICAgIHRlbXBNYXggPSBNYXRoLmFicyh0aGlzLnByb3BlcnRpZXMuTWF4KTsKCiAgICAgICAgaWYgKHRoaXMucHJvcGVydGllcy5WYWx1ZSA8IHRoaXMucHJvcGVydGllcy5NYXggJiYgdGhpcy5wcm9wZXJ0aWVzLlZhbHVlID4gdGhpcy5wcm9wZXJ0aWVzLk1pbikgewogICAgICAgICAgdGhpcy51cGRhdGVEYXRhTW9kZWwoewogICAgICAgICAgICBwcm9wZXJ0eU5hbWU6ICdWYWx1ZScsCiAgICAgICAgICAgIHZhbHVlOiB0aGlzLnByb3BlcnRpZXMuTWluCiAgICAgICAgICB9KTsKICAgICAgICB9CgogICAgICAgIHRlbXBWYWwgPSBNYXRoLmFicyh0aGlzLnByb3BlcnRpZXMuVmFsdWUpOwoKICAgICAgICBpZiAodGVtcFZhbCA8PSB0ZW1wTWF4ICYmIHRlbXBNYXggLSB0ZW1wVmFsID4gdGhpcy5wcm9wZXJ0aWVzLlNtYWxsQ2hhbmdlKSB7CiAgICAgICAgICB0ZW1wVmFsID0gdGVtcFZhbCArIHRoaXMucHJvcGVydGllcy5TbWFsbENoYW5nZTsKICAgICAgICB9IGVsc2UgaWYgKHRlbXBWYWwgPD0gdGVtcE1heCkgewogICAgICAgICAgdGVtcFZhbCA9IHRlbXBNYXg7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHRlbXBWYWwgPSB0ZW1wTWF4OwogICAgICAgIH0KICAgICAgfQoKICAgICAgdGhpcy51cGRhdGVEYXRhTW9kZWwoewogICAgICAgIHByb3BlcnR5TmFtZTogJ1ZhbHVlJywKICAgICAgICB2YWx1ZTogJy0nICsgdGVtcFZhbAogICAgICB9KTsKICAgIH0gZWxzZSBpZiAodGhpcy5wcm9wZXJ0aWVzLk1heCA8IHRoaXMucHJvcGVydGllcy5NaW4pIHsKICAgICAgdGVtcE1heCA9IHRoaXMucHJvcGVydGllcy5NYXg7CgogICAgICBpZiAodGhpcy5wcm9wZXJ0aWVzLlZhbHVlID4gdGhpcy5wcm9wZXJ0aWVzLk1pbiAmJiB0aGlzLnByb3BlcnRpZXMuVmFsdWUgPCB0aGlzLnByb3BlcnRpZXMuTWF4KSB7CiAgICAgICAgdGhpcy51cGRhdGVEYXRhTW9kZWwoewogICAgICAgICAgcHJvcGVydHlOYW1lOiAnVmFsdWUnLAogICAgICAgICAgdmFsdWU6IHRoaXMucHJvcGVydGllcy5NYXgKICAgICAgICB9KTsKICAgICAgfQoKICAgICAgdGVtcFZhbCA9IHRoaXMucHJvcGVydGllcy5WYWx1ZTsKCiAgICAgIGlmICh0ZW1wVmFsID49IHRlbXBNYXggJiYgdGVtcFZhbCAtIHRlbXBNYXggPj0gdGhpcy5wcm9wZXJ0aWVzLlNtYWxsQ2hhbmdlKSB7CiAgICAgICAgdGVtcFZhbCA9IHRlbXBWYWwgLSB0aGlzLnByb3BlcnRpZXMuU21hbGxDaGFuZ2U7CiAgICAgIH0gZWxzZSBpZiAodGVtcFZhbCA8PSB0ZW1wTWF4KSB7CiAgICAgICAgdGVtcFZhbCA9IHRlbXBNYXg7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGVtcFZhbCA9IHRlbXBNYXg7CiAgICAgIH0KCiAgICAgIHRoaXMudXBkYXRlRGF0YU1vZGVsKHsKICAgICAgICBwcm9wZXJ0eU5hbWU6ICdWYWx1ZScsCiAgICAgICAgdmFsdWU6IHRlbXBWYWwKICAgICAgfSk7CiAgICB9IGVsc2UgewogICAgICB0ZW1wTWF4ID0gdGhpcy5wcm9wZXJ0aWVzLk1heDsKCiAgICAgIGlmICh0aGlzLnByb3BlcnRpZXMuVmFsdWUgPiB0aGlzLnByb3BlcnRpZXMuTWF4ICYmIHRoaXMucHJvcGVydGllcy5WYWx1ZSA8IHRoaXMucHJvcGVydGllcy5NaW4pIHsKICAgICAgICB0aGlzLnVwZGF0ZURhdGFNb2RlbCh7CiAgICAgICAgICBwcm9wZXJ0eU5hbWU6ICdWYWx1ZScsCiAgICAgICAgICB2YWx1ZTogdGhpcy5wcm9wZXJ0aWVzLk1pbgogICAgICAgIH0pOwogICAgICB9CgogICAgICB0ZW1wVmFsID0gdGhpcy5wcm9wZXJ0aWVzLlZhbHVlOwoKICAgICAgaWYgKHRlbXBWYWwgPD0gdGVtcE1heCAmJiB0ZW1wTWF4IC0gdGVtcFZhbCA+IHRoaXMucHJvcGVydGllcy5TbWFsbENoYW5nZSkgewogICAgICAgIHRlbXBWYWwgPSB0ZW1wVmFsICsgdGhpcy5wcm9wZXJ0aWVzLlNtYWxsQ2hhbmdlOwogICAgICB9IGVsc2UgaWYgKHRlbXBWYWwgPD0gdGVtcE1heCkgewogICAgICAgIHRlbXBWYWwgPSB0ZW1wTWF4OwogICAgICB9IGVsc2UgewogICAgICAgIHRlbXBWYWwgPSB0ZW1wTWF4OwogICAgICB9CgogICAgICB0aGlzLnVwZGF0ZURhdGFNb2RlbCh7CiAgICAgICAgcHJvcGVydHlOYW1lOiAnVmFsdWUnLAogICAgICAgIHZhbHVlOiB0ZW1wVmFsCiAgICAgIH0pOwogICAgfQogIH0KICAvKioKICAgKiBAZGVzY3JpcHRpb24gZGVjcmVhc2VUaGVWYWx1ZSBjYWxscyBWdWV4IEFjdGlvbnMgdG8gdXBkYXRlIG9iamVjdCBhbmQgVmFsdWUgUHJvcGVydHkKICAgKiBAZnVuY3Rpb24gZGVjcmVhc2VUaGVWYWx1ZQogICAqLwoKCiAgZGVjcmVhc2VUaGVWYWx1ZSgpIHsKICAgIGxldCB0ZW1wVmFsLCB0ZW1wTWluOwoKICAgIGlmICh0aGlzLnByb3BlcnRpZXMuTWF4ID49IDAgJiYgdGhpcy5wcm9wZXJ0aWVzLk1pbiA+PSAwKSB7CiAgICAgIGlmICh0aGlzLnByb3BlcnRpZXMuTWF4IDwgdGhpcy5wcm9wZXJ0aWVzLk1pbikgewogICAgICAgIHRlbXBNaW4gPSB0aGlzLnByb3BlcnRpZXMuTWluOwoKICAgICAgICBpZiAodGhpcy5wcm9wZXJ0aWVzLlZhbHVlIDwgdGhpcy5wcm9wZXJ0aWVzLk1heCAmJiB0aGlzLnByb3BlcnRpZXMuVmFsdWUgPiB0aGlzLnByb3BlcnRpZXMuTWluKSB7CiAgICAgICAgICB0aGlzLnVwZGF0ZURhdGFNb2RlbCh7CiAgICAgICAgICAgIHByb3BlcnR5TmFtZTogJ1ZhbHVlJywKICAgICAgICAgICAgdmFsdWU6IHRoaXMucHJvcGVydGllcy5NaW4KICAgICAgICAgIH0pOwogICAgICAgIH0KCiAgICAgICAgdGVtcFZhbCA9IHRoaXMucHJvcGVydGllcy5WYWx1ZTsKCiAgICAgICAgaWYgKHRlbXBWYWwgPD0gdGVtcE1pbiAmJiB0ZW1wTWluIC0gdGVtcFZhbCA+IHRoaXMucHJvcGVydGllcy5TbWFsbENoYW5nZSkgewogICAgICAgICAgdGVtcFZhbCA9IHRlbXBWYWwgKyB0aGlzLnByb3BlcnRpZXMuU21hbGxDaGFuZ2U7CiAgICAgICAgfSBlbHNlIGlmICh0ZW1wVmFsIDw9IHRlbXBNaW4pIHsKICAgICAgICAgIHRlbXBWYWwgPSB0ZW1wTWluOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICB0ZW1wVmFsID0gdGVtcE1pbjsKICAgICAgICB9CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGVtcE1pbiA9IHRoaXMucHJvcGVydGllcy5NaW47CgogICAgICAgIGlmICh0aGlzLnByb3BlcnRpZXMuVmFsdWUgPiB0aGlzLnByb3BlcnRpZXMuTWF4ICYmIHRoaXMucHJvcGVydGllcy5WYWx1ZSA8IHRoaXMucHJvcGVydGllcy5NaW4pIHsKICAgICAgICAgIHRoaXMudXBkYXRlRGF0YU1vZGVsKHsKICAgICAgICAgICAgcHJvcGVydHlOYW1lOiAnVmFsdWUnLAogICAgICAgICAgICB2YWx1ZTogdGhpcy5wcm9wZXJ0aWVzLk1pbgogICAgICAgICAgfSk7CiAgICAgICAgfQoKICAgICAgICB0ZW1wVmFsID0gdGhpcy5wcm9wZXJ0aWVzLlZhbHVlOwoKICAgICAgICBpZiAodGVtcFZhbCA+PSB0ZW1wTWluICYmIHRlbXBWYWwgLSB0ZW1wTWluID4gdGhpcy5wcm9wZXJ0aWVzLlNtYWxsQ2hhbmdlKSB7CiAgICAgICAgICB0ZW1wVmFsID0gdGVtcFZhbCAtIHRoaXMucHJvcGVydGllcy5TbWFsbENoYW5nZTsKICAgICAgICB9IGVsc2UgaWYgKHRlbXBWYWwgPj0gdGVtcE1pbikgewogICAgICAgICAgdGVtcFZhbCA9IHRlbXBNaW47CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHRlbXBWYWwgPSB0ZW1wTWluOwogICAgICAgIH0KICAgICAgfQoKICAgICAgdGhpcy51cGRhdGVEYXRhTW9kZWwoewogICAgICAgIHByb3BlcnR5TmFtZTogJ1ZhbHVlJywKICAgICAgICB2YWx1ZTogdGVtcFZhbAogICAgICB9KTsKICAgIH0gZWxzZSBpZiAodGhpcy5wcm9wZXJ0aWVzLk1heCA8IDAgJiYgdGhpcy5wcm9wZXJ0aWVzLk1pbiA8IDApIHsKICAgICAgaWYgKHRoaXMucHJvcGVydGllcy5NYXggPiB0aGlzLnByb3BlcnRpZXMuTWluKSB7CiAgICAgICAgdGVtcE1pbiA9IHRoaXMucHJvcGVydGllcy5NaW47CgogICAgICAgIGlmICh0aGlzLnByb3BlcnRpZXMuVmFsdWUgPiB0aGlzLnByb3BlcnRpZXMuTWF4ICYmIHRoaXMucHJvcGVydGllcy5WYWx1ZSA8IHRoaXMucHJvcGVydGllcy5NaW4pIHsKICAgICAgICAgIHRoaXMudXBkYXRlRGF0YU1vZGVsKHsKICAgICAgICAgICAgcHJvcGVydHlOYW1lOiAnVmFsdWUnLAogICAgICAgICAgICB2YWx1ZTogdGhpcy5wcm9wZXJ0aWVzLk1pbgogICAgICAgICAgfSk7CiAgICAgICAgfQoKICAgICAgICB0ZW1wVmFsID0gdGhpcy5wcm9wZXJ0aWVzLlZhbHVlOwoKICAgICAgICBpZiAodGVtcFZhbCA+PSB0ZW1wTWluICYmIE1hdGguYWJzKHRlbXBNaW4pIC0gTWF0aC5hYnModGVtcFZhbCkgPiB0aGlzLnByb3BlcnRpZXMuU21hbGxDaGFuZ2UpIHsKICAgICAgICAgIHRlbXBWYWwgPSBNYXRoLmFicyh0ZW1wVmFsKSArIHRoaXMucHJvcGVydGllcy5TbWFsbENoYW5nZTsKICAgICAgICB9IGVsc2UgaWYgKHRlbXBWYWwgPD0gdGVtcE1pbikgewogICAgICAgICAgdGVtcFZhbCA9IE1hdGguYWJzKHRlbXBNaW4pOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICB0ZW1wVmFsID0gTWF0aC5hYnModGVtcE1pbik7CiAgICAgICAgfQogICAgICB9IGVsc2UgewogICAgICAgIHRlbXBNaW4gPSBNYXRoLmFicyh0aGlzLnByb3BlcnRpZXMuTWluKTsKCiAgICAgICAgaWYgKHRoaXMucHJvcGVydGllcy5WYWx1ZSA8IHRoaXMucHJvcGVydGllcy5NYXggJiYgdGhpcy5wcm9wZXJ0aWVzLlZhbHVlID4gdGhpcy5wcm9wZXJ0aWVzLk1pbikgewogICAgICAgICAgdGhpcy51cGRhdGVEYXRhTW9kZWwoewogICAgICAgICAgICBwcm9wZXJ0eU5hbWU6ICdWYWx1ZScsCiAgICAgICAgICAgIHZhbHVlOiB0aGlzLnByb3BlcnRpZXMuTWluCiAgICAgICAgICB9KTsKICAgICAgICB9CgogICAgICAgIHRlbXBWYWwgPSBNYXRoLmFicyh0aGlzLnByb3BlcnRpZXMuVmFsdWUpOwoKICAgICAgICBpZiAodGVtcFZhbCA+PSB0ZW1wTWluICYmIHRlbXBWYWwgLSB0ZW1wTWluID4gdGhpcy5wcm9wZXJ0aWVzLlNtYWxsQ2hhbmdlKSB7CiAgICAgICAgICB0ZW1wVmFsID0gdGVtcFZhbCAtIHRoaXMucHJvcGVydGllcy5TbWFsbENoYW5nZTsKICAgICAgICB9IGVsc2UgaWYgKHRlbXBWYWwgPj0gdGVtcE1pbikgewogICAgICAgICAgdGVtcFZhbCA9IHRlbXBNaW47CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHRlbXBWYWwgPSB0ZW1wTWluOwogICAgICAgIH0KICAgICAgfQoKICAgICAgdGhpcy51cGRhdGVEYXRhTW9kZWwoewogICAgICAgIHByb3BlcnR5TmFtZTogJ1ZhbHVlJywKICAgICAgICB2YWx1ZTogJy0nICsgdGVtcFZhbAogICAgICB9KTsKICAgIH0gZWxzZSBpZiAodGhpcy5wcm9wZXJ0aWVzLk1heCA8IHRoaXMucHJvcGVydGllcy5NaW4pIHsKICAgICAgdGVtcE1pbiA9IHRoaXMucHJvcGVydGllcy5NaW47CgogICAgICBpZiAodGhpcy5wcm9wZXJ0aWVzLlZhbHVlID4gdGhpcy5wcm9wZXJ0aWVzLk1pbiAmJiB0aGlzLnByb3BlcnRpZXMuVmFsdWUgPCB0aGlzLnByb3BlcnRpZXMuTWF4KSB7CiAgICAgICAgdGhpcy51cGRhdGVEYXRhTW9kZWwoewogICAgICAgICAgcHJvcGVydHlOYW1lOiAnVmFsdWUnLAogICAgICAgICAgdmFsdWU6IHRoaXMucHJvcGVydGllcy5NYXgKICAgICAgICB9KTsKICAgICAgfQoKICAgICAgdGVtcFZhbCA9IHRoaXMucHJvcGVydGllcy5WYWx1ZTsKCiAgICAgIGlmICh0ZW1wVmFsIDw9IHRlbXBNaW4gJiYgdGVtcE1pbiAtIHRlbXBWYWwgPiB0aGlzLnByb3BlcnRpZXMuU21hbGxDaGFuZ2UpIHsKICAgICAgICB0ZW1wVmFsID0gdGVtcFZhbCArIHRoaXMucHJvcGVydGllcy5TbWFsbENoYW5nZTsKICAgICAgfSBlbHNlIGlmICh0ZW1wVmFsID49IHRlbXBNaW4pIHsKICAgICAgICB0ZW1wVmFsID0gdGVtcE1pbjsKICAgICAgfSBlbHNlIHsKICAgICAgICB0ZW1wVmFsID0gdGVtcE1pbjsKICAgICAgfQoKICAgICAgdGhpcy51cGRhdGVEYXRhTW9kZWwoewogICAgICAgIHByb3BlcnR5TmFtZTogJ1ZhbHVlJywKICAgICAgICB2YWx1ZTogdGVtcFZhbAogICAgICB9KTsKICAgIH0gZWxzZSB7CiAgICAgIHRlbXBNaW4gPSB0aGlzLnByb3BlcnRpZXMuTWluOwoKICAgICAgaWYgKHRoaXMucHJvcGVydGllcy5WYWx1ZSA+IHRoaXMucHJvcGVydGllcy5NYXggJiYgdGhpcy5wcm9wZXJ0aWVzLlZhbHVlIDwgdGhpcy5wcm9wZXJ0aWVzLk1pbikgewogICAgICAgIHRoaXMudXBkYXRlRGF0YU1vZGVsKHsKICAgICAgICAgIHByb3BlcnR5TmFtZTogJ1ZhbHVlJywKICAgICAgICAgIHZhbHVlOiB0aGlzLnByb3BlcnRpZXMuTWluCiAgICAgICAgfSk7CiAgICAgIH0KCiAgICAgIHRlbXBWYWwgPSB0aGlzLnByb3BlcnRpZXMuVmFsdWU7CgogICAgICBpZiAodGVtcFZhbCA+PSB0ZW1wTWluICYmIHRlbXBWYWwgLSB0ZW1wTWluID4gdGhpcy5wcm9wZXJ0aWVzLlNtYWxsQ2hhbmdlKSB7CiAgICAgICAgdGVtcFZhbCA9IHRlbXBWYWwgLSB0aGlzLnByb3BlcnRpZXMuU21hbGxDaGFuZ2U7CiAgICAgIH0gZWxzZSBpZiAodGVtcFZhbCA+PSB0ZW1wTWluKSB7CiAgICAgICAgdGVtcFZhbCA9IHRlbXBNaW47CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGVtcFZhbCA9IHRlbXBNaW47CiAgICAgIH0KCiAgICAgIHRoaXMudXBkYXRlRGF0YU1vZGVsKHsKICAgICAgICBwcm9wZXJ0eU5hbWU6ICdWYWx1ZScsCiAgICAgICAgdmFsdWU6IHRlbXBWYWwKICAgICAgfSk7CiAgICB9CiAgfQogIC8qKgogICAqIEBkZXNjcmlwdGlvbiB0cmFuc2Zvcm1TY3JvbGxCdXR0b25TdHlsZSByZXR1cm5zIHN0cmluZyB2YWx1ZSBmcm9tCiAgICoga25vYlByb3BlcnRpZXMudHJhbnNmb3JtU2Nyb2xsQnV0dG9uU3R5bGUKICAgKiBAZnVuY3Rpb24gdHJhbnNmb3JtU2Nyb2xsQnV0dG9uU3R5bGUKICAgKiBAcmV0dXJucyBzdHJpbmcgdmFsdWUKICAgKi8KCgogIGdldCB0cmFuc2Zvcm1TY3JvbGxCdXR0b25TdHlsZSgpIHsKICAgIHJldHVybiBjb250cm9sUHJvcGVydGllcy50cmFuc2Zvcm1TY3JvbGxCdXR0b25TdHlsZSh0aGlzLmRhdGEpOwogIH0KICAvKioKICAqIEBkZXNjcmlwdGlvbiB1cGRhdGUgdGhlIGlzQ29udGVudEVkaXRhYmxlIHRvIG1ha2UgdGhlIEJ1dHRvbiBjb250ZW50IGVkaXRhYmxlCiAgKiBvciBub25lZGl0YWJsZSBvbiBjbGljayBvZiBlbnRlciBrZXkKICAqIEBmdW5jdGlvbiBzZXRDb250ZW50RWRpdGFibGUKICAqIEBwYXJhbSBldmVudAogICogQHBhcmFtIGNvbnRlbnRFZGl0YWJsZQogICovCgoKICBzZXRDb250ZW50RWRpdGFibGUoZXZlbnQsIGNvbnRlbnRFZGl0YWJsZSkgewogICAgdGhpcy5zZXRFZGl0TW9kZShjb250ZW50RWRpdGFibGUpOwogIH0KICAvKioKICAgKiBAZGVzY3JpcHRpb24gIHNldHMgU3R5bGVzIHRvIGNoZWNrYm94L29wdGlvbkJ1dHRvbiBhbmQgbGFiZWwgYmFzZWQgb24gY29udHJvbCBWYWx1ZSBwcm9wZXJ0eQogICAqIEBmdW5jdGlvbiBzZXRTdHlsZQogICAqQHBhcmFtIHJlZgogICAqQHBhcmFtIGNoZWNrZWQKICAgKkBwYXJhbSBkaXNhYmxlZAogICAqQHBhcmFtIGJnQ29sb3IKICAgKi8KCgogIHNldFN0eWxlKHJlZiwgY2hlY2tlZCwgZGlzYWJsZWQsIGJnQ29sb3IpIHsKICAgIGlmIChyZWYpIHsKICAgICAgcmVmLmNoZWNrZWQgPSBjaGVja2VkOwogICAgICByZWYucGFyZW50Tm9kZS5jaGlsZE5vZGVzWzFdLnN0eWxlLmJhY2tncm91bmRDb2xvciA9IGJnQ29sb3I7CiAgICAgIHJlZi5kaXNhYmxlZCA9IGRpc2FibGVkOwogICAgfQogIH0KICAvKioKICAgKiBAZGVzY3JpcHRpb24gIHN0eWxlIG9iamVjdCBpcyBwYXNzZWQgdG8gOnN0eWxlIGF0dHJpYnV0ZSBpbiBzcGFuIHRhZyBpbiBjaGVja2JveC9PcHRpb25CdXR0b24KICAgKiBkeW5hbWljYWxseSBjaGFuZ2luZyB0aGUgc3R5bGVzIG9mIHRoZSBjb21wb25lbnQgYmFzZWQgb24gcHJvcGVydGllcwogICAqIEBmdW5jdGlvbiBzdHlsZUZvckJ0bgogICAqCiAgICovCgoKICBnZXQgc3R5bGVGb3JCdG4oKSB7CiAgICBjb25zdCBzdHlsZSA9IHsKICAgICAgYm9yZGVyOiAnMXB4IGluc2V0IGdyZXknLAogICAgICBiYWNrZ3JvdW5kQ29sb3I6ICdpbmhlcml0JywKICAgICAgdG9wOiAnMHB4JywKICAgICAgcG9zaXRpb246ICdyZWxhdGl2ZScKICAgIH07CgogICAgaWYgKCF0aGlzLnByb3BlcnRpZXMuRW5hYmxlZCkgewogICAgICBzdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSAncmdiYSgyMjAsIDIyMCwgMjIwLCAxKSc7CiAgICB9CgogICAgaWYgKHRoaXMucHJvcGVydGllcy5TcGVjaWFsRWZmZWN0ID09PSAwKSB7CiAgICAgIHJldHVybiBzdHlsZTsKICAgIH0gZWxzZSB7CiAgICAgIHN0eWxlLmJvcmRlciA9ICcycHggZ3Jvb3ZlIGdyZXknOwogICAgICByZXR1cm4gc3R5bGU7CiAgICB9CiAgfQogIC8qKgogICAqIEBkZXNjcmlwdGlvbiAgc2V0cyBjb250cm9sU291cmNlIGlmIHByZXNlbnQgYW5kIHVwZGF0ZXMgVmFsdWUgcHJvcGVydHkKICAgKiBAZnVuY3Rpb24gY29udHJvbFNvdXJjZQogICAqLwoKCiAgY29udHJvbFNvdXJjZSgpIHsKICAgIGNvbnN0IHByb3BEYXRhID0gdGhpcy5kYXRhOwoKICAgIGlmICh0aGlzLmRhdGEudHlwZSA9PT0gJ1NwaW5CdXR0b24nIHx8IHRoaXMuZGF0YS50eXBlID09PSAnU2Nyb2xsQmFyJykgewogICAgICBpZiAocHJvcERhdGEucHJvcGVydGllcy5Db250cm9sU291cmNlICYmIHByb3BEYXRhLmV4dHJhRGF0YXMpIHsKICAgICAgICBpZiAocHJvcERhdGEuZXh0cmFEYXRhcy5Db250cm9sU291cmNlVmFsdWUgIT09IG51bGwgJiYgcHJvcERhdGEuZXh0cmFEYXRhcy5Db250cm9sU291cmNlVmFsdWUgIT09IHVuZGVmaW5lZCkgewogICAgICAgICAgY29uc3QgYSA9IHByb3BEYXRhLmV4dHJhRGF0YXMuQ29udHJvbFNvdXJjZVZhbHVlOwoKICAgICAgICAgIGlmIChwYXJzZUludChhKSA8PSBwcm9wRGF0YS5wcm9wZXJ0aWVzLk1heCAmJiBwYXJzZUludChhKSA+PSBwcm9wRGF0YS5wcm9wZXJ0aWVzLk1pbikgewogICAgICAgICAgICB0aGlzLnVwZGF0ZURhdGFNb2RlbCh7CiAgICAgICAgICAgICAgcHJvcGVydHlOYW1lOiAnVmFsdWUnLAogICAgICAgICAgICAgIHZhbHVlOiBwcm9wRGF0YS5leHRyYURhdGFzLkNvbnRyb2xTb3VyY2VWYWx1ZQogICAgICAgICAgICB9KTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0KCiAgICAgIDsKICAgIH0gZWxzZSBpZiAocHJvcERhdGEucHJvcGVydGllcy5Db250cm9sU291cmNlKSB7CiAgICAgIGNvbnN0IGNvbnRyb2xTb3VyY2VWYWx1ZSA9IHByb3BEYXRhLmV4dHJhRGF0YXMuQ29udHJvbFNvdXJjZVZhbHVlLnRvTG93ZXJDYXNlKCk7CiAgICAgIGNvbnN0IGlzQm9vbGVhbiA9IGNvbnRyb2xTb3VyY2VWYWx1ZSA9PT0gJ3RydWUnID8gdHJ1ZSA6IGNvbnRyb2xTb3VyY2VWYWx1ZSA9PT0gJ2ZhbHNlJyA/IGZhbHNlIDogJyc7CiAgICAgIHRoaXMudXBkYXRlRGF0YU1vZGVsKHsKICAgICAgICBwcm9wZXJ0eU5hbWU6ICdWYWx1ZScsCiAgICAgICAgdmFsdWU6IGlzQm9vbGVhbi50b1N0cmluZygpCiAgICAgIH0pOwogICAgfQogIH0KICAvKioKICAgKiBAZGVzY3JpcHRpb24gIHVwZGF0ZSB0aGUgdmFsdWUgb2YgY29udHJvbCBwcm9wZXJ0aWVzCiAgICogQGZ1bmN0aW9uIHVwZGF0ZURhdGFNb2RlbAogICAqIEBwYXJhbSB1cGRhdGVEYXRhCiAgICovCgoKICB1cGRhdGVEYXRhTW9kZWwodXBkYXRlRGF0YSkgewogICAgcmV0dXJuIHVwZGF0ZURhdGE7CiAgfQogIC8qKgogICAqIEBkZXNjcmlwdGlvbiAgdXBkYXRlIHRoZSB2YWx1ZSBvZiBjb250cm9sIGV4dHJhRGF0YXMgcHJvcGVydGllcwogICAqIEBmdW5jdGlvbiB1cGRhdGVEYXRhTW9kZWxFeHRyYURhdGEKICAgKiBAcGFyYW0gdXBkYXRlRGF0YQogICAqLwoKCiAgdXBkYXRlRGF0YU1vZGVsRXh0cmFEYXRhKHVwZGF0ZURhdGEpIHsKICAgIHJldHVybiB1cGRhdGVEYXRhOwogIH0KICAvKioKICAqIEBkZXNjcmlwdGlvbiB3YXRjaGVzIHRleHQgcHJvcGVydGllcwogICogQGZ1bmN0aW9uIHZhbHVlVXBkYXRlUHJvcAogICogQHBhcmFtIG9sZFZhbCBwcmV2aW91cyBzdHJpbmcgdmFsdWUKICAqIEBwYXJhbSBuZXdWYWwgIG5ldy9jaGFuZ2VkIHN0cmluZyB2YWx1ZQogICovCgoKICB2YWx1ZVVwZGF0ZVByb3AobmV3VmFsLCBvbGRWYWwpIHsKICAgIGlmICh0aGlzLmRhdGEudHlwZS5pbmNsdWRlcygnVGV4dEJveCcpIHx8IHRoaXMuZGF0YS50eXBlID09PSAnQ29tYm9Cb3gnKSB7CiAgICAgIGNvbnN0IHByb3BEYXRhID0gdGhpcy5wcm9wZXJ0aWVzOwogICAgICB0aGlzLnVwZGF0ZURhdGFNb2RlbCh7CiAgICAgICAgcHJvcGVydHlOYW1lOiAnVmFsdWUnLAogICAgICAgIHZhbHVlOiBuZXdWYWwKICAgICAgfSk7CiAgICB9CiAgfQogIC8qKgogICAqIEBkZXNjcmlwdGlvbiB3YXRjaGVzIHRleHQgYW5kIHZhbHVlIHByb3BlcnRpZXMgYXJlIHNhbWUgd2hlbiBjb21wb25lbnQgaXMgbW91bnRlZC9jaGFuZ2VkCiAgICogQGZ1bmN0aW9uIHRleHRBbmRWYWx1ZVVwZGF0ZVByb3AKICAgKiBAcGFyYW0gb2xkVmFsIHByZXZpb3VzIHByb3BlcnRpZXMgZGF0YQogICAqIEBwYXJhbSBuZXdWYWwgIG5ldy9jaGFuZ2VkIHByb3BlcnRpZXMgZGF0YQogICAqLwoKCiAgdGV4dEFuZFZhbHVlVXBkYXRlUHJvcChuZXdWYWwsIG9sZFZhbCkgewogICAgaWYgKHRoaXMuZGF0YS50eXBlLmluY2x1ZGVzKCdUZXh0Qm94JykpIHsKICAgICAgY29uc3QgcHJvcERhdGEgPSB0aGlzLnByb3BlcnRpZXM7CgogICAgICBpZiAocHJvcERhdGEuVGV4dCAhPT0gcHJvcERhdGEuVmFsdWUgJiYgcHJvcERhdGEuQ29udHJvbFNvdXJjZSA9PT0gJycpIHsKICAgICAgICBjb25zdCBwcm9wVGV4dCA9IHByb3BEYXRhLlRleHQubGVuZ3RoOwogICAgICAgIGNvbnN0IHByb3BWYWx1ZSA9IHByb3BEYXRhLlZhbHVlLmxlbmd0aDsKICAgICAgICB0aGlzLnVwZGF0ZURhdGFNb2RlbCh7CiAgICAgICAgICBwcm9wZXJ0eU5hbWU6ICdUZXh0JywKICAgICAgICAgIHZhbHVlOiB0aGlzLnByb3BlcnRpZXMuVmFsdWUKICAgICAgICB9KTsKICAgICAgfQogICAgfSBlbHNlIGlmICh0aGlzLmRhdGEudHlwZS5pbmNsdWRlcygnQ2hlY2tCb3gnKSB8fCB0aGlzLmRhdGEudHlwZS5pbmNsdWRlcygnT3B0aW9uQnV0dG9uJykpIHsKICAgICAgY29uc3QgdmFsdWUgPSB0aGlzLnByb3BlcnRpZXMuVmFsdWU7CiAgICAgIGNvbnN0IHZhbHVlVHlwZSA9IHR5cGVvZiB2YWx1ZTsKICAgICAgbGV0IGlzQm9vbGVhbiA9ICcnOwoKICAgICAgaWYgKHZhbHVlVHlwZSA9PT0gJ2Jvb2xlYW4nKSB7CiAgICAgICAgaXNCb29sZWFuID0gdmFsdWU7CiAgICAgIH0gZWxzZSBpZiAodmFsdWVUeXBlID09PSAnc3RyaW5nJykgewogICAgICAgIGlzQm9vbGVhbiA9IHZhbHVlLnRvTG93ZXJDYXNlKCkgPT09ICd0cnVlJyA/IHRydWUgOiB2YWx1ZS50b0xvd2VyQ2FzZSgpID09PSAnZmFsc2UnID8gZmFsc2UgOiAnJzsKICAgICAgfQoKICAgICAgY29uc3QgcmVmID0gdGhpcy5kYXRhLnR5cGUuaW5jbHVkZXMoJ0NoZWNrQm94JykgPyB0aGlzLmNoZWNrYm94UmVmIDogdGhpcy5vcHRpb25CdG5SZWY7CgogICAgICBpZiAoaXNCb29sZWFuICE9PSAnJykgewogICAgICAgIGlmIChpc0Jvb2xlYW4pIHsKICAgICAgICAgIHRoaXMuc2V0U3R5bGUocmVmLCBpc0Jvb2xlYW4sICFpc0Jvb2xlYW4sICd3aGl0ZScpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICB0aGlzLnNldFN0eWxlKHJlZiwgZmFsc2UsIGZhbHNlLCAnd2hpdGUnKTsKICAgICAgICB9CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy5zZXRTdHlsZShyZWYsIHRydWUsIHRydWUsICdyZ2JhKDIyMCwgMjIwLCAyMjAsIDEpJyk7CiAgICAgIH0KICAgIH0KICB9CiAgLyoqCiAgICogQGRlc2NyaXB0aW9uIGNoYW5naW5nIHdpZHRoIGFuZCBoZWlnaHQgb2YgdGV4dGFyZWEgdGFnIGJ5IHJlcGxpY2F0aW5nIHN0eWxlIG9mCiAgICogdGV4dGFyZWEgd2l0aCBsYWJlbCB0YWcgdG8gbWFraW5nIHRoZSBwcm9wZXJ0eSB3b3JrIGluIHRleHRhcmVhCiAgICogQGZ1bmN0aW9uIHVwZGF0ZUF1dG9TaXplCiAgICogQHBhcmFtIG9sZFZhbCBwcmV2aW91cyBwcm9wZXJ0aWVzIGRhdGEKICAgKiBAcGFyYW0gbmV3VmFsICBuZXcvY2hhbmdlZCBwcm9wZXJ0aWVzIGRhdGEKICAgKi8KCgogIHVwZGF0ZUF1dG9TaXplKG5ld1ZhbCwgb2xkVmFsKSB7CiAgICB0aHJvdyBuZXcgRXJyb3IoJ3VwZGF0ZUF1dG9zaXplIE5vdCBJbXBsZW1lbnRlZCcpOwogIH0KICAvKioKICAgICogQGRlc2NyaXB0aW9uICBzZXRzIGNoZWNrZWQgb3IgdW5jaGVja2VkIHdoZW4gY2hlY2tib3ggaXMgY2xpY2tlZAogICAgKiBpZiBUcmlwbGVTdGF0ZSBpcyBUcnVlLCBOdWxsIHN0YXRlIHdpbGwgYmUgdmlzaWJsZQogICAgKiBAZnVuY3Rpb24gaGFuZGxlQ2hhbmdlCiAgICAqIEBwYXJhbSBldmVudCBpdCBpcyBvZiB0eXBlIE1vdXNlRXZlbnQKICAgICovCgoKICBoYW5kbGVDaGFuZ2UoZXZlbnQsIHRhcmdldFJlZikgewogICAgaWYgKGV2ZW50LnRhcmdldCBpbnN0YW5jZW9mIEhUTUxJbnB1dEVsZW1lbnQpIHsKICAgICAgY29uc3QgZWwgPSBldmVudC50YXJnZXQuY2hlY2tlZDsKCiAgICAgIGlmICh0aGlzLnByb3BlcnRpZXMuVHJpcGxlU3RhdGUpIHsKICAgICAgICB0aGlzLnRyaXBsZVN0YXRlKys7CgogICAgICAgIGlmICh0aGlzLnRyaXBsZVN0YXRlICUgMyA9PT0gMCkgewogICAgICAgICAgdGhpcy5zZXRTdHlsZSh0YXJnZXRSZWYsIHRydWUsIGZhbHNlLCAncmdiYSgyMjAsIDIyMCwgMjIwLCAxKScpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICB0aGlzLnNldFN0eWxlKHRhcmdldFJlZiwgZWwsIGZhbHNlLCAnd2hpdGUnKTsKICAgICAgICAgIHRoaXMudXBkYXRlRGF0YU1vZGVsKHsKICAgICAgICAgICAgcHJvcGVydHlOYW1lOiAnVmFsdWUnLAogICAgICAgICAgICB2YWx1ZTogZWwKICAgICAgICAgIH0pOwogICAgICAgIH0KICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLnRyaXBsZVN0YXRlKys7CiAgICAgICAgdGhpcy51cGRhdGVEYXRhTW9kZWwoewogICAgICAgICAgcHJvcGVydHlOYW1lOiAnVmFsdWUnLAogICAgICAgICAgdmFsdWU6IGVsCiAgICAgICAgfSk7CiAgICAgICAgdGhpcy5zZXRTdHlsZSh0YXJnZXRSZWYsIGVsLCBmYWxzZSwgJ3doaXRlJyk7CiAgICAgIH0KICAgIH0KICB9CiAgLyoqCiAgICAqIEBkZXNjcmlwdGlvbiBnZXRSZXBlYXQgcmV0dXJucyBzdHJpbmcgdmFsdWUgZnJvbQogICAgKiBjb250cm9sUHJvcGVydGllcy5leHRyYURhdGFSZXBlYXRQcm9wCiAgICAqIEBmdW5jdGlvbiBnZXRSZXBlYXQKICAgICovCgoKICBnZXQgZ2V0UmVwZWF0RGF0YSgpIHsKICAgIC8vICBpZiAodGhpcy5wcm9wZXJ0aWVzLlBpY3R1cmUgPT09ICcnKSB7CiAgICByZXR1cm4gY29udHJvbFByb3BlcnRpZXMuZXh0cmFEYXRhUmVwZWF0UHJvcCh0aGlzLmRhdGEpOyAvLyAgfSBlbHNlIHsKICAgIC8vICAgIHJldHVybiBjb250cm9sUHJvcGVydGllcy5waWN0dXJlVGlsaW5nUHJvcCh0aGlzLmRhdGEpCiAgICAvLyAgfQogIH0KICAvKioKICAgICogQGRlc2NyaXB0aW9uIGNvbXB1dGVkQ2FwdGlvbiByZXR1cm5zIG9iamVjdCB2YWx1ZSBmcm9tCiAgICAqIHdpdGggYWNjZWxlcmF0b3JDYXB0aW9uLCBhZnRlcmJlZ2luQ2FwdGlvbiwgYmVmb3JlZW5kQ2FwdGlvbiB2YWx1ZXMKICAgICogQGZ1bmN0aW9uIGNvbXB1dGVkQ2FwdGlvbgogICAgKiBAcmV0dXJucyBvYmplY3QgdmFsdWUKICAgICovCgoKICBnZXQgY29tcHV0ZWRDYXB0aW9uKCkgewogICAgbGV0IGFjY2VsZXJhdG9yID0gJyc7CgogICAgaWYgKHRoaXMucHJvcGVydGllcy5BY2NlbGVyYXRvcikgewogICAgICBhY2NlbGVyYXRvciA9IHRoaXMucHJvcGVydGllcy5BY2NlbGVyYXRvci5jaGFyQXQoMCk7CiAgICB9CgogICAgcmV0dXJuIGNvbnRyb2xQcm9wZXJ0aWVzLmFjY2VsZXJhdG9yUHJvcCh0aGlzLnByb3BlcnRpZXMuQ2FwdGlvbiwgYWNjZWxlcmF0b3IpOwogIH0KCiAgdXBkYXRlQ29sdW1uV2lkdGhzKGluZGV4LCBoZWlnaHQpIHsKICAgIGNvbnN0IGNvbnRyb2xQcm9wID0gdGhpcy5wcm9wZXJ0aWVzOwogICAgY29uc3QgdXBkYXRlQ29sV2lkdGggPSBjb250cm9sUHJvcC5Db2x1bW5XaWR0aHMuc3BsaXQoJzsnKTsKICAgIGNvbnN0IGNvbENoYW5nZUNoZWNrID0gY29udHJvbFByb3AuQ29sdW1uQ291bnQgLSAxIDwgaW5kZXg7CiAgICByZXR1cm4gewogICAgICBwb3NpdGlvbjogJ3JlbGF0aXZlJywKICAgICAgZGlzcGxheTogJ2lubGluZS1ibG9jaycsCiAgICAgIHRleHRBbGlnbjogY29udHJvbFByb3AuVGV4dEFsaWduID09PSAwID8gJ2xlZnQnIDogY29udHJvbFByb3AuVGV4dEFsaWduID09PSAyID8gJ3JpZ2h0JyA6ICdjZW50ZXInLAogICAgICB3aWR0aDogY29udHJvbFByb3AuQ29sdW1uQ291bnQgPT09IC0xID8gdXBkYXRlQ29sV2lkdGhbaW5kZXhdID8gcGFyc2VJbnQodXBkYXRlQ29sV2lkdGhbaW5kZXhdKSArICdweCcgOiAnMTAwcHgnIDogY29sQ2hhbmdlQ2hlY2sgPyAnMHB4JyA6IHVwZGF0ZUNvbFdpZHRoW2luZGV4XSA/IHBhcnNlSW50KHVwZGF0ZUNvbFdpZHRoW2luZGV4XSkgKyAncHgnIDogY29udHJvbFByb3AuQ29sdW1uQ291bnQgPiBpbmRleCA/ICcxMDBweCcgOiAnMHB4JywKICAgICAgb3ZlcmZsb3c6ICdoaWRkZW4nLAogICAgICBwYWRkaW5nQm90dG9tOiB0aGlzLmRhdGEucHJvcGVydGllcy5Gb250LkZvbnRTaXplID4gNDggPyAnMTBweCcgOiAnNXB4JwogICAgfTsKICB9CgogIHVwZGF0ZUNvbEhlYWRzKGluZGV4KSB7CiAgICBjb25zdCBjb250cm9sUHJvcCA9IHRoaXMucHJvcGVydGllczsKICAgIGNvbnN0IHVwZGF0ZUNvbFdpZHRoID0gY29udHJvbFByb3AuQ29sdW1uV2lkdGhzLnNwbGl0KCc7Jyk7CiAgICByZXR1cm4gewogICAgICB0ZXh0QWxpZ246IGNvbnRyb2xQcm9wLlRleHRBbGlnbiA9PT0gMCA/ICdsZWZ0JyA6IGNvbnRyb2xQcm9wLlRleHRBbGlnbiA9PT0gMiA/ICdyaWdodCcgOiAnY2VudGVyJywKICAgICAgYm9yZGVyUmlnaHQ6IGluZGV4IDwgY29udHJvbFByb3AuQ29sdW1uQ291bnQgLSAxID8gJzFweCBzb2xpZCcgOiAnJywKICAgICAgd2lkdGg6IGNvbnRyb2xQcm9wLkNvbHVtbkNvdW50ID09PSAtMSA/IHBhcnNlSW50KHVwZGF0ZUNvbFdpZHRoW2luZGV4XSkgKyAncHgnIDogdXBkYXRlQ29sV2lkdGhbaW5kZXhdID8gcGFyc2VJbnQodXBkYXRlQ29sV2lkdGhbaW5kZXhdKSArICdweCcgOiAnMTAwcHgnLAogICAgICBvdmVyZmxvdzogJ2hpZGRlbicKICAgIH07CiAgfQogIC8qKgogICAqIEBkZXNjcmlwdGlvbiB3YXRjaGVzIGNoYW5nZXMgaW4gcHJvcGVydGllcyBmb3IgQm91bmRDb2x1bW4KICAgKiBAZnVuY3Rpb24gYm91bmRDb2x1bW5WYWx1ZQogICAqIEBwYXJhbSBvbGRWYWwgcHJldmlvdXMgcHJvcGVydGllcyBkYXRhCiAgICogQHBhcmFtIG5ld1ZhbCAgbmV3L2NoYW5nZWQgcHJvcGVydGllcyBkYXRhCiAgICovCgoKICBib3VuZENvbHVtblZhbHVlKG5ld1ZhbCwgb2xkVmFsKSB7CiAgICBpZiAodGhpcy5wcm9wZXJ0aWVzLkJvdW5kQ29sdW1uID4gMCAmJiB0aGlzLnByb3BlcnRpZXMuQm91bmRDb2x1bW4gPCB0aGlzLmV4dHJhRGF0YXMuUm93U291cmNlRGF0YS5sZW5ndGgpIHsKICAgICAgbGV0IHRlbXBEYXRhID0gWy4uLnRoaXMuZXh0cmFEYXRhcy5Sb3dTb3VyY2VEYXRhXTsKICAgICAgdGVtcERhdGFbMF1bMF0gPSB0ZW1wRGF0YVswXVtuZXdWYWwgLSAxXTsKICAgICAgbGV0IHRlbXBWYWx1ZSA9IHRlbXBEYXRhWzBdW25ld1ZhbCAtIDFdOwogICAgICB0aGlzLnVwZGF0ZURhdGFNb2RlbEV4dHJhRGF0YSh7CiAgICAgICAgcHJvcGVydHlOYW1lOiAnUm93U291cmNlRGF0YScsCiAgICAgICAgdmFsdWU6IHRlbXBEYXRhCiAgICAgIH0pOwogICAgICB0aGlzLnVwZGF0ZURhdGFNb2RlbCh7CiAgICAgICAgcHJvcGVydHlOYW1lOiAnVmFsdWUnLAogICAgICAgIHZhbHVlOiB0ZW1wVmFsdWUKICAgICAgfSk7CiAgICB9CiAgfQogIC8qKgogICAqIEBkZXNjcmlwdGlvbiB3YXRjaGVzIGNoYW5nZXMgaW4gcHJvcGVydGllcyBmb3IgVGV4dENvbHVtbgogICAqIEBmdW5jdGlvbiB0ZXh0Q29sdW1uQ2hhbmdlCiAgICogQHBhcmFtIG9sZFZhbCBwcmV2aW91cyBwcm9wZXJ0aWVzIGRhdGEKICAgKiBAcGFyYW0gbmV3VmFsICBuZXcvY2hhbmdlZCBwcm9wZXJ0aWVzIGRhdGEKICAgKi8KCgogIHRleHRDb2x1bW5DaGFuZ2UobmV3VmFsLCBvbGRWYWwpIHsKICAgIGlmIChuZXdWYWwgPiAwICYmIG5ld1ZhbCA8IHRoaXMuZXh0cmFEYXRhcy5Sb3dTb3VyY2VEYXRhLmxlbmd0aCkgewogICAgICBsZXQgdGVtcERhdGEgPSBbLi4udGhpcy5leHRyYURhdGFzLlJvd1NvdXJjZURhdGFdOwogICAgICBsZXQgdGVtcFZhbHVlID0gdGVtcERhdGFbMF1bbmV3VmFsIC0gMV07CiAgICAgIHRoaXMudXBkYXRlRGF0YU1vZGVsKHsKICAgICAgICBwcm9wZXJ0eU5hbWU6ICdUZXh0JywKICAgICAgICB2YWx1ZTogdGVtcFZhbHVlCiAgICAgIH0pOwogICAgfSBlbHNlIHsKICAgICAgdGhpcy51cGRhdGVEYXRhTW9kZWwoewogICAgICAgIHByb3BlcnR5TmFtZTogJ1RleHQnLAogICAgICAgIHZhbHVlOiAnJwogICAgICB9KTsKICAgIH0KICB9CiAgLyoqCiAgICogQGRlc2NyaXB0aW9uIHdhdGNoZXMgY2hhbmdlcyBpbiBwcm9wZXJ0aWVzIGZvciBUb3BJbmRleAogICAqIEBmdW5jdGlvbiB0b3BJbmRleENoZWNrCiAgICogQHBhcmFtIG9sZFZhbCBwcmV2aW91cyBwcm9wZXJ0aWVzIGRhdGEKICAgKiBAcGFyYW0gbmV3VmFsICBuZXcvY2hhbmdlZCBwcm9wZXJ0aWVzIGRhdGEKICAgKi8KCgogIHRvcEluZGV4Q2hlY2sobmV3VmFsLCBvbGRWYWwpIHsKICAgIGlmICh0aGlzLmV4dHJhRGF0YXMuUm93U291cmNlRGF0YS5sZW5ndGggPT09IDApIHsKICAgICAgdGhpcy51cGRhdGVEYXRhTW9kZWwoewogICAgICAgIHByb3BlcnR5TmFtZTogJ1RvcEluZGV4JywKICAgICAgICB2YWx1ZTogLTEKICAgICAgfSk7CiAgICB9IGVsc2UgewogICAgICB0aGlzLnVwZGF0ZURhdGFNb2RlbCh7CiAgICAgICAgcHJvcGVydHlOYW1lOiAnVG9wSW5kZXgnLAogICAgICAgIHZhbHVlOiAwCiAgICAgIH0pOwogICAgfQogIH0KICAvKioKICAgKiBAZGVzY3JpcHRpb24gdXBkYXRlcyB0aGUgZGF0YU1vZGVsIGxpc3RCb3ggb2JqZWN0IHByb3BlcnRpZXMgd2hlbiB1c2VyIGNsaWNrcwogICAqIEBmdW5jdGlvbiBoYW5kbGVNdWx0aVNlbGVjdAogICAqIEBwYXJhbSBldmVudCBpdHMgb2YgdHlwZSBNb3VzZUV2ZW50CiAgICogQGV2ZW50IGNsaWNrCiAgICoKICAgKi8KCgogIGhhbmRsZU11bHRpU2VsZWN0KGUpIHsKICAgIGlmIChlLnRhcmdldCBpbnN0YW5jZW9mIEhUTUxUYWJsZUNlbGxFbGVtZW50IHx8IGUudGFyZ2V0IGluc3RhbmNlb2YgSFRNTFRhYmxlUm93RWxlbWVudCB8fCBlLnRhcmdldCBpbnN0YW5jZW9mIEhUTUxEaXZFbGVtZW50KSB7CiAgICAgIHRoaXMudGVtcExpc3RCb3hDb21ib0JveEV2ZW50ID0gZTsKICAgICAgY29uc3QgdGFyZ2V0RWxlbWVudCA9IGUudGFyZ2V0OwogICAgICBjb25zdCB0ZW1wRGF0YSA9IHRhcmdldEVsZW1lbnQucGFyZW50RWxlbWVudC5jaGlsZHJlblswXTsKICAgICAgY29uc3QgdGVtcERhdGFPcHRpb24gPSB0YXJnZXRFbGVtZW50LnBhcmVudEVsZW1lbnQuY2hpbGRyZW5bMV07CiAgICAgIGNvbnN0IHRlbXBQYXRoID0gZS5jb21wb3NlZFBhdGgoKTsKICAgICAgdGFyZ2V0RWxlbWVudC5mb2N1cygpOwogICAgICBsZXQgZGF0YSA9IHRhcmdldEVsZW1lbnQuaW5uZXJUZXh0OwogICAgICBsZXQgc3BsaXREYXRhID0gZGF0YS5yZXBsYWNlKC9cdC9nLCAnICcpLnNwbGl0KCcgJyk7CgogICAgICBpZiAodGhpcy5kYXRhLnByb3BlcnRpZXMuTGlzdFN0eWxlID09PSAwKSB7CiAgICAgICAgdGhpcy5zZWxlY3Rpb25EYXRhWzBdID0gdGVtcERhdGEuaW5uZXJUZXh0OwogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMuc2VsZWN0aW9uRGF0YVswXSA9IHRlbXBEYXRhT3B0aW9uLmlubmVyVGV4dDsKICAgICAgfQoKICAgICAgaWYgKHRoaXMucHJvcGVydGllcy5FbmFibGVkICYmIHRoaXMucHJvcGVydGllcy5Mb2NrZWQgPT09IGZhbHNlKSB7CiAgICAgICAgaWYgKHRoaXMucHJvcGVydGllcy5NdWx0aVNlbGVjdCA9PT0gMCkgewogICAgICAgICAgaWYgKHRoaXMucHJvcGVydGllcy5Db250cm9sU291cmNlICE9PSAnJykgewogICAgICAgICAgICB0aGlzLnVwZGF0ZURhdGFNb2RlbCh7CiAgICAgICAgICAgICAgcHJvcGVydHlOYW1lOiAnVGV4dCcsCiAgICAgICAgICAgICAgdmFsdWU6IHRoaXMuc2VsZWN0aW9uRGF0YVswXQogICAgICAgICAgICB9KTsKICAgICAgICAgICAgdGhpcy51cGRhdGVEYXRhTW9kZWwoewogICAgICAgICAgICAgIHByb3BlcnR5TmFtZTogJ1ZhbHVlJywKICAgICAgICAgICAgICB2YWx1ZTogdGhpcy5zZWxlY3Rpb25EYXRhWzBdCiAgICAgICAgICAgIH0pOwogICAgICAgICAgfQoKICAgICAgICAgIHRoaXMuY2xlYXJPcHRpb25CR0NvbG9yQW5kQ2hlY2tlZChlKTsKICAgICAgICAgIHRoaXMuc2V0T3B0aW9uQkdDb2xvckFuZENoZWNrZWQoZSk7CiAgICAgICAgICBsZXQgaXNMaXN0U3R5bGUgPSAwOwoKICAgICAgICAgIGlmICh0aGlzLnByb3BlcnRpZXMuVGV4dENvbHVtbiA9PT0gLTEgfHwgdGhpcy5wcm9wZXJ0aWVzLlRleHRDb2x1bW4gPT09IDEpIHsKICAgICAgICAgICAgLy8gMHRoIGluZGV4IGlzIGVtcHR5IHN0cmluZwogICAgICAgICAgICBpZiAodGhpcy5wcm9wZXJ0aWVzLkxpc3RTdHlsZSA9PT0gMCkgewogICAgICAgICAgICAgIGlzTGlzdFN0eWxlID0gLTE7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIHRoaXMudXBkYXRlRGF0YU1vZGVsKHsKICAgICAgICAgICAgICBwcm9wZXJ0eU5hbWU6ICdUZXh0JywKICAgICAgICAgICAgICB2YWx1ZTogc3BsaXREYXRhWzEgLSBpc0xpc3RTdHlsZV0KICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIHRoaXMudXBkYXRlRGF0YU1vZGVsKHsKICAgICAgICAgICAgICBwcm9wZXJ0eU5hbWU6ICdWYWx1ZScsCiAgICAgICAgICAgICAgdmFsdWU6IHNwbGl0RGF0YVsxIC0gaXNMaXN0U3R5bGVdCiAgICAgICAgICAgIH0pOwogICAgICAgICAgfSBlbHNlIGlmICh0aGlzLnByb3BlcnRpZXMuVGV4dENvbHVtbiA9PT0gMCkgewogICAgICAgICAgICB0aGlzLnVwZGF0ZURhdGFNb2RlbCh7CiAgICAgICAgICAgICAgcHJvcGVydHlOYW1lOiAnVGV4dCcsCiAgICAgICAgICAgICAgdmFsdWU6IHNwbGl0RGF0YVsyIC0gaXNMaXN0U3R5bGVdCiAgICAgICAgICAgIH0pOwogICAgICAgICAgICB0aGlzLnVwZGF0ZURhdGFNb2RlbCh7CiAgICAgICAgICAgICAgcHJvcGVydHlOYW1lOiAnVmFsdWUnLAogICAgICAgICAgICAgIHZhbHVlOiBzcGxpdERhdGFbMSAtIGlzTGlzdFN0eWxlXQogICAgICAgICAgICB9KTsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIHRoaXMudXBkYXRlRGF0YU1vZGVsKHsKICAgICAgICAgICAgICBwcm9wZXJ0eU5hbWU6ICdUZXh0JywKICAgICAgICAgICAgICB2YWx1ZTogc3BsaXREYXRhW3RoaXMucHJvcGVydGllcy5UZXh0Q29sdW1uXQogICAgICAgICAgICB9KTsKICAgICAgICAgICAgdGhpcy51cGRhdGVEYXRhTW9kZWwoewogICAgICAgICAgICAgIHByb3BlcnR5TmFtZTogJ1ZhbHVlJywKICAgICAgICAgICAgICB2YWx1ZTogc3BsaXREYXRhWzEgLSBpc0xpc3RTdHlsZV0KICAgICAgICAgICAgfSk7CiAgICAgICAgICB9CiAgICAgICAgfSBlbHNlIGlmICh0aGlzLnByb3BlcnRpZXMuTXVsdGlTZWxlY3QgPT09IDEpIHsKICAgICAgICAgIGlmICh0YXJnZXRFbGVtZW50LnRhZ05hbWUgPT09ICdJTlBVVCcpIHsKICAgICAgICAgICAgdGhpcy5zZXRPcHRpb25CR0NvbG9yQW5kQ2hlY2tlZChlKTsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIHRoaXMuc2V0T3B0aW9uQkdDb2xvckFuZENoZWNrZWQoZSk7CiAgICAgICAgICB9CiAgICAgICAgfSBlbHNlIGlmICh0aGlzLnByb3BlcnRpZXMuTXVsdGlTZWxlY3QgPT09IDIpIHsKICAgICAgICAgIGlmIChlLmN0cmxLZXkgPT09IHRydWUpIHsKICAgICAgICAgICAgaWYgKHRhcmdldEVsZW1lbnQudGFnTmFtZSA9PT0gJ0lOUFVUJykgewogICAgICAgICAgICAgIHRoaXMuc2V0T3B0aW9uQkdDb2xvckFuZENoZWNrZWQoZSk7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgdGhpcy5zZXRPcHRpb25CR0NvbG9yQW5kQ2hlY2tlZChlKTsKICAgICAgICAgICAgfQogICAgICAgICAgfSBlbHNlIGlmIChlLnNoaWZ0S2V5ID09PSB0cnVlICYmIHRoaXMucHJvcGVydGllcy5WYWx1ZSAhPT0gJycpIHsKICAgICAgICAgICAgbGV0IHN0YXJ0UG9pbnQgPSAwOwogICAgICAgICAgICBsZXQgZW5kUG9pbnQgPSAwOwoKICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0ZW1wUGF0aC5sZW5ndGg7IGkrKykgewogICAgICAgICAgICAgIGNvbnN0IGVsZSA9IHRlbXBQYXRoW2ldOwoKICAgICAgICAgICAgICBpZiAoZWxlLmNsYXNzTmFtZSA9PT0gJ3RhYmxlLWJvZHknKSB7CiAgICAgICAgICAgICAgICAvLyBleHRlbmQgcG9pbnRzIHN0YXJ0IGFuZCBlbmQKICAgICAgICAgICAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgZWxlLmNoaWxkTm9kZXMubGVuZ3RoOyBqKyspIHsKICAgICAgICAgICAgICAgICAgY29uc3QgY2QgPSBlbGUuY2hpbGROb2Rlc1tqXTsKCiAgICAgICAgICAgICAgICAgIGlmIChjZC5pbm5lclRleHQgPT09IHRoaXMucHJvcGVydGllcy5WYWx1ZSkgewogICAgICAgICAgICAgICAgICAgIHN0YXJ0UG9pbnQgPSBqICsgMTsKICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgaWYgKGNkLmlubmVyVGV4dCA9PT0gdGFyZ2V0RWxlbWVudC5pbm5lclRleHQpIHsKICAgICAgICAgICAgICAgICAgICBlbmRQb2ludCA9IGo7CiAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0gLy8gdXB3YXJkIHNlbGVjdGlvbiBzdGFydCBhbmQgZW5kIHN3YXAKCgogICAgICAgICAgICAgICAgaWYgKHN0YXJ0UG9pbnQgPiBlbmRQb2ludCkgewogICAgICAgICAgICAgICAgICBsZXQgdGVtcCA9IHN0YXJ0UG9pbnQ7CiAgICAgICAgICAgICAgICAgIHN0YXJ0UG9pbnQgPSBlbmRQb2ludDsKICAgICAgICAgICAgICAgICAgZW5kUG9pbnQgPSB0ZW1wOwogICAgICAgICAgICAgICAgfSAvLyBzZXR0aW5nIHNlbGVjdGlvbgoKCiAgICAgICAgICAgICAgICBmb3IgKGxldCBrID0gc3RhcnRQb2ludDsgayA8PSBlbmRQb2ludDsgaysrKSB7CiAgICAgICAgICAgICAgICAgIGNvbnN0IG5vZGUgPSBlbGUuY2hpbGROb2Rlc1trXTsKICAgICAgICAgICAgICAgICAgY29uc3QgdGVtcE5vZGUgPSBub2RlLmNoaWxkTm9kZXNbMF0uY2hpbGROb2Rlc1swXTsKICAgICAgICAgICAgICAgICAgbm9kZS5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSAncmdiKDU5LCAxMjIsIDIzMSknOwoKICAgICAgICAgICAgICAgICAgaWYgKHRoaXMucHJvcGVydGllcy5MaXN0U3R5bGUgPT09IDEgJiYgIXRlbXBOb2RlLmNoZWNrZWQpIHsKICAgICAgICAgICAgICAgICAgICAvLyB0ZW1wTm9kZS5jaGVja2VkID0gIXRlbXBOb2RlLmNoZWNrZWQKICAgICAgICAgICAgICAgICAgICB0ZW1wTm9kZS5jaGVja2VkID0gdHJ1ZTsKICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgdGhpcy5jbGVhck9wdGlvbkJHQ29sb3JBbmRDaGVja2VkKGUpOwogICAgICAgICAgICB0aGlzLnNldE9wdGlvbkJHQ29sb3JBbmRDaGVja2VkKGUpOwogICAgICAgICAgICB0aGlzLnVwZGF0ZURhdGFNb2RlbCh7CiAgICAgICAgICAgICAgcHJvcGVydHlOYW1lOiAnVmFsdWUnLAogICAgICAgICAgICAgIHZhbHVlOiB0YXJnZXRFbGVtZW50LmlubmVyVGV4dAogICAgICAgICAgICB9KTsKICAgICAgICAgIH0KICAgICAgICB9IGVsc2UgewogICAgICAgICAgaWYgKHRoaXMucHJvcGVydGllcy5Db250cm9sU291cmNlICE9PSAnJykgewogICAgICAgICAgICB0aGlzLnVwZGF0ZURhdGFNb2RlbCh7CiAgICAgICAgICAgICAgcHJvcGVydHlOYW1lOiAnVGV4dCcsCiAgICAgICAgICAgICAgdmFsdWU6IHRoaXMuc2VsZWN0aW9uRGF0YVswXQogICAgICAgICAgICB9KTsKICAgICAgICAgICAgdGhpcy51cGRhdGVEYXRhTW9kZWwoewogICAgICAgICAgICAgIHByb3BlcnR5TmFtZTogJ1ZhbHVlJywKICAgICAgICAgICAgICB2YWx1ZTogdGhpcy5zZWxlY3Rpb25EYXRhWzBdCiAgICAgICAgICAgIH0pOwogICAgICAgICAgfQoKICAgICAgICAgIHRoaXMuY2xlYXJPcHRpb25CR0NvbG9yQW5kQ2hlY2tlZChlKTsKICAgICAgICAgIHRoaXMuc2V0T3B0aW9uQkdDb2xvckFuZENoZWNrZWQoZSk7CiAgICAgICAgICBsZXQgaXNMaXN0U3R5bGUgPSAwOwoKICAgICAgICAgIGlmICh0aGlzLnByb3BlcnRpZXMuVGV4dENvbHVtbiA9PT0gLTEgfHwgdGhpcy5wcm9wZXJ0aWVzLlRleHRDb2x1bW4gPT09IDEpIHsKICAgICAgICAgICAgaWYgKHRoaXMucHJvcGVydGllcy5MaXN0U3R5bGUgPT09IDApIHsKICAgICAgICAgICAgICBpc0xpc3RTdHlsZSA9IC0xOwogICAgICAgICAgICB9CgogICAgICAgICAgICB0aGlzLnVwZGF0ZURhdGFNb2RlbCh7CiAgICAgICAgICAgICAgcHJvcGVydHlOYW1lOiAnVGV4dCcsCiAgICAgICAgICAgICAgdmFsdWU6IHNwbGl0RGF0YVsxIC0gaXNMaXN0U3R5bGVdCiAgICAgICAgICAgIH0pOwogICAgICAgICAgICB0aGlzLnVwZGF0ZURhdGFNb2RlbCh7CiAgICAgICAgICAgICAgcHJvcGVydHlOYW1lOiAnVmFsdWUnLAogICAgICAgICAgICAgIHZhbHVlOiBzcGxpdERhdGFbMSAtIGlzTGlzdFN0eWxlXQogICAgICAgICAgICB9KTsKICAgICAgICAgIH0gZWxzZSBpZiAodGhpcy5wcm9wZXJ0aWVzLlRleHRDb2x1bW4gPT09IDApIHsKICAgICAgICAgICAgdGhpcy51cGRhdGVEYXRhTW9kZWwoewogICAgICAgICAgICAgIHByb3BlcnR5TmFtZTogJ1RleHQnLAogICAgICAgICAgICAgIHZhbHVlOiBzcGxpdERhdGFbMiAtIGlzTGlzdFN0eWxlXQogICAgICAgICAgICB9KTsKICAgICAgICAgICAgdGhpcy51cGRhdGVEYXRhTW9kZWwoewogICAgICAgICAgICAgIHByb3BlcnR5TmFtZTogJ1ZhbHVlJywKICAgICAgICAgICAgICB2YWx1ZTogc3BsaXREYXRhWzEgLSBpc0xpc3RTdHlsZV0KICAgICAgICAgICAgfSk7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICB0aGlzLnVwZGF0ZURhdGFNb2RlbCh7CiAgICAgICAgICAgICAgcHJvcGVydHlOYW1lOiAnVGV4dCcsCiAgICAgICAgICAgICAgdmFsdWU6IHNwbGl0RGF0YVt0aGlzLnByb3BlcnRpZXMuVGV4dENvbHVtbl0KICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIHRoaXMudXBkYXRlRGF0YU1vZGVsKHsKICAgICAgICAgICAgICBwcm9wZXJ0eU5hbWU6ICdWYWx1ZScsCiAgICAgICAgICAgICAgdmFsdWU6IHNwbGl0RGF0YVsxIC0gaXNMaXN0U3R5bGVdCiAgICAgICAgICAgIH0pOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfQogICAgfSBlbHNlIHsKICAgICAgaWYgKHRoaXMucHJvcGVydGllcy5NdWx0aVNlbGVjdCAhPT0gMSkgewogICAgICAgIHRoaXMuY2xlYXJPcHRpb25CR0NvbG9yQW5kQ2hlY2tlZChlKTsKICAgICAgfQoKICAgICAgdGhpcy5zZXRPcHRpb25CR0NvbG9yQW5kQ2hlY2tlZChlKTsKICAgIH0KCiAgICBjb25zdCBhID0gZS5jdXJyZW50VGFyZ2V0OwogICAgdGhpcy5zZWxlY3Rpb25EYXRhWzBdID0gYS5pbm5lclRleHQ7CiAgICB0aGlzLnVwZGF0ZURhdGFNb2RlbCh7CiAgICAgIHByb3BlcnR5TmFtZTogJ1ZhbHVlJywKICAgICAgdmFsdWU6IGEuaW5uZXJUZXh0WzBdCiAgICB9KTsKICAgIHRoaXMudXBkYXRlRGF0YU1vZGVsKHsKICAgICAgcHJvcGVydHlOYW1lOiAnVGV4dCcsCiAgICAgIHZhbHVlOiBhLmlubmVyVGV4dFswXQogICAgfSk7CiAgfQogIC8qKgogICAqIEBkZXNjcmlwdGlvbiB1cGRhdGVzIHRoZSBkYXRhTW9kZWwgbGlzdEJveCBvYmplY3QgcHJvcGVydGllcyB3aGVuIGtleWRvd24KICAgKiBAZnVuY3Rpb24gaGFuZGxlRXh0ZW5kQXJyb3dLZXlTZWxlY3QKICAgKiBAcGFyYW0gZXZlbnQgaXRzIG9mIHR5cGUgS2V5Ym9hcmRFdmVudAogICAqIEBldmVudCBrZXlkb3duCiAgICoKICAgKi8KCgogIGhhbmRsZUV4dGVuZEFycm93S2V5U2VsZWN0KGUpIHsKICAgIGNvbnN0IHggPSBlLmtleS50b1VwcGVyQ2FzZSgpLmNoYXJDb2RlQXQoMCk7CiAgICBjb25zdCB0ZW1wUGF0aCA9IGUuY29tcG9zZWRQYXRoKCk7CiAgICBjb25zdCBldmVudFRhcmdldCA9IGUudGFyZ2V0OwogICAgY29uc3QgbmV4dFNpYmxpbmdFdmVudCA9IGV2ZW50VGFyZ2V0Lm5leHRTaWJsaW5nOwogICAgY29uc3QgcHJldlNpYmxpbmdFdmVudCA9IGV2ZW50VGFyZ2V0LnByZXZpb3VzU2libGluZzsKCiAgICBpZiAodGhpcy5wcm9wZXJ0aWVzLk1hdGNoRW50cnkgPT09IDAgJiYgeCA+PSA0OCAmJiB4IDw9IDkwKSB7CiAgICAgIHRoaXMubWF0Y2hFbnRyeSA9IFtdOwogICAgICBjb25zdCBwcmV2TWF0Y2hEYXRhID0gdGhpcy5leHRyYURhdGFzLk1hdGNoRGF0YSA9PT0gJycgPyBlLmtleSA6IHRoaXMuZXh0cmFEYXRhcy5NYXRjaERhdGE7CiAgICAgIHRoaXMudXBkYXRlRGF0YU1vZGVsRXh0cmFEYXRhKHsKICAgICAgICBwcm9wZXJ0eU5hbWU6ICdNYXRjaERhdGEnLAogICAgICAgIHZhbHVlOiBwcmV2TWF0Y2hEYXRhICE9PSBlLmtleSA/IGUua2V5IDogcHJldk1hdGNoRGF0YQogICAgICB9KTsKCiAgICAgIGZvciAobGV0IGluZGV4ID0gMDsgaW5kZXggPCB0ZW1wUGF0aC5sZW5ndGg7IGluZGV4KyspIHsKICAgICAgICBjb25zdCBlbGVtZW50ID0gdGVtcFBhdGhbaW5kZXhdOwoKICAgICAgICBpZiAoZWxlbWVudC5jbGFzc05hbWUgPT09ICd0YWJsZS1ib2R5JykgewogICAgICAgICAgZm9yIChsZXQgaW5kZXggPSAwOyBpbmRleCA8IGVsZW1lbnQuY2hpbGROb2Rlcy5sZW5ndGg7IGluZGV4KyspIHsKICAgICAgICAgICAgY29uc3QgZWkgPSBlbGVtZW50LmNoaWxkTm9kZXNbaW5kZXhdOwogICAgICAgICAgICBsZXQgc3BsaXREYXRhID0gZWkuaW5uZXJUZXh0LnJlcGxhY2UoL1x0L2csICcgJykuc3BsaXQoJyAnKTsKICAgICAgICAgICAgbGV0IHNpID0gMDsKCiAgICAgICAgICAgIGlmICh0aGlzLnByb3BlcnRpZXMuTGlzdFN0eWxlID09PSAwKSB7CiAgICAgICAgICAgICAgc2kgPSAtMTsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgaWYgKHNwbGl0RGF0YVtzaSArIDFdWzBdLmluY2x1ZGVzKHRoaXMuZXh0cmFEYXRhcy5NYXRjaERhdGEpKSB7CiAgICAgICAgICAgICAgdGhpcy5tYXRjaEVudHJ5LnB1c2goaW5kZXgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CgogICAgICAgICAgaWYgKHRoaXMuZXh0cmFEYXRhcy5NYXRjaERhdGFbMF0gIT09IHVuZGVmaW5lZCAmJiB0aGlzLmV4dHJhRGF0YXMuTWF0Y2hEYXRhWzBdID09PSBlLmtleSAmJiB0aGlzLmV4dHJhRGF0YXMuTWF0Y2hEYXRhLmxlbmd0aCA+IDApIHsKICAgICAgICAgICAgY29uc3QgdGVtcENoaWxkTm9kZSA9IGVsZW1lbnQuY2hpbGROb2Rlc1t0aGlzLm1hdGNoRW50cnlbdGhpcy5tYXRjaEluZGV4XV07CiAgICAgICAgICAgIHRoaXMubWF0Y2hJbmRleCsrOwoKICAgICAgICAgICAgaWYgKHRoaXMubWF0Y2hJbmRleCA9PT0gdGhpcy5tYXRjaEVudHJ5Lmxlbmd0aCAmJiBwcmV2TWF0Y2hEYXRhID09PSB0aGlzLmV4dHJhRGF0YXMuTWF0Y2hEYXRhKSB7CiAgICAgICAgICAgICAgdGhpcy5tYXRjaEluZGV4ID0gMDsKICAgICAgICAgICAgICB0aGlzLmNsZWFyT3B0aW9uQkdDb2xvckFuZENoZWNrZWQoZSk7CiAgICAgICAgICAgICAgdGhpcy5zZXRCR2FuZENoZWNrZWRGb3JNYXRjaCh0ZW1wQ2hpbGROb2RlKTsKICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgfSBlbHNlIGlmIChwcmV2TWF0Y2hEYXRhICE9PSB0aGlzLmV4dHJhRGF0YXMuTWF0Y2hEYXRhKSB7CiAgICAgICAgICAgICAgdGhpcy5tYXRjaEluZGV4ID0gMDsKICAgICAgICAgICAgICB0aGlzLmNsZWFyT3B0aW9uQkdDb2xvckFuZENoZWNrZWQoZSk7CiAgICAgICAgICAgICAgdGhpcy5zZXRCR2FuZENoZWNrZWRGb3JNYXRjaCh0ZW1wQ2hpbGROb2RlKTsKICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICBpZiAodGhpcy5tYXRjaEVudHJ5Lmxlbmd0aCA9PT0gMCkgewogICAgICAgICAgICAgICAgdGhpcy5tYXRjaEVudHJ5LnB1c2goMCk7CiAgICAgICAgICAgICAgICB0aGlzLm1hdGNoSW5kZXggPSAwOwogICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgdGhpcy5jbGVhck9wdGlvbkJHQ29sb3JBbmRDaGVja2VkKGUpOwogICAgICAgICAgICAgIHRoaXMuc2V0QkdhbmRDaGVja2VkRm9yTWF0Y2godGVtcENoaWxkTm9kZSk7CiAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KCiAgICAgICAgICBicmVhazsKICAgICAgICB9CiAgICAgIH0KICAgIH0gZWxzZSBpZiAodGhpcy5wcm9wZXJ0aWVzLk1hdGNoRW50cnkgPT09IDEgJiYgeCA+PSA0OCAmJiB4IDw9IDkwKSB7CiAgICAgIGxldCB0ZW1wID0gdGhpcy5leHRyYURhdGFzLk1hdGNoRGF0YSArIGUua2V5OwogICAgICB0aGlzLnVwZGF0ZURhdGFNb2RlbEV4dHJhRGF0YSh7CiAgICAgICAgcHJvcGVydHlOYW1lOiAnTWF0Y2hEYXRhJywKICAgICAgICB2YWx1ZTogdGVtcAogICAgICB9KTsKCiAgICAgIGZvciAobGV0IHBvaW50ID0gMDsgcG9pbnQgPCB0ZW1wUGF0aC5sZW5ndGg7IHBvaW50KyspIHsKICAgICAgICBjb25zdCB0Ym9keSA9IHRlbXBQYXRoW3BvaW50XTsKCiAgICAgICAgaWYgKHRib2R5LmNsYXNzTmFtZSA9PT0gJ3RhYmxlLWJvZHknKSB7CiAgICAgICAgICB0aGlzLm1hdGNoRW50cnkgPSBbXTsKCiAgICAgICAgICBmb3IgKGxldCBwID0gMDsgcCA8IHRib2R5LmNoaWxkTm9kZXMubGVuZ3RoOyBwKyspIHsKICAgICAgICAgICAgY29uc3QgZWkgPSB0Ym9keS5jaGlsZE5vZGVzW3BdOwogICAgICAgICAgICBsZXQgbWF0Y2hFbnRyeUNvbXBsZXRlID0gZWkuaW5uZXJUZXh0LnJlcGxhY2UoL1x0L2csICcgJykuc3BsaXQoJyAnKTsKICAgICAgICAgICAgbGV0IHNpaSA9IDA7CgogICAgICAgICAgICBpZiAodGhpcy5wcm9wZXJ0aWVzLkxpc3RTdHlsZSA9PT0gMCkgewogICAgICAgICAgICAgIHNpaSA9IC0xOwogICAgICAgICAgICB9CgogICAgICAgICAgICBpZiAobWF0Y2hFbnRyeUNvbXBsZXRlW3NpaSArIDFdWzBdLmluY2x1ZGVzKHRoaXMuZXh0cmFEYXRhcy5NYXRjaERhdGEpICYmIHRoaXMuZXh0cmFEYXRhcy5NYXRjaERhdGEubGVuZ3RoIDwgMikgewogICAgICAgICAgICAgIHRoaXMubWF0Y2hFbnRyeS5wdXNoKHApOwogICAgICAgICAgICB9IGVsc2UgaWYgKG1hdGNoRW50cnlDb21wbGV0ZVtzaWkgKyAxXS5pbmNsdWRlcyh0aGlzLmV4dHJhRGF0YXMuTWF0Y2hEYXRhKSAmJiB0aGlzLmV4dHJhRGF0YXMuTWF0Y2hEYXRhLmxlbmd0aCA+IDEpIHsKICAgICAgICAgICAgICB0aGlzLm1hdGNoRW50cnkucHVzaChwKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQoKICAgICAgICAgIGlmICh0aGlzLmV4dHJhRGF0YXMuTWF0Y2hEYXRhLmxlbmd0aCA8PSAxKSB7CiAgICAgICAgICAgIGxldCBzaW5nbGVNYXRjaCA9IHRib2R5LmNoaWxkTm9kZXNbdGhpcy5tYXRjaEVudHJ5WzBdXTsKICAgICAgICAgICAgdGhpcy5jbGVhck9wdGlvbkJHQ29sb3JBbmRDaGVja2VkKGUpOwogICAgICAgICAgICB0aGlzLnNldEJHYW5kQ2hlY2tlZEZvck1hdGNoKHNpbmdsZU1hdGNoKTsKICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICB9IGVsc2UgaWYgKHRoaXMuZXh0cmFEYXRhcy5NYXRjaERhdGEubGVuZ3RoID4gMSAmJiB0aGlzLm1hdGNoRW50cnkubGVuZ3RoICE9PSAwKSB7CiAgICAgICAgICAgIGxldCBjb21wbGV0ZUF1dG9NYXRjaCA9IHRib2R5LmNoaWxkTm9kZXNbdGhpcy5tYXRjaEVudHJ5WzBdXTsKICAgICAgICAgICAgdGhpcy5jbGVhck9wdGlvbkJHQ29sb3JBbmRDaGVja2VkKGUpOwogICAgICAgICAgICB0aGlzLnNldEJHYW5kQ2hlY2tlZEZvck1hdGNoKGNvbXBsZXRlQXV0b01hdGNoKTsKICAgICAgICAgIH0KCiAgICAgICAgICBicmVhazsKICAgICAgICB9CiAgICAgIH0KICAgIH0KCiAgICBpZiAoZS5rZXkgPT09ICdBcnJvd0Rvd24nICYmIGUuc2hpZnRLZXkgPT09IHRydWUgJiYgKG5leHRTaWJsaW5nRXZlbnQgIT09IG51bGwgfHwgcHJldlNpYmxpbmdFdmVudC5uZXh0U2libGluZyAhPT0gbnVsbCkpIHsKICAgICAgbGV0IGN1cnJlbnRFbGVtZW50OwoKICAgICAgaWYgKG5leHRTaWJsaW5nRXZlbnQgPT09IG51bGwpIHsKICAgICAgICBjdXJyZW50RWxlbWVudCA9IHByZXZTaWJsaW5nRXZlbnQubmV4dFNpYmxpbmc7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgY3VycmVudEVsZW1lbnQgPSBuZXh0U2libGluZ0V2ZW50OwogICAgICB9CgogICAgICBpZiAodGhpcy5wcm9wZXJ0aWVzLk11bHRpU2VsZWN0ID09PSAyKSB7CiAgICAgICAgaWYgKGV2ZW50VGFyZ2V0LnN0eWxlLmJhY2tncm91bmRDb2xvciAhPT0gJ3JnYig1OSwgMTIyLCAyMzEpJykgewogICAgICAgICAgdGhpcy5zZXRPcHRpb25CR0NvbG9yQW5kQ2hlY2tlZChlKTsKICAgICAgICB9IGVsc2UgaWYgKGV2ZW50VGFyZ2V0LnN0eWxlLmJhY2tncm91bmRDb2xvciA9PT0gJ3JnYig1OSwgMTIyLCAyMzEpJyAmJiBjdXJyZW50RWxlbWVudC5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgIT09ICcnKSB7CiAgICAgICAgICB0aGlzLnNldE9wdGlvbkJHQ29sb3JBbmRDaGVja2VkKGUpOwogICAgICAgIH0gZWxzZSBpZiAoZXZlbnRUYXJnZXQubmV4dFNpYmxpbmcubmV4dFNpYmxpbmcgIT09IG51bGwpIHsKICAgICAgICAgIHRoaXMuc2V0QkdDb2xvckZvck5leHRTaWJsaW5nKGUpOwogICAgICAgIH0gZWxzZSBpZiAoZXZlbnRUYXJnZXQubmV4dFNpYmxpbmcubmV4dFNpYmxpbmcgPT09IG51bGwgJiYgY3VycmVudEVsZW1lbnQuc3R5bGUuYmFja2dyb3VuZENvbG9yICE9PSAncmdiKDU5LCAxMjIsIDIzMSknKSB7CiAgICAgICAgICB0aGlzLnNldEJHQ29sb3JGb3JOZXh0U2libGluZyhlKTsKICAgICAgICB9CgogICAgICAgIGN1cnJlbnRFbGVtZW50LmZvY3VzKCk7CiAgICAgIH0KICAgIH0gZWxzZSBpZiAoZS5rZXkgPT09ICdBcnJvd1VwJyAmJiBlLnNoaWZ0S2V5ID09PSB0cnVlICYmIChwcmV2U2libGluZ0V2ZW50ICE9PSBudWxsIHx8IG5leHRTaWJsaW5nRXZlbnQucHJldmlvdXNTaWJsaW5nICE9PSBudWxsKSkgewogICAgICBsZXQgY3VycmVudEVsZW1lbnQ7CgogICAgICBpZiAocHJldlNpYmxpbmdFdmVudCA9PT0gbnVsbCkgewogICAgICAgIGN1cnJlbnRFbGVtZW50ID0gbmV4dFNpYmxpbmdFdmVudC5wcmV2aW91c1NpYmxpbmc7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgY3VycmVudEVsZW1lbnQgPSBwcmV2U2libGluZ0V2ZW50OwogICAgICB9CgogICAgICBpZiAodGhpcy5wcm9wZXJ0aWVzLk11bHRpU2VsZWN0ID09PSAyKSB7CiAgICAgICAgaWYgKGV2ZW50VGFyZ2V0LnN0eWxlLmJhY2tncm91bmRDb2xvciA9PT0gJ3JnYig1OSwgMTIyLCAyMzEpJyAmJiBjdXJyZW50RWxlbWVudC5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgIT09ICcnKSB7CiAgICAgICAgICB0aGlzLnNldE9wdGlvbkJHQ29sb3JBbmRDaGVja2VkKGUpOwogICAgICAgIH0gZWxzZSBpZiAoZXZlbnRUYXJnZXQucHJldmlvdXNTaWJsaW5nLnByZXZpb3VzU2libGluZyAhPT0gbnVsbCkgewogICAgICAgICAgdGhpcy5zZXRCR0NvbG9yRm9yUHJldmlvdXNTaWJsaW5nKGUpOwogICAgICAgIH0gZWxzZSBpZiAoZXZlbnRUYXJnZXQucHJldmlvdXNTaWJsaW5nLnByZXZpb3VzU2libGluZyA9PT0gbnVsbCAmJiBjdXJyZW50RWxlbWVudC5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgIT09ICdyZ2IoNTksIDEyMiwgMjMxKScpIHsKICAgICAgICAgIHRoaXMuc2V0QkdDb2xvckZvclByZXZpb3VzU2libGluZyhlKTsKICAgICAgICB9CgogICAgICAgIGN1cnJlbnRFbGVtZW50LmZvY3VzKCk7CiAgICAgIH0KICAgIH0gLy8gfQoKICB9CiAgLyoqCiAgKiBAZGVzY3JpcHRpb24gdXBkYXRlcyB0aGUgZGF0YU1vZGVsIGxpc3RCb3ggb2JqZWN0IHByb3BlcnRpZXMgd2hlbiBtb3VzZWVudGVyCiAgKiBAZnVuY3Rpb24gaGFuZGxlRHJhZwogICogQHBhcmFtIGV2ZW50IGl0cyBvZiB0eXBlIE1vdXNlRXZlbnQKICAqIEBldmVudCBtb3VzZWVudGVyCiAgKgogICovCgoKICBoYW5kbGVEcmFnKGUpIHsKICAgIGNvbnN0IGV0YXJnZXQgPSBlLnRhcmdldDsKCiAgICBpZiAodGhpcy5wcm9wZXJ0aWVzLk11bHRpU2VsZWN0ID09PSAyKSB7CiAgICAgIGlmIChlLndoaWNoID09PSAxKSB7CiAgICAgICAgaWYgKGV0YXJnZXQuc3R5bGUuYmFja2dyb3VuZENvbG9yID09PSAncmdiKDU5LCAxMjIsIDIzMSknKSB7CiAgICAgICAgICB0aGlzLnVuc2VsZWN0QkdDb2xvckFuZGNoZWNrZWQoZSk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHRoaXMuc2V0T3B0aW9uQkdDb2xvckFuZENoZWNrZWQoZSk7CiAgICAgICAgfQogICAgICB9CgogICAgICB3aW5kb3cuZ2V0U2VsZWN0aW9uKCkucmVtb3ZlQWxsUmFuZ2VzKCk7CiAgICB9CiAgfQogIC8qKgogICogQGRlc2NyaXB0aW9uIHNldCBCYWNrZ3JvdW5kIENvbG9yIGZvciBuZXh0IHNpYmxpbmdzCiAgKiBAZnVuY3Rpb24gc2V0QkdDb2xvckZvck5leHRTaWJsaW5nCiAgKiBAcGFyYW0gZXZlbnQgaXRzIG9mIHR5cGUgTW91c2VFdmVudCBvciBLZXlib2FyZEV2ZW50CiAgKi8KCgogIHNldEJHQ29sb3JGb3JOZXh0U2libGluZyhlKSB7CiAgICBpZiAoZS50YXJnZXQgaW5zdGFuY2VvZiBIVE1MVGFibGVDZWxsRWxlbWVudCB8fCBlLnRhcmdldCBpbnN0YW5jZW9mIEhUTUxEaXZFbGVtZW50KSB7CiAgICAgIGNvbnN0IHRhcmdldEV2ZW50ID0gZS50YXJnZXQ7CiAgICAgIGNvbnN0IG5leHRTaWJsaW5nRXZlbnQgPSB0YXJnZXRFdmVudC5uZXh0U2libGluZzsKICAgICAgY29uc3QgbmV4dFNpYmxpbmdDaGVja2VkRXZlbnQgPSBuZXh0U2libGluZ0V2ZW50LmNoaWxkcmVuWzBdLmNoaWxkTm9kZXNbMF07CiAgICAgIG5leHRTaWJsaW5nRXZlbnQuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gbmV4dFNpYmxpbmdFdmVudC5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPT09ICdyZ2IoNTksIDEyMiwgMjMxKScgPyAnJyA6ICdyZ2IoNTksIDEyMiwgMjMxKSc7CgogICAgICBpZiAodGhpcy5wcm9wZXJ0aWVzLkxpc3RTdHlsZSA9PT0gMSAmJiB0aGlzLnByb3BlcnRpZXMuTXVsdGlTZWxlY3QgPT09IDIpIHsKICAgICAgICBuZXh0U2libGluZ0NoZWNrZWRFdmVudC5jaGVja2VkID0gIW5leHRTaWJsaW5nQ2hlY2tlZEV2ZW50LmNoZWNrZWQ7CiAgICAgIH0KICAgIH0KICB9CiAgLyoqCiAgKiBAZGVzY3JpcHRpb24gc2V0IEJhY2tncm91bmQgQ29sb3IgZm9lIHByZXZpb3VzIHNpYmxpbmdzCiAgKiBAZnVuY3Rpb24gc2V0QkdDb2xvckZvclByZXZpb3VzU2libGluZwogICogQHBhcmFtIGV2ZW50IGl0cyBvZiB0eXBlIE1vdXNlRXZlbnQgb3IgS2V5Ym9hcmRFdmVudAogICovCgoKICBzZXRCR0NvbG9yRm9yUHJldmlvdXNTaWJsaW5nKGUpIHsKICAgIGlmIChlLnRhcmdldCBpbnN0YW5jZW9mIEhUTUxUYWJsZUNlbGxFbGVtZW50IHx8IGUudGFyZ2V0IGluc3RhbmNlb2YgSFRNTFRhYmxlUm93RWxlbWVudCB8fCBlLnRhcmdldCBpbnN0YW5jZW9mIEhUTUxEaXZFbGVtZW50KSB7CiAgICAgIGNvbnN0IHRhcmdldEV2ZW50ID0gZS50YXJnZXQ7CiAgICAgIGNvbnN0IHByZXZTaWJsaW5nRXZlbnQgPSB0YXJnZXRFdmVudC5wcmV2aW91c1NpYmxpbmc7CiAgICAgIGNvbnN0IHByZXZTaWJsaW5nQ2hlY2tlZEV2ZW50ID0gcHJldlNpYmxpbmdFdmVudC5jaGlsZHJlblswXS5jaGlsZE5vZGVzWzBdOwogICAgICBwcmV2U2libGluZ0V2ZW50LnN0eWxlLmJhY2tncm91bmRDb2xvciA9IHByZXZTaWJsaW5nRXZlbnQuc3R5bGUuYmFja2dyb3VuZENvbG9yID09PSAncmdiKDU5LCAxMjIsIDIzMSknID8gJycgOiAncmdiKDU5LCAxMjIsIDIzMSknOwoKICAgICAgaWYgKHRoaXMucHJvcGVydGllcy5MaXN0U3R5bGUgPT09IDEgJiYgdGhpcy5wcm9wZXJ0aWVzLk11bHRpU2VsZWN0ID09PSAyKSB7CiAgICAgICAgcHJldlNpYmxpbmdDaGVja2VkRXZlbnQuY2hlY2tlZCA9ICFwcmV2U2libGluZ0NoZWNrZWRFdmVudC5jaGVja2VkOwogICAgICB9CiAgICB9CiAgfQogIC8qKgogICogQGRlc2NyaXB0aW9uIGNsZWFyIHNlbGVjdGVkIG9wdGlvbiBmb3IgU2luZ2xlU2VsZWN0aW9uCiAgKiBAZnVuY3Rpb24gY2xlYXJPcHRpb25CR0NvbG9yQW5kQ2hlY2tlZAogICogQHBhcmFtIGV2ZW50CiAgKi8KCgogIGNsZWFyT3B0aW9uQkdDb2xvckFuZENoZWNrZWQoZSkgewogICAgaWYgKHRoaXMuZGF0YS50eXBlID09PSAnQ29tYm9Cb3gnKSB7CiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZS5wYXRoLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgaWYgKGUucGF0aFtpXS5jbGFzc05hbWUgPT09ICd0Qm9keVN0eWxlJykgewogICAgICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCBlLnBhdGhbaV0uY2hpbGRyZW4ubGVuZ3RoOyBqKyspIHsKICAgICAgICAgICAgZS5wYXRoW2ldLmNoaWxkcmVuW2pdLnN0eWxlLmJhY2tncm91bmRDb2xvciA9ICcnOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfQogICAgfQoKICAgIGNvbnN0IHRlbXBQYXRoID0gZS5wYXRoOwoKICAgIGlmICh0ZW1wUGF0aCAmJiB0ZW1wUGF0aC5sZW5ndGggPiAwKSB7CiAgICAgIGZvciAobGV0IGluZGV4ID0gMDsgaW5kZXggPCB0ZW1wUGF0aC5sZW5ndGg7IGluZGV4KyspIHsKICAgICAgICBjb25zdCBlbGVtZW50ID0gdGVtcFBhdGhbaW5kZXhdOwoKICAgICAgICBpZiAoZWxlbWVudC5jbGFzc05hbWUgPT09ICd0YWJsZS1ib2R5JykgewogICAgICAgICAgZm9yIChsZXQgY2hpbGRJbmRleCA9IDA7IGNoaWxkSW5kZXggPCBlbGVtZW50LmNoaWxkTm9kZXMubGVuZ3RoOyBjaGlsZEluZGV4KyspIHsKICAgICAgICAgICAgY29uc3QgY2hpbGROb2RlID0gZWxlbWVudC5jaGlsZE5vZGVzW2NoaWxkSW5kZXhdOwogICAgICAgICAgICBjaGlsZE5vZGUuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gJyc7CiAgICAgICAgICAgIGNvbnN0IENoaWxkQ2hlY2tlZCA9IGNoaWxkTm9kZS5jaGlsZE5vZGVzWzBdLmNoaWxkTm9kZXNbMF07CgogICAgICAgICAgICBpZiAoQ2hpbGRDaGVja2VkICYmIHRoaXMucHJvcGVydGllcy5MaXN0U3R5bGUgPT09IDEpIHsKICAgICAgICAgICAgICBDaGlsZENoZWNrZWQuY2hlY2tlZCA9IGZhbHNlOwogICAgICAgICAgICB9CiAgICAgICAgICB9CgogICAgICAgICAgYnJlYWs7CiAgICAgICAgfQogICAgICB9CiAgICB9CiAgfQogIC8qKgogICogQGRlc2NyaXB0aW9uIGhhbmRsZSBzZXR0aW5nIGJhY2tncm91bmRDb2xvciBhbmQgb3B0aW9uIGNoZWNrZWQvbm90CiAgKiBAZnVuY3Rpb24gc2V0T3B0aW9uQkdDb2xvckFuZENoZWNrZWQKICAqIEBwYXJhbSBldmVudCBLZXlib2FyZEV2ZW50IG9yIE1vdXNlRXZlbnQKICAqLwoKCiAgc2V0T3B0aW9uQkdDb2xvckFuZENoZWNrZWQoZSkgewogICAgY29uc3QgY3VycmVudFRhcmdldEVsZW1lbnQgPSBlLmN1cnJlbnRUYXJnZXQ7CiAgICBjb25zdCBjaGlsZE5vZGVDaGVja2VkID0gY3VycmVudFRhcmdldEVsZW1lbnQuY2hpbGRyZW5bMF0uY2hpbGROb2Rlc1swXTsKCiAgICBpZiAodGhpcy5kYXRhLnR5cGUgPT09ICdDb21ib0JveCcpIHsKICAgICAgY3VycmVudFRhcmdldEVsZW1lbnQuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gY3VycmVudFRhcmdldEVsZW1lbnQuc3R5bGUuYmFja2dyb3VuZENvbG9yID09PSAncmdiKDU5LCAxMjIsIDIzMSknID8gJycgOiAncmdiKDU5LCAxMjIsIDIzMSknOwogICAgfQoKICAgIGlmICh0aGlzLmRhdGEudHlwZSA9PT0gJ0NvbWJvQm94JykgewogICAgICBjaGlsZE5vZGVDaGVja2VkLmNoZWNrZWQgPSAhY2hpbGROb2RlQ2hlY2tlZC5jaGVja2VkOwogICAgfQoKICAgIGlmIChlLnRhcmdldCBpbnN0YW5jZW9mIEhUTUxEaXZFbGVtZW50IHx8IGUudGFyZ2V0IGluc3RhbmNlb2YgSFRNTFRhYmxlQ2VsbEVsZW1lbnQgfHwgZS50YXJnZXQgaW5zdGFuY2VvZiBIVE1MVGFibGVSb3dFbGVtZW50IHx8IGUudGFyZ2V0IGluc3RhbmNlb2YgSFRNTElucHV0RWxlbWVudCkgewogICAgICBjb25zdCB0YXJnZXRFdmVudCA9IGUudGFyZ2V0OwoKICAgICAgaWYgKHRoaXMuZGF0YS50eXBlID09PSAnQ29tYm9Cb3gnKSB7CiAgICAgICAgY3VycmVudFRhcmdldEVsZW1lbnQuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gJyc7CiAgICAgIH0KCiAgICAgIGlmICh0aGlzLnByb3BlcnRpZXMuTGlzdFN0eWxlID09PSAxICYmIHRoaXMucHJvcGVydGllcy5NdWx0aVNlbGVjdCA9PT0gMCkgewogICAgICAgIGNoaWxkTm9kZUNoZWNrZWQuY2hlY2tlZCA9ICFjaGlsZE5vZGVDaGVja2VkLmNoZWNrZWQ7CgogICAgICAgIGlmIChjaGlsZE5vZGVDaGVja2VkLmNoZWNrZWQgPT09IHRydWUpIHsKICAgICAgICAgIGN1cnJlbnRUYXJnZXRFbGVtZW50LnN0eWxlLmJhY2tncm91bmRDb2xvciA9ICdyZ2IoNTksIDEyMiwgMjMxKSc7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIGN1cnJlbnRUYXJnZXRFbGVtZW50LnN0eWxlLmJhY2tncm91bmRDb2xvciA9ICcnOwogICAgICAgIH0KICAgICAgfSBlbHNlIHsKICAgICAgICBjaGlsZE5vZGVDaGVja2VkLmNoZWNrZWQgPSAhY2hpbGROb2RlQ2hlY2tlZC5jaGVja2VkOwoKICAgICAgICBpZiAodGhpcy5wcm9wZXJ0aWVzLk11bHRpU2VsZWN0ID09PSAwKSB7CiAgICAgICAgICBjdXJyZW50VGFyZ2V0RWxlbWVudC5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSAncmdiKDU5LCAxMjIsIDIzMSknOwoKICAgICAgICAgIGlmICh0aGlzLnByb3BlcnRpZXMuTGlzdFN0eWxlID09PSAxKSB7CiAgICAgICAgICAgIGlmIChjaGlsZE5vZGVDaGVja2VkLmNoZWNrZWQpIHsKICAgICAgICAgICAgICBjdXJyZW50VGFyZ2V0RWxlbWVudC5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSAncmdiKDU5LCAxMjIsIDIzMSknOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSBlbHNlIGlmICh0aGlzLnByb3BlcnRpZXMuTXVsdGlTZWxlY3QgPT09IDEpIHsKICAgICAgICAgIGlmIChjdXJyZW50VGFyZ2V0RWxlbWVudC5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPT09ICdyZ2IoNTksIDEyMiwgMjMxKScpIHsKICAgICAgICAgICAgY3VycmVudFRhcmdldEVsZW1lbnQuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gJyc7CgogICAgICAgICAgICBpZiAodGhpcy5wcm9wZXJ0aWVzLkxpc3RTdHlsZSA9PT0gMSkgewogICAgICAgICAgICAgIGlmIChjaGlsZE5vZGVDaGVja2VkLmNoZWNrZWQpIHsKICAgICAgICAgICAgICAgIGN1cnJlbnRUYXJnZXRFbGVtZW50LnN0eWxlLmJhY2tncm91bmRDb2xvciA9ICdyZ2IoNTksIDEyMiwgMjMxKSc7CiAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIGN1cnJlbnRUYXJnZXRFbGVtZW50LnN0eWxlLmJhY2tncm91bmRDb2xvciA9ICcnOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgY3VycmVudFRhcmdldEVsZW1lbnQuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gJ3JnYig1OSwgMTIyLCAyMzEpJzsKCiAgICAgICAgICAgIGlmICh0aGlzLnByb3BlcnRpZXMuTGlzdFN0eWxlID09PSAxKSB7CiAgICAgICAgICAgICAgaWYgKGNoaWxkTm9kZUNoZWNrZWQuY2hlY2tlZCkgewogICAgICAgICAgICAgICAgY3VycmVudFRhcmdldEVsZW1lbnQuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gJ3JnYig1OSwgMTIyLCAyMzEpJzsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9IGVsc2UgaWYgKHRoaXMucHJvcGVydGllcy5NdWx0aVNlbGVjdCA9PT0gMikgewogICAgICAgICAgY2hpbGROb2RlQ2hlY2tlZC5jaGVja2VkID0gdHJ1ZTsKICAgICAgICAgIGN1cnJlbnRUYXJnZXRFbGVtZW50LnN0eWxlLmJhY2tncm91bmRDb2xvciA9ICdyZ2IoNTksIDEyMiwgMjMxKSc7CiAgICAgICAgfQogICAgICB9CiAgICB9CiAgfQoKICB1bnNlbGVjdEJHQ29sb3JBbmRjaGVja2VkKGUpIHsKICAgIGNvbnN0IGN1cnJlbnRUYXJnZXRFbGVtZW50ID0gZS5jdXJyZW50VGFyZ2V0OwogICAgY29uc3QgY2hpbGROb2RlQ2hlY2tlZCA9IGN1cnJlbnRUYXJnZXRFbGVtZW50LmNoaWxkcmVuWzBdLmNoaWxkTm9kZXNbMF07CgogICAgaWYgKHRoaXMucHJvcGVydGllcy5NdWx0aVNlbGVjdCA9PT0gMikgewogICAgICBjaGlsZE5vZGVDaGVja2VkLmNoZWNrZWQgPSBmYWxzZTsKICAgICAgY3VycmVudFRhcmdldEVsZW1lbnQuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gJyc7CiAgICB9CiAgfQogIC8qKgogICogQGRlc2NyaXB0aW9uIHNldCBCR0NvbG9yIGFuZCBDaGVja2VkIG1hdGNoRW50cnkKICAqIEBmdW5jdGlvbiBzZXRCR2FuZENoZWNrZWRGb3JNYXRjaAogICogQHBhcmFtIHNpbmdsZU1hdGNoIHdoaWNoIGlzIGFuIEhUTUxEaXZFbGVtZW50CiAgKi8KCgogIHNldEJHYW5kQ2hlY2tlZEZvck1hdGNoKHNpbmdsZU1hdGNoKSB7CiAgICBpZiAoc2luZ2xlTWF0Y2ggIT09IHVuZGVmaW5lZCkgewogICAgICBzaW5nbGVNYXRjaC5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSAncmdiKDU5LCAxMjIsIDIzMSknOwoKICAgICAgaWYgKHRoaXMucHJvcGVydGllcy5MaXN0U3R5bGUgPT09IDEpIHsKICAgICAgICBjb25zdCB0ZW1wTm9kZSA9IHNpbmdsZU1hdGNoLmNoaWxkTm9kZXNbMF0uY2hpbGROb2Rlc1swXTsKICAgICAgICB0ZW1wTm9kZS5jaGVja2VkID0gIXRlbXBOb2RlLmNoZWNrZWQ7CiAgICAgIH0KICAgIH0KICB9CgogIGdldCBzZXRGb250U3R5bGUoKSB7CiAgICBjb25zdCB0ZW1wRm9udFN0eWxlID0gdGhpcy5wcm9wZXJ0aWVzLkZvbnQuRm9udFN0eWxlLnRvTG93ZXJDYXNlKCk7CgogICAgaWYgKHRlbXBGb250U3R5bGUuaW5jbHVkZXModGhpcy5wcm9wZXJ0aWVzLkZvbnQuRm9udE5hbWUudG9Mb3dlckNhc2UoKSkpIHsKICAgICAgaWYgKHRlbXBGb250U3R5bGUuaW5jbHVkZXMoJ2l0YWxpYycpKSB7CiAgICAgICAgdGhpcy5pc0l0YWxpYyA9IHRydWU7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy5pc0l0YWxpYyA9IGZhbHNlOwogICAgICB9CgogICAgICBpZiAodGVtcEZvbnRTdHlsZS5zcGxpdCgnICcpLmluZGV4T2YoJ2JvbGQnKSA+IC0xKSB7CiAgICAgICAgdGhpcy50ZW1wV2VpZ2h0ID0gJ2JvbGQnOwogICAgICB9IGVsc2UgaWYgKHRlbXBGb250U3R5bGUuaW5jbHVkZXMoJ2JsYWNrJykpIHsKICAgICAgICB0aGlzLnRlbXBXZWlnaHQgPSAnOTAwJzsKICAgICAgfSBlbHNlIGlmICh0ZW1wRm9udFN0eWxlLnNwbGl0KCcgJykuaW5kZXhPZignbGlnaHQnKSA+IC0xKSB7CiAgICAgICAgdGhpcy50ZW1wV2VpZ2h0ID0gJ2xpZ2h0ZXInOwogICAgICB9IGVsc2UgaWYgKHRlbXBGb250U3R5bGUuaW5jbHVkZXMoJ3NlbWlib2xkJykpIHsKICAgICAgICB0aGlzLnRlbXBXZWlnaHQgPSAnNTQwJzsKICAgICAgfSBlbHNlIGlmICh0ZW1wRm9udFN0eWxlLmluY2x1ZGVzKCdzZW1pbGlnaHQnKSkgewogICAgICAgIHRoaXMudGVtcFdlaWdodCA9ICczMDAnOwogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMudGVtcFdlaWdodCA9ICc0MDAnOwogICAgICB9CgogICAgICBpZiAodGVtcEZvbnRTdHlsZS5zcGxpdCgnICcpLmluZGV4T2YoJ2NvbmRlbnNlZCcpID4gLTEpIHsKICAgICAgICB0aGlzLnRlbXBTdHJldGNoID0gJ2NvbmRlbnNlZCc7CiAgICAgIH0gZWxzZSBpZiAodGVtcEZvbnRTdHlsZS5pbmNsdWRlcygnc2VtaWNvbmRlbnNlZCcpKSB7CiAgICAgICAgdGhpcy50ZW1wU3RyZXRjaCA9ICdzZW1pLWNvbmRlbnNlZCc7CiAgICAgIH0gZWxzZSBpZiAodGVtcEZvbnRTdHlsZS5pbmNsdWRlcygnbmFycm93JykpIHsKICAgICAgICB0aGlzLnRlbXBTdHJldGNoID0gJ3VsdHJhLWNvbmRlbnNlZCc7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy50ZW1wU3RyZXRjaCA9ICdub3JtYWwnOwogICAgICB9CgogICAgICByZXR1cm4gdGhpcy5wcm9wZXJ0aWVzLkZvbnQuRm9udE5hbWU7CiAgICB9IGVsc2UgewogICAgICB0aGlzLmlzSXRhbGljID0gZmFsc2U7CiAgICAgIHRoaXMudGVtcFdlaWdodCA9ICc0MDAnOwogICAgICB0aGlzLnRlbXBTdHJldGNoID0gJ25vcm1hbCc7CiAgICAgIHJldHVybiB0aGlzLnByb3BlcnRpZXMuRm9udC5Gb250TmFtZTsKICAgIH0KICB9CgogIHBhcmVudENvbmV4dE1lbnUoZXZlbnQpIHsKICAgIHJldHVybiBldmVudDsKICB9CgogIG9wZW5UZXh0Q29udGV4dE1lbnUoZXZlbnQpIHsKICAgIEV2ZW50QnVzLiRlbWl0KCdvcGVuVGV4dENvbnRleHRNZW51JywgZXZlbnQsIHRoaXMuY29udHJvbElkKTsKICB9CgogIGdldCBzcGFuU3R5bGVPYmooKSB7CiAgICBjb25zdCBjb250cm9sUHJvcCA9IHRoaXMucHJvcGVydGllczsKICAgIGNvbnN0IGZvbnQgPSBjb250cm9sUHJvcC5Gb250ID8gY29udHJvbFByb3AuRm9udCA6IHsKICAgICAgRm9udE5hbWU6ICdBcmlhbCcsCiAgICAgIEZvbnRTaXplOiAyMCwKICAgICAgRm9udEl0YWxpYzogdHJ1ZSwKICAgICAgRm9udEJvbGQ6IHRydWUsCiAgICAgIEZvbnRVbmRlcmxpbmU6IHRydWUsCiAgICAgIEZvbnRTdHJpa2V0aHJvdWdoOiB0cnVlCiAgICB9OwogICAgcmV0dXJuIHsKICAgICAgdGV4dERlY29yYXRpb246IGZvbnQuRm9udFN0cmlrZXRocm91Z2ggPT09IHRydWUgJiYgZm9udC5Gb250VW5kZXJsaW5lID09PSB0cnVlID8gJ3VuZGVybGluZSBsaW5lLXRocm91Z2gnIDogZm9udC5Gb250VW5kZXJsaW5lID8gJ3VuZGVybGluZScgOiBmb250LkZvbnRTdHJpa2V0aHJvdWdoID8gJ2xpbmUtdGhyb3VnaCcgOiAnJywKICAgICAgY29sb3I6ICF0aGlzLnByb3BlcnRpZXMuRW5hYmxlZCA/ICdncmF5JyA6ICcnCiAgICB9OwogIH0KCiAgcG9zaXRpb25Mb2dvKHZhbHVlKSB7CiAgICBsZXQgc3R5bGUgPSB7CiAgICAgIG9yZGVyOiBOdW1iZXIoKSwKICAgICAgYWxpZ25JdGVtczogJycsCiAgICAgIHRyYW5zZm9ybTogJycsCiAgICAgIHRvcDogJycsCiAgICAgIGxlZnQ6ICcnLAogICAgICBwb3NpdGlvbjogJycsCiAgICAgIGRpc3BsYXk6ICdpbmxpbmUtZmxleCcsCiAgICAgIHdpZHRoOiAnJywKICAgICAganVzdGlmeUNvbnRlbnQ6ICcnCiAgICB9OwogICAgdGhpcy5yZXZlcnNlU3R5bGUgPSB7CiAgICAgIGRpc3BsYXk6ICcnLAogICAgICBmbGV4RGlyZWN0aW9uOiAnJywKICAgICAganVzdGlmeUl0ZW1zOiAnJywKICAgICAgcG9zaXRpb246ICcnLAogICAgICBqdXN0aWZ5Q29udGVudDogJ2NlbnRlcicsCiAgICAgIGFsaWduSXRlbXM6ICcnLAogICAgICB3aWR0aDogJycsCiAgICAgIGFsaWduU2VsZjogJ2NlbnRlcicKICAgIH07CiAgICB0aGlzLmltYWdlUG9zLmFsaWduU2VsZiA9ICcnOwogICAgdGhpcy5yZXZlcnNlU3R5bGUuZGlzcGxheSA9ICdmbGV4JzsKCiAgICBzd2l0Y2ggKHZhbHVlKSB7CiAgICAgIGNhc2UgMDoKICAgICAgICBicmVhazsKCiAgICAgIGNhc2UgMToKICAgICAgICBzdHlsZS5hbGlnbkl0ZW1zID0gJ2NlbnRlcic7CiAgICAgICAgdGhpcy5pbWFnZVBvcy5hbGlnblNlbGYgPSAnY2VudGVyJzsKICAgICAgICBicmVhazsKCiAgICAgIGNhc2UgMjoKICAgICAgICBzdHlsZS5hbGlnbkl0ZW1zID0gJ2ZsZXgtZW5kJzsKICAgICAgICB0aGlzLnJldmVyc2VTdHlsZS5hbGlnbkl0ZW1zID0gJ2ZsZXgtZW5kJzsKICAgICAgICBicmVhazsKCiAgICAgIGNhc2UgMzoKICAgICAgICB0aGlzLnJldmVyc2VTdHlsZS5mbGV4RGlyZWN0aW9uID0gJ3Jvdy1yZXZlcnNlJzsKICAgICAgICBicmVhazsKCiAgICAgIGNhc2UgNDoKICAgICAgICB0aGlzLnJldmVyc2VTdHlsZS5mbGV4RGlyZWN0aW9uID0gJ3Jvdy1yZXZlcnNlJzsKICAgICAgICBzdHlsZS5hbGlnbkl0ZW1zID0gJ2NlbnRlcic7CiAgICAgICAgdGhpcy5pbWFnZVBvcy5hbGlnblNlbGYgPSAnY2VudGVyJzsKICAgICAgICBicmVhazsKCiAgICAgIGNhc2UgNToKICAgICAgICB0aGlzLnJldmVyc2VTdHlsZS5mbGV4RGlyZWN0aW9uID0gJ3Jvdy1yZXZlcnNlJzsKICAgICAgICBzdHlsZS5hbGlnbkl0ZW1zID0gJ2ZsZXgtZW5kJzsKICAgICAgICB0aGlzLnJldmVyc2VTdHlsZS5hbGlnbkl0ZW1zID0gJ2ZsZXgtZW5kJzsKICAgICAgICBicmVhazsKCiAgICAgIGNhc2UgNjoKICAgICAgICB0aGlzLnJldmVyc2VTdHlsZS5kaXNwbGF5ID0gJ2dyaWQnOwogICAgICAgIGJyZWFrOwoKICAgICAgY2FzZSA3OgogICAgICAgIHRoaXMucmV2ZXJzZVN0eWxlLmRpc3BsYXkgPSAnZ3JpZCc7CiAgICAgICAgdGhpcy5yZXZlcnNlU3R5bGUuanVzdGlmeUl0ZW1zID0gJ2NlbnRlcic7CiAgICAgICAgYnJlYWs7CgogICAgICBjYXNlIDg6CiAgICAgICAgdGhpcy5yZXZlcnNlU3R5bGUuZGlzcGxheSA9ICdncmlkJzsKICAgICAgICB0aGlzLnJldmVyc2VTdHlsZS5qdXN0aWZ5SXRlbXMgPSAnZW5kJzsKICAgICAgICBicmVhazsKCiAgICAgIGNhc2UgOToKICAgICAgICB0aGlzLnJldmVyc2VTdHlsZS5kaXNwbGF5ID0gJ2dyaWQnOwogICAgICAgIHN0eWxlLm9yZGVyID0gLTE7CiAgICAgICAgYnJlYWs7CgogICAgICBjYXNlIDEwOgogICAgICAgIHRoaXMucmV2ZXJzZVN0eWxlLmRpc3BsYXkgPSAnZ3JpZCc7CiAgICAgICAgdGhpcy5yZXZlcnNlU3R5bGUuanVzdGlmeUl0ZW1zID0gJ2NlbnRlcic7CiAgICAgICAgc3R5bGUub3JkZXIgPSAtMTsKICAgICAgICBicmVhazsKCiAgICAgIGNhc2UgMTE6CiAgICAgICAgdGhpcy5yZXZlcnNlU3R5bGUuZGlzcGxheSA9ICdncmlkJzsKICAgICAgICB0aGlzLnJldmVyc2VTdHlsZS5qdXN0aWZ5SXRlbXMgPSAnZW5kJzsKICAgICAgICBzdHlsZS5vcmRlciA9IC0xOwogICAgICAgIGJyZWFrOwoKICAgICAgY2FzZSAxMjoKICAgICAgICB0aGlzLnJldmVyc2VTdHlsZS5wb3NpdGlvbiA9ICdyZWxhdGl2ZSc7CiAgICAgICAgdGhpcy5yZXZlcnNlU3R5bGUud2lkdGggPSAnMTAwJSc7CiAgICAgICAgc3R5bGUucG9zaXRpb24gPSAnYWJzb2x1dGUnOwogICAgICAgIHN0eWxlLnRvcCA9ICc1MCUnOwogICAgICAgIHN0eWxlLmxlZnQgPSAnNTAlJzsKICAgICAgICBzdHlsZS50cmFuc2Zvcm0gPSAndHJhbnNsYXRlKC01MCUsIC01MCUpJzsKICAgICAgICBzdHlsZS5qdXN0aWZ5Q29udGVudCA9ICdjZW50ZXInOwogICAgICAgIHN0eWxlLndpZHRoID0gJ2ZpdC1jb250ZW50JzsKICAgICAgICBicmVhazsKCiAgICAgIGRlZmF1bHQ6CiAgICB9CgogICAgdGhpcy5sYWJlbFN0eWxlID0gc3R5bGU7CiAgfQoKICBwaWN0dXJlU2l6ZSgpIHsKICAgIGNvbnN0IGltZ1N0eWxlID0gewogICAgICB3aWR0aDogJ2ZpdC1jb250ZW50JywKICAgICAgaGVpZ2h0OiAnZml0LWNvbnRlbnQnLAogICAgICBmaWx0ZXI6ICcnLAogICAgICBtYXhXaWR0aDogJzEwMCUnCiAgICB9OwoKICAgIGlmICh0aGlzLnByb3BlcnRpZXMuUGljdHVyZSkgewogICAgICBWdWUubmV4dFRpY2soKCkgPT4gewogICAgICAgIC8vIGNvbnN0IGltZ1Byb3AgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnaW1nJykKICAgICAgICBpbWdTdHlsZS53aWR0aCA9IHRoaXMucHJvcGVydGllcy5XaWR0aCA8PSB0aGlzLmltYWdlUmVmLm5hdHVyYWxXaWR0aCA/IGAke3RoaXMucHJvcGVydGllcy5XaWR0aH1weGAgOiAnZml0LWNvbnRlbnQnOwogICAgICAgIGltZ1N0eWxlLmhlaWdodCA9IHRoaXMucHJvcGVydGllcy5IZWlnaHQgPD0gdGhpcy5pbWFnZVJlZi5uYXR1cmFsSGVpZ2h0ID8gYCR7dGhpcy5wcm9wZXJ0aWVzLkhlaWdodH1weGAgOiAnZml0LWNvbnRlbnQnOwoKICAgICAgICBpZiAodGhpcy5wcm9wZXJ0aWVzLlBpY3R1cmVQb3NpdGlvbiA9PT0gOSB8fCB0aGlzLnByb3BlcnRpZXMuUGljdHVyZVBvc2l0aW9uID09PSAxMCB8fCB0aGlzLnByb3BlcnRpZXMuUGljdHVyZVBvc2l0aW9uID09PSAxMSkgewogICAgICAgICAgdGhpcy5pbWFnZVJlZi5zY3JvbGxJbnRvVmlldyh0cnVlKTsKICAgICAgICB9CgogICAgICAgIGltZ1N0eWxlLmZpbHRlciA9ICF0aGlzLnByb3BlcnRpZXMuRW5hYmxlZCA/ICdzZXBpYSgwKSBncmF5c2NhbGUoMSkgYmx1cigzcHgpIG9wYWNpdHkoMC4yKScgOiAnJzsKICAgICAgfSk7CiAgICB9CgogICAgdGhpcy5pbWFnZVByb3BlcnR5ID0gaW1nU3R5bGU7CiAgfQoKICBvblBpY3R1cmVMb2FkKCkgewogICAgY29uc3QgaW1nU3R5bGUgPSB7CiAgICAgIHdpZHRoOiAnYXV0bycsCiAgICAgIGhlaWdodDogJ2F1dG8nCiAgICB9OwogICAgdGhpcy5pbWFnZVByb3BlcnR5ID0gaW1nU3R5bGU7CiAgICB0aGlzLnBpY3R1cmVTaXplKCk7CiAgfQoKICBsYWJlbEFsaWdubWVudCgpIHsKICAgIGxldCB7CiAgICAgIHBpY1Bvc0xlZnRSaWdodCwKICAgICAgcGljUG9zVG9wQm90dG9tLAogICAgICBpbWdIZWlnaHQsCiAgICAgIGxhYmVsSGVpZ2h0CiAgICB9ID0gdGhpcy5zZXRIZWlnaHRXaWR0aFZhcmlhYmxlKCk7CiAgICBsZXQgdG90YWxIZWlnaHQgPSB7CiAgICAgIGhlaWdodDogMAogICAgfTsKCiAgICBpZiAocGljUG9zTGVmdFJpZ2h0LmluY2x1ZGVzKHRoaXMucHJvcGVydGllcy5QaWN0dXJlUG9zaXRpb24pKSB7CiAgICAgIHRvdGFsSGVpZ2h0LmhlaWdodCA9IGxhYmVsSGVpZ2h0OwogICAgfSBlbHNlIGlmIChwaWNQb3NUb3BCb3R0b20uaW5jbHVkZXModGhpcy5wcm9wZXJ0aWVzLlBpY3R1cmVQb3NpdGlvbikpIHsKICAgICAgdG90YWxIZWlnaHQuaGVpZ2h0ID0gaW1nSGVpZ2h0ICsgbGFiZWxIZWlnaHQ7CiAgICB9IGVsc2UgaWYgKHRoaXMucHJvcGVydGllcy5QaWN0dXJlUG9zaXRpb24gPT09IDEyKSB7CiAgICAgIHRvdGFsSGVpZ2h0LmhlaWdodCA9IGltZ0hlaWdodCA+PSBsYWJlbEhlaWdodCA/IGltZ0hlaWdodCA6IGxhYmVsSGVpZ2h0OwogICAgfQoKICAgIHRoaXMucmV2ZXJzZVN0eWxlLmFsaWduU2VsZiA9ICdpbmhlcml0JzsKCiAgICBpZiAodGhpcy5pbWFnZVJlZiAmJiB0aGlzLmltYWdlUmVmLm5hdHVyYWxIZWlnaHQgPiB0aGlzLnByb3BlcnRpZXMuSGVpZ2h0KSB7CiAgICAgIHRoaXMucmV2ZXJzZVN0eWxlLmFsaWduU2VsZiA9ICdpbmhlcml0JzsKICAgIH0gZWxzZSB7CiAgICAgIGxldCBsb2dvUHJvcCA9IHRoaXMubG9nb1JlZjsKCiAgICAgIGlmICh0aGlzLnByb3BlcnRpZXMuV2lkdGggPiBsb2dvUHJvcC5jbGllbnRXaWR0aCAmJiB0aGlzLnByb3BlcnRpZXMuSGVpZ2h0ID4gdG90YWxIZWlnaHQuaGVpZ2h0ICYmICgodGhpcy5pbWFnZVJlZiAmJiB0aGlzLmltYWdlUmVmLm5hdHVyYWxIZWlnaHQpIDwgdGhpcy5wcm9wZXJ0aWVzLkhlaWdodCB8fCAodGhpcy5pbWFnZVJlZiAmJiB0aGlzLmltYWdlUmVmLm5hdHVyYWxXaWR0aCkgPCB0aGlzLnByb3BlcnRpZXMuV2lkdGgpKSB7CiAgICAgICAgdGhpcy5yZXZlcnNlU3R5bGUuYWxpZ25TZWxmID0gJ2NlbnRlcic7CiAgICAgIH0KICAgIH0KICB9CgogIGdldFdpZHRoSGVpZ2h0KCkgewogICAgbGV0IHdpZHRoSGVpZ2h0RGF0YSA9IHsKICAgICAgd2lkdGg6IDAsCiAgICAgIGhlaWdodDogMAogICAgfTsKICAgIGxldCB7CiAgICAgIHBpY1Bvc0xlZnRSaWdodCwKICAgICAgcGljUG9zVG9wQm90dG9tLAogICAgICBjb250cm9sV2lkdGhJbmNyZWFzZSwKICAgICAgaW1nSGVpZ2h0LAogICAgICBpbWdXaWR0aCwKICAgICAgbGFiZWxIZWlnaHQsCiAgICAgIGxhYmVsV2lkdGgKICAgIH0gPSB0aGlzLnNldEhlaWdodFdpZHRoVmFyaWFibGUoKTsKICAgIGxldCBjb21wb25lbnRSZWYgPSB0aGlzLmNvbXBvbmVudFJlZjsKCiAgICBpZiAodGhpcy5wcm9wZXJ0aWVzLlBpY3R1cmUpIHsKICAgICAgaWYgKHBpY1Bvc0xlZnRSaWdodC5pbmNsdWRlcyh0aGlzLnByb3BlcnRpZXMuUGljdHVyZVBvc2l0aW9uKSkgewogICAgICAgIGlmIChpbWdIZWlnaHQgPj0gbGFiZWxIZWlnaHQpIHsKICAgICAgICAgIHdpZHRoSGVpZ2h0RGF0YS5oZWlnaHQgPSBpbWdIZWlnaHQ7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHdpZHRoSGVpZ2h0RGF0YS5oZWlnaHQgPSBsYWJlbEhlaWdodDsKICAgICAgICB9CgogICAgICAgIHdpZHRoSGVpZ2h0RGF0YS53aWR0aCA9IGltZ1dpZHRoICsgbGFiZWxXaWR0aDsKICAgICAgfSBlbHNlIGlmIChwaWNQb3NUb3BCb3R0b20uaW5jbHVkZXModGhpcy5wcm9wZXJ0aWVzLlBpY3R1cmVQb3NpdGlvbikpIHsKICAgICAgICBpZiAoaW1nV2lkdGggPj0gbGFiZWxXaWR0aCkgewogICAgICAgICAgd2lkdGhIZWlnaHREYXRhLndpZHRoID0gaW1nV2lkdGg7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHdpZHRoSGVpZ2h0RGF0YS53aWR0aCA9IGxhYmVsV2lkdGg7CiAgICAgICAgfQoKICAgICAgICB3aWR0aEhlaWdodERhdGEuaGVpZ2h0ID0gaW1nSGVpZ2h0ICsgbGFiZWxIZWlnaHQ7CiAgICAgIH0gZWxzZSBpZiAodGhpcy5wcm9wZXJ0aWVzLlBpY3R1cmVQb3NpdGlvbiA9PT0gMTIpIHsKICAgICAgICB3aWR0aEhlaWdodERhdGEud2lkdGggPSBpbWdXaWR0aCA+PSBsYWJlbFdpZHRoID8gaW1nV2lkdGggOiBsYWJlbFdpZHRoOwogICAgICAgIHdpZHRoSGVpZ2h0RGF0YS5oZWlnaHQgPSBpbWdIZWlnaHQgPj0gbGFiZWxIZWlnaHQgPyBpbWdIZWlnaHQgOiBsYWJlbEhlaWdodDsKICAgICAgfQogICAgfSBlbHNlIHsKICAgICAgd2lkdGhIZWlnaHREYXRhLndpZHRoID0gbGFiZWxXaWR0aCArIDU7CiAgICAgIHdpZHRoSGVpZ2h0RGF0YS5oZWlnaHQgPSBsYWJlbEhlaWdodDsKICAgIH0KCiAgICBpZiAodGhpcy5jaGVja0ZvcldpZHRoSW5jcmVhc2UoY29udHJvbFdpZHRoSW5jcmVhc2UpKSB7CiAgICAgIHdpZHRoSGVpZ2h0RGF0YS53aWR0aCA9IHdpZHRoSGVpZ2h0RGF0YS53aWR0aCArIDE1OwogICAgfSBlbHNlIGlmICh0aGlzLnByb3BlcnRpZXMuV29yZFdyYXApIHsKICAgICAgd2lkdGhIZWlnaHREYXRhLndpZHRoID0gd2lkdGhIZWlnaHREYXRhLndpZHRoICsgMjAgPCBjb21wb25lbnRSZWYuY2xpZW50V2lkdGggfHwgaW1nV2lkdGggPiBjb21wb25lbnRSZWYuY2xpZW50V2lkdGggPyB3aWR0aEhlaWdodERhdGEud2lkdGggOiBjb21wb25lbnRSZWYuY2xpZW50V2lkdGg7CiAgICB9CgogICAgcmV0dXJuIHdpZHRoSGVpZ2h0RGF0YTsKICB9CgogIGNoZWNrRm9yV2lkdGhJbmNyZWFzZShjb250cm9sQXJyKSB7CiAgICBmb3IgKGxldCB2YWwgb2YgY29udHJvbEFycikgewogICAgICBpZiAodGhpcy5wcm9wZXJ0aWVzLk5hbWUudG9Mb3dlckNhc2UoKS5pbmNsdWRlcyh2YWwpKSB7CiAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgIH0KICAgIH0KCiAgICByZXR1cm4gZmFsc2U7CiAgfQoKICBzZXRIZWlnaHRXaWR0aFZhcmlhYmxlKCkgewogICAgY29uc3QgcGljUG9zTGVmdFJpZ2h0ID0gWzAsIDEsIDIsIDMsIDQsIDVdOwogICAgY29uc3QgcGljUG9zVG9wQm90dG9tID0gWzYsIDcsIDgsIDksIDEwLCAxMV07CiAgICBjb25zdCBjb250cm9sV2lkdGhJbmNyZWFzZSA9IFsnb3B0aW9uYnV0dG9uJywgJ2NoZWNrYm94J107CiAgICBjb25zdCBpbWdIZWlnaHQgPSB0aGlzLmltYWdlUmVmICYmIHRoaXMuaW1hZ2VSZWYubmF0dXJhbEhlaWdodDsKICAgIGNvbnN0IGltZ1dpZHRoID0gdGhpcy5pbWFnZVJlZiAmJiB0aGlzLmltYWdlUmVmLm5hdHVyYWxXaWR0aDsKICAgIGxldCBsYWJlbEhlaWdodCA9IDA7CiAgICBsZXQgbGFiZWxXaWR0aCA9IDA7IC8vIGNhbGNsdWF0ZSB0ZXh0IGhlaWdodAoKICAgIGlmICh0aGlzLnRleHRTcGFuUmVmICYmIHRoaXMudGV4dFNwYW5SZWYub2Zmc2V0SGVpZ2h0KSB7CiAgICAgIGxhYmVsSGVpZ2h0ID0gdGhpcy50ZXh0U3BhblJlZi5vZmZzZXRIZWlnaHQ7CiAgICB9IGVsc2UgaWYgKHRoaXMuZWRpdGFibGVUZXh0UmVmLiRlbCAmJiB0aGlzLmVkaXRhYmxlVGV4dFJlZi4kZWwub2Zmc2V0SGVpZ2h0KSB7CiAgICAgIGxhYmVsSGVpZ2h0ID0gdGhpcy5lZGl0YWJsZVRleHRSZWYuJGVsLm9mZnNldEhlaWdodDsKICAgIH0gLy8gY2FsY3VhdGUgdGV4dCB3aWR0aAoKCiAgICBpZiAodGhpcy50ZXh0U3BhblJlZiAmJiB0aGlzLnRleHRTcGFuUmVmLm9mZnNldFdpZHRoKSB7CiAgICAgIGxhYmVsV2lkdGggPSB0aGlzLnRleHRTcGFuUmVmLm9mZnNldFdpZHRoOwogICAgfSBlbHNlIGlmICh0aGlzLmVkaXRhYmxlVGV4dFJlZi4kZWwgJiYgdGhpcy5lZGl0YWJsZVRleHRSZWYuJGVsLm9mZnNldFdpZHRoKSB7CiAgICAgIGxhYmVsV2lkdGggPSB0aGlzLmVkaXRhYmxlVGV4dFJlZi4kZWwub2Zmc2V0V2lkdGg7CiAgICB9CgogICAgcmV0dXJuIHsKICAgICAgcGljUG9zTGVmdFJpZ2h0LAogICAgICBwaWNQb3NUb3BCb3R0b20sCiAgICAgIGNvbnRyb2xXaWR0aEluY3JlYXNlLAogICAgICBpbWdIZWlnaHQsCiAgICAgIGltZ1dpZHRoLAogICAgICBsYWJlbEhlaWdodCwKICAgICAgbGFiZWxXaWR0aAogICAgfTsKICB9Cgp9OwoKX19kZWNvcmF0ZShbUHJvcCh7CiAgcmVxdWlyZWQ6IHRydWUsCiAgdHlwZTogQm9vbGVhbgp9KV0sIEZkQ29udHJvbFZ1ZS5wcm90b3R5cGUsICJpc1J1bk1vZGUiLCB2b2lkIDApOwoKX19kZWNvcmF0ZShbUHJvcCh7CiAgcmVxdWlyZWQ6IHRydWUsCiAgdHlwZTogQm9vbGVhbgp9KV0sIEZkQ29udHJvbFZ1ZS5wcm90b3R5cGUsICJpc0VkaXRNb2RlIiwgdm9pZCAwKTsKCl9fZGVjb3JhdGUoW1Byb3BTeW5jKCdpc0VkaXRNb2RlJyldLCBGZENvbnRyb2xWdWUucHJvdG90eXBlLCAic3luY0lzRWRpdE1vZGUiLCB2b2lkIDApOwoKX19kZWNvcmF0ZShbUHJvcCgpXSwgRmRDb250cm9sVnVlLnByb3RvdHlwZSwgInRvb2xCb3hTZWxlY3RDb250cm9sIiwgdm9pZCAwKTsKCl9fZGVjb3JhdGUoW1Byb3AoewogIHJlcXVpcmVkOiB0cnVlLAogIHR5cGU6IE9iamVjdAp9KV0sIEZkQ29udHJvbFZ1ZS5wcm90b3R5cGUsICJkYXRhIiwgdm9pZCAwKTsKCl9fZGVjb3JhdGUoW1Byb3AoewogIHJlcXVpcmVkOiB0cnVlLAogIHR5cGU6IFN0cmluZwp9KV0sIEZkQ29udHJvbFZ1ZS5wcm90b3R5cGUsICJjb250cm9sSWQiLCB2b2lkIDApOwoKX19kZWNvcmF0ZShbUHJvcCh7CiAgZGVmYXVsdDogZmFsc2UKfSldLCBGZENvbnRyb2xWdWUucHJvdG90eXBlLCAiaXNBY3RpdmF0ZWQiLCB2b2lkIDApOwoKX19kZWNvcmF0ZShbRW1pdCgnc2VsZWN0ZWRJdGVtJyldLCBGZENvbnRyb2xWdWUucHJvdG90eXBlLCAiZW1pdFNlbGVjdGVkSXRlbSIsIG51bGwpOwoKX19kZWNvcmF0ZShbRW1pdCgnZHJhZ0dyb3VwJyldLCBGZENvbnRyb2xWdWUucHJvdG90eXBlLCAiZHJhZ0dyb3VwIiwgbnVsbCk7CgpfX2RlY29yYXRlKFtFbWl0KCdkZWxldGVJdGVtJyldLCBGZENvbnRyb2xWdWUucHJvdG90eXBlLCAiZGVsZXRlSXRlbSIsIG51bGwpOwoKX19kZWNvcmF0ZShbRW1pdCgnc2V0RWRpdE1vZGUnKV0sIEZkQ29udHJvbFZ1ZS5wcm90b3R5cGUsICJzZXRFZGl0TW9kZSIsIG51bGwpOwoKX19kZWNvcmF0ZShbRW1pdCgnY29udHJvbEVkaXRNb2RlJyldLCBGZENvbnRyb2xWdWUucHJvdG90eXBlLCAiY29udHJvbEVkaXRNb2RlIiwgbnVsbCk7CgpfX2RlY29yYXRlKFtXYXRjaCgncHJvcGVydGllcy5Db250cm9sU291cmNlJywgewogIGRlZXA6IHRydWUKfSldLCBGZENvbnRyb2xWdWUucHJvdG90eXBlLCAiY29udHJvbFNvdXJjZSIsIG51bGwpOwoKX19kZWNvcmF0ZShbRW1pdCgndXBkYXRlTW9kZWwnKV0sIEZkQ29udHJvbFZ1ZS5wcm90b3R5cGUsICJ1cGRhdGVEYXRhTW9kZWwiLCBudWxsKTsKCl9fZGVjb3JhdGUoW0VtaXQoJ3VwZGF0ZU1vZGVsRXh0cmFEYXRhJyldLCBGZENvbnRyb2xWdWUucHJvdG90eXBlLCAidXBkYXRlRGF0YU1vZGVsRXh0cmFEYXRhIiwgbnVsbCk7CgpfX2RlY29yYXRlKFtXYXRjaCgncHJvcGVydGllcy5UZXh0JywgewogIGRlZXA6IHRydWUKfSldLCBGZENvbnRyb2xWdWUucHJvdG90eXBlLCAidmFsdWVVcGRhdGVQcm9wIiwgbnVsbCk7CgpfX2RlY29yYXRlKFtXYXRjaCgncHJvcGVydGllcy5WYWx1ZScsIHsKICBkZWVwOiB0cnVlCn0pXSwgRmRDb250cm9sVnVlLnByb3RvdHlwZSwgInRleHRBbmRWYWx1ZVVwZGF0ZVByb3AiLCBudWxsKTsKCl9fZGVjb3JhdGUoW1dhdGNoKCdwcm9wZXJ0aWVzLkJvdW5kQ29sdW1uJywgewogIGRlZXA6IHRydWUKfSldLCBGZENvbnRyb2xWdWUucHJvdG90eXBlLCAiYm91bmRDb2x1bW5WYWx1ZSIsIG51bGwpOwoKX19kZWNvcmF0ZShbV2F0Y2goJ3Byb3BlcnRpZXMuVGV4dENvbHVtbicsIHsKICBkZWVwOiB0cnVlCn0pXSwgRmRDb250cm9sVnVlLnByb3RvdHlwZSwgInRleHRDb2x1bW5DaGFuZ2UiLCBudWxsKTsKCl9fZGVjb3JhdGUoW1dhdGNoKCdwcm9wZXJ0aWVzLlRvcEluZGV4JywgewogIGRlZXA6IHRydWUKfSldLCBGZENvbnRyb2xWdWUucHJvdG90eXBlLCAidG9wSW5kZXhDaGVjayIsIG51bGwpOwoKX19kZWNvcmF0ZShbRW1pdCgncGFyZW50Q29uZXh0TWVudScpXSwgRmRDb250cm9sVnVlLnByb3RvdHlwZSwgInBhcmVudENvbmV4dE1lbnUiLCBudWxsKTsKCkZkQ29udHJvbFZ1ZSA9IF9fZGVjb3JhdGUoW0NvbXBvbmVudCh7CiAgbmFtZTogJ0ZkQ29udHJvbFZ1ZScKfSldLCBGZENvbnRyb2xWdWUpOwpleHBvcnQgZGVmYXVsdCBGZENvbnRyb2xWdWU7"},{"version":3,"sources":["/home/mobiotics/Projects/hancom/FormcontrolLatest/node_modules/eslint-loader/index.js??ref--13-0!/home/mobiotics/Projects/hancom/FormcontrolLatest/src/api/abstract/FormDesigner/FdControlVue.ts"],"names":[],"mappings":"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","sourcesContent":["import { controlProperties } from '@/FormDesigner/controls-properties'\r\nimport {\r\n  PositionXYData,\r\n  ScrollBarData\r\n} from '@/FormDesigner/controls-properties-types'\r\nimport { PropType } from 'vue'\r\nimport { Component, Emit, Prop, PropSync, Vue, Watch } from 'vue-property-decorator'\r\nimport { EventBus } from '@/FormDesigner/event-bus'\r\nimport FDEditableText from '@/FormDesigner/components/atoms/FDEditableText/index.vue'\r\n\r\n@Component({\r\n  name: 'FdControlVue'\r\n})\r\nexport default class FdControlVue extends Vue {\r\n  @Prop({ required: true, type: Boolean }) public isRunMode!: boolean\r\n  @Prop({ required: true, type: Boolean }) public isEditMode!: boolean\r\n  @PropSync('isEditMode') public syncIsEditMode!: boolean\r\n  @Prop() toolBoxSelectControl: string\r\n\r\n  @Prop({ required: true, type: Object as PropType<controlData> }) public data! : controlData\r\n  @Prop({ required: true, type: String }) public controlId! : string\r\n  @Prop({ default: false }) isActivated: boolean\r\n  isContentEditable: boolean = false\r\n  selectionData :Array<string> = [];\r\n  matchEntry: Array<number> = [];\r\n  matchIndex = -1;\r\n  isDropdownVisible: boolean = true;\r\n  isItalic: boolean = false;\r\n  tempWeight: string = '400';\r\n  tempStretch: string = 'normal';\r\n  isVisible: boolean = false;\r\n  tempListBoxComboBoxEvent: Event;\r\n  labelStyle = {}\r\n  reverseStyle = {\r\n    display: '',\r\n    flexDirection: '',\r\n    justifyItems: '',\r\n    position: '',\r\n    justifyContent: 'center',\r\n    alignItems: '',\r\n    alignSelf: '',\r\n    width: ''\r\n  }\r\n  imageProperty={\r\n    height: 'fit-content'\r\n  }\r\n  imagePos={\r\n    alignSelf: ''\r\n  }\r\n\r\n   // global variable to keep track of TripleState when enabled\r\n   protected tripleState:number = 0\r\n\r\n  // dynamic ref form textbox component\r\n  protected autoSizeTextarea: HTMLLabelElement\r\n\r\n  // dynamic ref from checkbox component\r\n  protected autoSizecheckbox: HTMLDivElement\r\n\r\n  // dynamic ref from optionButton component\r\n  protected autoSizeOptionButton! : HTMLDivElement\r\n\r\n  // ref of respective components\r\n  protected checkboxRef: HTMLDivElement\r\n  protected optionBtnRef: HTMLDivElement\r\n  protected textareaRef: HTMLTextAreaElement\r\n\r\n  protected textSpanRef!: HTMLSpanElement\r\n  protected imageRef: HTMLImageElement\r\n  protected logoRef: HTMLSpanElement\r\n  protected componentRef : HTMLSpanElement\r\n  protected editableTextRef: FDEditableText\r\n\r\n  preventClickOnce: boolean = false\r\n  addEventCustomCallback (e: CustomMouseEvent) {\r\n    this.controlEditMode(e)\r\n    const self = this\r\n    e.customCallBack = () => {\r\n      self.preventClickOnce = true\r\n    }\r\n  }\r\n\r\n  selectedItem (event: Event) {\r\n    if (this.preventClickOnce) {\r\n      this.preventClickOnce = false\r\n    } else {\r\n      this.emitSelectedItem(event)\r\n    }\r\n  }\r\n\r\n  @Emit('selectedItem')\r\n  emitSelectedItem (event: Event) {\r\n    return event\r\n  }\r\n\r\n  @Emit('dragGroup')\r\n  dragGroup (event: Event) {\r\n    return event\r\n  }\r\n\r\n  @Emit('deleteItem')\r\n  deleteItem (event: Event) {\r\n    return event\r\n  }\r\n\r\n  @Emit('setEditMode')\r\n  setEditMode (contentEditable: boolean) {\r\n    return contentEditable\r\n  }\r\n\r\n  @Emit('controlEditMode')\r\n  controlEditMode (event: MouseEvent) {\r\n    return event\r\n  }\r\n\r\n  updateCaption (updateValue : string) {\r\n    this.updateDataModel({ propertyName: 'Caption', value: updateValue })\r\n  }\r\n\r\n  /**\r\n   * @description userFormId and controlId which is taken as props from parent Component\r\n   * @abstract propControlData\r\n   */\r\n  public get properties () :controlProperties {\r\n    return this.data.properties\r\n  }\r\n\r\n  public get extraDatas () : extraDatas {\r\n    return this.data.extraDatas!\r\n  }\r\n  public get controls () : string[] {\r\n    return this.data.controls\r\n  }\r\n\r\n  protected get renderSize () :Partial<CSSStyleDeclaration> {\r\n    return {\r\n      width: `${this.properties.Width}px`,\r\n      height: `${this.properties.Height}px`\r\n    }\r\n  }\r\n\r\n  protected get baseStyle () :Partial<CSSStyleDeclaration> {\r\n    return {\r\n      backgroundColor: this.properties.BackColor,\r\n      display: 'block'\r\n    }\r\n  }\r\n\r\n  /**\r\n   * @description getSpecialEffectData returns string value from\r\n   * controlProperties.specialEffectProp\r\n   * @function getSpecialEffectData\r\n   * @returns string value\r\n   */\r\n  protected get getSpecialEffectData (): string {\r\n    return controlProperties.specialEffectProp(this.data)\r\n  }\r\n  /**\r\n   * @description getBorderStyle returns string value from\r\n   * controlProperties.borderStyleProp\r\n   * @function getBorderStyle\r\n   * @returns string value\r\n   */\r\n  protected get getBorderStyle (): string {\r\n    return controlProperties.borderStyleProp(this.data)\r\n  }\r\n  /**\r\n   * @description getMouseCursorData returns string value from\r\n   * controlProperties.mousePointerProp\r\n   * @function getMouseCursorData\r\n   * @returns string value\r\n   */\r\n  protected get getMouseCursorData (): string {\r\n    return controlProperties.mousePointerProp(this.data)\r\n  }\r\n  /**\r\n   * @description getEnabled returns string value from\r\n   * controlProperties.enabledProp\r\n   * @function getEnabled\r\n   * @returns string value\r\n   */\r\n  protected get getEnabled (): string {\r\n    return controlProperties.enabledProp(this.data)\r\n  }\r\n  /**\r\n   * @description getRepeat returns string value from\r\n   * controlProperties.extraDataRepeatProp\r\n   * @function getRepeat\r\n   * @returns string value\r\n   */\r\n  protected get getRepeat (): string {\r\n    return controlProperties.extraDataRepeatProp(this.data)\r\n  }\r\n  /**\r\n   * @description getPosition returns string value from\r\n   * controlProperties.picturePositionProp\r\n   * @function getPosition\r\n   * @returns string value\r\n   */\r\n  protected get getPosition (): string {\r\n    return controlProperties.picturePositionProp(this.data)\r\n  }\r\n  /**\r\n   * @description getPositionX returns string value from\r\n   * controlProperties.pictureXYPositionProp\r\n   * @function getPositionX\r\n   * @returns string value\r\n   */\r\n  protected get getPositionX (): string {\r\n    const posX: PositionXYData = controlProperties.pictureXYPositionProp(\r\n      this.data\r\n    )\r\n    return posX.backgroundPositionX\r\n  }\r\n  /**\r\n   * @description getPositionY returns string value from\r\n   * controlProperties.pictureXYPositionProp\r\n   * @function getPositionY\r\n   * @returns string value\r\n   */\r\n  protected get getPositionY (): string {\r\n    const posY: PositionXYData = controlProperties.pictureXYPositionProp(\r\n      this.data\r\n    )\r\n    return posY.backgroundPositionY\r\n  }\r\n  /**\r\n   * @description getSizeMode returns string value from\r\n   * controlProperties.pictureSizeModeProp\r\n   * @function getSizeMode\r\n   * @returns string value\r\n   */\r\n  protected get getSizeMode (): string {\r\n    return controlProperties.pictureSizeModeProp(this.data)\r\n  }\r\n  /**\r\n   * @description getScrollBarX returns string value from\r\n   * controlProperties.scrollBarProp / controlProperties.scrollBarTextBoxProp\r\n   * @function getScrollBarX\r\n   * @returns string value\r\n   */\r\n  protected get getScrollBarX (): string {\r\n    if (this.data.type === 'TextBox') {\r\n      if (this.isEditMode) {\r\n        const scrollXData = controlProperties.scrollBarTextBoxProp(this.data)\r\n        return scrollXData.overflowX\r\n      }\r\n    }\r\n    const scrollX: ScrollBarData = controlProperties.scrollBarProp(\r\n      this.data\r\n    )\r\n    return scrollX.overflowX\r\n  }\r\n\r\n  /**\r\n   * @description getScrollBarY returns string value from\r\n   * controlProperties.scrollBarProp / controlProperties.scrollBarTextBoxProp\r\n   * @function getScrollBarY\r\n   * @returns string value\r\n   */\r\n  protected get getScrollBarY (): string {\r\n    if (this.data.type === 'TextBox') {\r\n      if (this.isEditMode) {\r\n        const scrollYData = controlProperties.scrollBarTextBoxProp(this.data)\r\n        return scrollYData.overflowY\r\n      }\r\n    }\r\n    const scrollY: ScrollBarData = controlProperties.scrollBarProp(\r\n      this.data\r\n    )\r\n    return scrollY.overflowY\r\n  }\r\n  /**\r\n   * @description getScrollingHeight returns string value from\r\n   * controlProperties.scrollBarWidthAndHeightProp\r\n   * @function getScrollingHeight\r\n   * @returns string value\r\n   */\r\n  protected get getScrollingHeight (): string {\r\n    const scrollingHeight = controlProperties.scrollBarWidthAndHeightProp(\r\n      this.data\r\n    )\r\n    return scrollingHeight.scrollHeight\r\n  }\r\n  /**\r\n   * @description getScrollingWidth returns string value from\r\n   * controlProperties.scrollBarWidthAndHeightProp\r\n   * @function getScrollingWidth\r\n   * @returns string value\r\n   */\r\n  protected get getScrollingWidth (): string {\r\n    const scrollingWidth = controlProperties.scrollBarWidthAndHeightProp(\r\n      this.data\r\n    )\r\n    return scrollingWidth.scrollWidth\r\n  }\r\n\r\n  /**\r\n   * @description checkOtherOrientations returns string value from\r\n   * controlProperties.controlsOrientationProp\r\n   * @function checkOtherOrientations\r\n   * @returns boolean value\r\n   */\r\n  protected checkOtherOrientations () : boolean {\r\n    throw new Error('checkOtherOrientations Not Implemented')\r\n  }\r\n\r\n  /**\r\n   * @description getForeColorValue returns string value from\r\n   * controlProperties.getForeColor\r\n   * @function getForeColorValue\r\n   * @returns string value\r\n   */\r\n  protected get getForeColorValue () : string {\r\n    return controlProperties.getForeColor(this.data)\r\n  }\r\n\r\n  /**\r\n   * @description increaseTheValue calls Vuex Actions to update object and Value Property\r\n   * @function increaseTheValue\r\n   */\r\n  protected increaseTheValue () {\r\n    let tempVal, tempMax\r\n    if (this.properties.Max! >= 0 && this.properties.Min! >= 0) {\r\n      if (this.properties.Max! < this.properties.Min!) {\r\n        tempMax = this.properties.Max!\r\n        if (this.properties.Value! < this.properties.Max! && this.properties.Value! > this.properties.Min!) {\r\n          this.updateDataModel({ propertyName: 'Value', value: this.properties.Min })\r\n        }\r\n        tempVal = this.properties.Value! as number\r\n        if (\r\n          tempVal >= tempMax &&\r\n              tempVal - tempMax > this.properties.SmallChange!\r\n        ) {\r\n          tempVal = tempVal - this.properties.SmallChange!\r\n        } else if (tempVal >= tempMax) {\r\n          tempVal = tempMax\r\n        } else {\r\n          tempVal = tempMax\r\n        }\r\n      } else {\r\n        tempMax = this.properties.Max!\r\n        if (this.properties.Value! > this.properties.Max! && this.properties.Value! < this.properties.Min!) {\r\n          this.updateDataModel({ propertyName: 'Value', value: this.properties.Min })\r\n        }\r\n        tempVal = this.properties.Value! as number\r\n        if (\r\n          tempVal <= tempMax &&\r\n        tempMax - tempVal > this.properties.SmallChange!\r\n        ) {\r\n          tempVal = tempVal + this.properties.SmallChange!\r\n        } else if (tempVal <= tempMax) {\r\n          tempVal = tempMax\r\n        } else {\r\n          tempVal = tempMax\r\n        }\r\n      }\r\n      this.updateDataModel({ propertyName: 'Value', value: tempVal })\r\n    } else if (this.properties.Max! < 0 && this.properties.Min! < 0) {\r\n      if (this.properties.Max! > this.properties.Min!) {\r\n        tempMax = this.properties.Max!\r\n        if (this.properties.Value! > this.properties.Max! && this.properties.Value! < this.properties.Min!) {\r\n          this.updateDataModel({ propertyName: 'Value', value: this.properties.Max })\r\n        }\r\n        tempVal = this.properties.Value! as number\r\n        if (\r\n          tempVal <= tempMax &&\r\n          Math.abs(tempVal) - Math.abs(tempMax) > this.properties.SmallChange!\r\n        ) {\r\n          tempVal = Math.abs(tempVal) - this.properties.SmallChange!\r\n        } else if (tempVal <= tempMax) {\r\n          tempVal = Math.abs(tempMax)\r\n        } else {\r\n          tempVal = Math.abs(tempMax)\r\n        }\r\n      } else {\r\n        tempMax = Math.abs(this.properties.Max!)\r\n        if (this.properties.Value! < this.properties.Max! && this.properties.Value! > this.properties.Min!) {\r\n          this.updateDataModel({ propertyName: 'Value', value: this.properties.Min })\r\n        }\r\n        tempVal = Math.abs(this.properties.Value! as number)\r\n        if (\r\n          tempVal <= tempMax &&\r\n        tempMax - tempVal > this.properties.SmallChange!\r\n        ) {\r\n          tempVal = tempVal + this.properties.SmallChange!\r\n        } else if (tempVal <= tempMax) {\r\n          tempVal = tempMax\r\n        } else {\r\n          tempVal = tempMax\r\n        }\r\n      }\r\n      this.updateDataModel({ propertyName: 'Value', value: '-' + tempVal })\r\n    } else if (this.properties.Max! < this.properties.Min!) {\r\n      tempMax = this.properties.Max!\r\n      if (this.properties.Value! > this.properties.Min! && this.properties.Value! < this.properties.Max!) {\r\n        this.updateDataModel({ propertyName: 'Value', value: this.properties.Max })\r\n      }\r\n      tempVal = this.properties.Value as number\r\n      if (\r\n        tempVal >= tempMax &&\r\n        tempVal - tempMax >= this.properties.SmallChange!\r\n      ) {\r\n        tempVal = tempVal - this.properties.SmallChange!\r\n      } else if (tempVal <= tempMax) {\r\n        tempVal = tempMax\r\n      } else {\r\n        tempVal = tempMax\r\n      }\r\n      this.updateDataModel({ propertyName: 'Value', value: tempVal })\r\n    } else {\r\n      tempMax = this.properties.Max!\r\n      if (this.properties.Value! > this.properties.Max! && this.properties.Value! < this.properties.Min!) {\r\n        this.updateDataModel({ propertyName: 'Value', value: this.properties.Min })\r\n      }\r\n      tempVal = this.properties.Value as number\r\n      if (\r\n        tempVal <= tempMax &&\r\n        tempMax - tempVal > this.properties.SmallChange!\r\n      ) {\r\n        tempVal = tempVal + this.properties.SmallChange!\r\n      } else if (tempVal <= tempMax) {\r\n        tempVal = tempMax\r\n      } else {\r\n        tempVal = tempMax\r\n      }\r\n      this.updateDataModel({ propertyName: 'Value', value: tempVal })\r\n    }\r\n  }\r\n\r\n  /**\r\n   * @description decreaseTheValue calls Vuex Actions to update object and Value Property\r\n   * @function decreaseTheValue\r\n   */\r\n  protected decreaseTheValue () {\r\n    let tempVal, tempMin\r\n    if (this.properties.Max! >= 0 && this.properties.Min! >= 0) {\r\n      if (this.properties.Max! < this.properties.Min!) {\r\n        tempMin = this.properties.Min!\r\n        if (this.properties.Value! < this.properties.Max! && this.properties.Value! > this.properties.Min!) {\r\n          this.updateDataModel({ propertyName: 'Value', value: this.properties.Min })\r\n        }\r\n        tempVal = this.properties.Value! as number\r\n        if (\r\n          tempVal <= tempMin &&\r\n          tempMin - tempVal > this.properties.SmallChange!\r\n        ) {\r\n          tempVal = tempVal + this.properties.SmallChange!\r\n        } else if (tempVal <= tempMin) {\r\n          tempVal = tempMin\r\n        } else {\r\n          tempVal = tempMin\r\n        }\r\n      } else {\r\n        tempMin = this.properties.Min!\r\n        if (this.properties.Value! > this.properties.Max! && this.properties.Value! < this.properties.Min!) {\r\n          this.updateDataModel({ propertyName: 'Value', value: this.properties.Min })\r\n        }\r\n        tempVal = this.properties.Value! as number\r\n        if (\r\n          tempVal >= tempMin &&\r\n            tempVal - tempMin > this.properties.SmallChange!\r\n        ) {\r\n          tempVal = tempVal - this.properties.SmallChange!\r\n        } else if (tempVal >= tempMin) {\r\n          tempVal = tempMin\r\n        } else {\r\n          tempVal = tempMin\r\n        }\r\n      }\r\n      this.updateDataModel({ propertyName: 'Value', value: tempVal })\r\n    } else if (this.properties.Max! < 0 && this.properties.Min! < 0) {\r\n      if (this.properties.Max! > this.properties.Min!) {\r\n        tempMin = this.properties.Min!\r\n        if (this.properties.Value! > this.properties.Max! && this.properties.Value! < this.properties.Min!) {\r\n          this.updateDataModel({ propertyName: 'Value', value: this.properties.Min })\r\n        }\r\n        tempVal = this.properties.Value! as number\r\n        if (\r\n          tempVal >= tempMin &&\r\n          Math.abs(tempMin) - Math.abs(tempVal) > this.properties.SmallChange!\r\n        ) {\r\n          tempVal = Math.abs(tempVal) + this.properties.SmallChange!\r\n        } else if (tempVal <= tempMin) {\r\n          tempVal = Math.abs(tempMin)\r\n        } else {\r\n          tempVal = Math.abs(tempMin)\r\n        }\r\n      } else {\r\n        tempMin = Math.abs(this.properties.Min!)\r\n        if (this.properties.Value! < this.properties.Max! && this.properties.Value! > this.properties.Min!) {\r\n          this.updateDataModel({ propertyName: 'Value', value: this.properties.Min })\r\n        }\r\n        tempVal = Math.abs(this.properties.Value! as number)\r\n        if (\r\n          tempVal >= tempMin &&\r\n            tempVal - tempMin > this.properties.SmallChange!\r\n        ) {\r\n          tempVal = tempVal - this.properties.SmallChange!\r\n        } else if (tempVal >= tempMin) {\r\n          tempVal = tempMin\r\n        } else {\r\n          tempVal = tempMin\r\n        }\r\n      }\r\n      this.updateDataModel({ propertyName: 'Value', value: '-' + tempVal })\r\n    } else if (this.properties.Max! < this.properties.Min!) {\r\n      tempMin = this.properties.Min!\r\n      if (this.properties.Value! > this.properties.Min! && this.properties.Value! < this.properties.Max!) {\r\n        this.updateDataModel({ propertyName: 'Value', value: this.properties.Max })\r\n      }\r\n      tempVal = this.properties.Value as number\r\n      if (\r\n        tempVal <= tempMin &&\r\n            tempMin - tempVal > this.properties.SmallChange!\r\n      ) {\r\n        tempVal = tempVal + this.properties.SmallChange!\r\n      } else if (tempVal >= tempMin) {\r\n        tempVal = tempMin\r\n      } else {\r\n        tempVal = tempMin\r\n      }\r\n      this.updateDataModel({ propertyName: 'Value', value: tempVal })\r\n    } else {\r\n      tempMin = this.properties.Min!\r\n      if (this.properties.Value! > this.properties.Max! && this.properties.Value! < this.properties.Min!) {\r\n        this.updateDataModel({ propertyName: 'Value', value: this.properties.Min })\r\n      }\r\n      tempVal = this.properties.Value as number\r\n      if (\r\n        tempVal >= tempMin &&\r\n            tempVal - tempMin > this.properties.SmallChange!\r\n      ) {\r\n        tempVal = tempVal - this.properties.SmallChange!\r\n      } else if (tempVal >= tempMin) {\r\n        tempVal = tempMin\r\n      } else {\r\n        tempVal = tempMin\r\n      }\r\n      this.updateDataModel({ propertyName: 'Value', value: tempVal })\r\n    }\r\n  }\r\n  /**\r\n   * @description transformScrollButtonStyle returns string value from\r\n   * knobProperties.transformScrollButtonStyle\r\n   * @function transformScrollButtonStyle\r\n   * @returns string value\r\n   */\r\n  protected get transformScrollButtonStyle () : string {\r\n    return controlProperties.transformScrollButtonStyle(this.data)\r\n  }\r\n\r\n  /**\r\n  * @description update the isContentEditable to make the Button content editable\r\n  * or noneditable on click of enter key\r\n  * @function setContentEditable\r\n  * @param event\r\n  * @param contentEditable\r\n  */\r\n  setContentEditable (event : KeyboardEvent, contentEditable : boolean) {\r\n    this.setEditMode(contentEditable)\r\n  }\r\n\r\n  /**\r\n   * @description  sets Styles to checkbox/optionButton and label based on control Value property\r\n   * @function setStyle\r\n   *@param ref\r\n   *@param checked\r\n   *@param disabled\r\n   *@param bgColor\r\n   */\r\n  setStyle (ref:HTMLInputElement, checked:boolean, disabled:boolean, bgColor:string) {\r\n    if (ref) {\r\n      ref.checked = checked;\r\n      ((ref.parentNode as HTMLLabelElement).childNodes[1] as HTMLSpanElement).style.backgroundColor = bgColor\r\n      ref.disabled = disabled\r\n    }\r\n  }\r\n\r\n  /**\r\n   * @description  style object is passed to :style attribute in span tag in checkbox/OptionButton\r\n   * dynamically changing the styles of the component based on properties\r\n   * @function styleForBtn\r\n   *\r\n   */\r\n  get styleForBtn () {\r\n    const style = { border: '1px inset grey', backgroundColor: 'inherit', top: '0px', position: 'relative' }\r\n    if (!this.properties.Enabled) {\r\n      style.backgroundColor = 'rgba(220, 220, 220, 1)'\r\n    }\r\n    if (this.properties.SpecialEffect === 0) {\r\n      return style\r\n    } else {\r\n      style.border = '2px groove grey'\r\n      return style\r\n    }\r\n  }\r\n\r\n  /**\r\n   * @description  sets controlSource if present and updates Value property\r\n   * @function controlSource\r\n   */\r\n  @Watch('properties.ControlSource', { deep: true })\r\n  controlSource () {\r\n    const propData: controlData = this.data\r\n    if (this.data.type === 'SpinButton' || this.data.type === 'ScrollBar') {\r\n      if (propData.properties.ControlSource && propData.extraDatas) {\r\n        if (propData.extraDatas.ControlSourceValue !== null && propData.extraDatas.ControlSourceValue !== undefined) {\r\n          const a = propData.extraDatas.ControlSourceValue\r\n          if (parseInt(a) <= propData.properties.Max! && parseInt(a) >= propData.properties.Min!) {\r\n            this.updateDataModel({ propertyName: 'Value', value: propData.extraDatas!.ControlSourceValue })\r\n          }\r\n        }\r\n      };\r\n    } else if (propData.properties.ControlSource) {\r\n      const controlSourceValue = propData.extraDatas!.ControlSourceValue!.toLowerCase()\r\n      const isBoolean:boolean | string = (controlSourceValue === 'true') ? true : (controlSourceValue === 'false') ? false : ''\r\n      this.updateDataModel({ propertyName: 'Value', value: isBoolean.toString() })\r\n    }\r\n  }\r\n  /**\r\n   * @description  update the value of control properties\r\n   * @function updateDataModel\r\n   * @param updateData\r\n   */\r\n  @Emit('updateModel')\r\n  updateDataModel (updateData: IupdateDataModel) {\r\n    return updateData\r\n  }\r\n\r\n  /**\r\n   * @description  update the value of control extraDatas properties\r\n   * @function updateDataModelExtraData\r\n   * @param updateData\r\n   */\r\n  @Emit('updateModelExtraData')\r\n  updateDataModelExtraData (updateData: IupdateDataModelExtraData) {\r\n    return updateData\r\n  }\r\n\r\n  /**\r\n  * @description watches text properties\r\n  * @function valueUpdateProp\r\n  * @param oldVal previous string value\r\n  * @param newVal  new/changed string value\r\n  */\r\n @Watch('properties.Text', { deep: true })\r\n  valueUpdateProp (newVal:string, oldVal:string) {\r\n    if (this.data.type!.includes('TextBox') || this.data.type === 'ComboBox') {\r\n      const propData: controlProperties = this.properties\r\n      this.updateDataModel({ propertyName: 'Value', value: newVal })\r\n    }\r\n  }\r\n\r\n /**\r\n  * @description watches text and value properties are same when component is mounted/changed\r\n  * @function textAndValueUpdateProp\r\n  * @param oldVal previous properties data\r\n  * @param newVal  new/changed properties data\r\n  */\r\n @Watch('properties.Value', { deep: true })\r\n textAndValueUpdateProp (newVal:string, oldVal:string) {\r\n   if (this.data.type!.includes('TextBox')) {\r\n     const propData: controlProperties = this.properties\r\n     if (propData.Text !== propData.Value && propData.ControlSource === '') {\r\n       const propText: number = propData.Text!.length\r\n       const propValue: number = (propData.Value as string).length\r\n       this.updateDataModel({ propertyName: 'Text',\r\n         value: this.properties.Value! })\r\n     }\r\n   } else if (this.data.type!.includes('CheckBox') || this.data.type!.includes('OptionButton')) {\r\n     const value = this.properties.Value\r\n     const valueType:boolean | string = typeof value\r\n     let isBoolean:boolean | string = ''\r\n     if (valueType === 'boolean') {\r\n       isBoolean = (value as boolean)\r\n     } else if (valueType === 'string') {\r\n       isBoolean = ((value as string).toLowerCase() === 'true') ? true : ((value as string).toLowerCase() === 'false') ? false : ''\r\n     }\r\n     const ref = this.data.type!.includes('CheckBox') ? this.checkboxRef : this.optionBtnRef\r\n     if (isBoolean !== '') {\r\n       if (isBoolean) {\r\n         this.setStyle((ref as HTMLInputElement), (isBoolean as boolean), !(isBoolean as boolean), 'white')\r\n       } else {\r\n         this.setStyle((ref as HTMLInputElement), false, false, 'white')\r\n       }\r\n     } else {\r\n       this.setStyle((ref as HTMLInputElement), true, true, 'rgba(220, 220, 220, 1)')\r\n     }\r\n   }\r\n }\r\n\r\n /**\r\n  * @description changing width and height of textarea tag by replicating style of\r\n  * textarea with label tag to making the property work in textarea\r\n  * @function updateAutoSize\r\n  * @param oldVal previous properties data\r\n  * @param newVal  new/changed properties data\r\n  */\r\n updateAutoSize (newVal:boolean, oldVal:boolean) {\r\n   throw new Error('updateAutosize Not Implemented')\r\n }\r\n /**\r\n   * @description  sets checked or unchecked when checkbox is clicked\r\n   * if TripleState is True, Null state will be visible\r\n   * @function handleChange\r\n   * @param event it is of type MouseEvent\r\n   */\r\n handleChange (event: MouseEvent, targetRef: HTMLInputElement) {\r\n   if (event.target instanceof HTMLInputElement) {\r\n     const el = event.target.checked\r\n     if (this.properties.TripleState) {\r\n       this.tripleState++\r\n       if (this.tripleState % 3 === 0) {\r\n         this.setStyle(targetRef, true, false, 'rgba(220, 220, 220, 1)')\r\n       } else {\r\n         this.setStyle(targetRef, el, false, 'white')\r\n         this.updateDataModel({ propertyName: 'Value', value: el })\r\n       }\r\n     } else {\r\n       this.tripleState++\r\n       this.updateDataModel({ propertyName: 'Value', value: el })\r\n       this.setStyle(targetRef, el, false, 'white')\r\n     }\r\n   }\r\n }\r\n /**\r\n   * @description getRepeat returns string value from\r\n   * controlProperties.extraDataRepeatProp\r\n   * @function getRepeat\r\n   */\r\n protected get getRepeatData (): string {\r\n   //  if (this.properties.Picture === '') {\r\n   return controlProperties.extraDataRepeatProp(this.data)\r\n   //  } else {\r\n   //    return controlProperties.pictureTilingProp(this.data)\r\n   //  }\r\n }\r\n /**\r\n   * @description computedCaption returns object value from\r\n   * with acceleratorCaption, afterbeginCaption, beforeendCaption values\r\n   * @function computedCaption\r\n   * @returns object value\r\n   */\r\n protected get computedCaption () {\r\n   let accelerator = ''\r\n   if (this.properties.Accelerator) {\r\n     accelerator = this.properties.Accelerator!.charAt(0)\r\n   }\r\n   return controlProperties.acceleratorProp(this.properties.Caption!, accelerator)\r\n }\r\n updateColumnWidths (index: number, height: number) {\r\n   const controlProp = this.properties\r\n   const updateColWidth = controlProp.ColumnWidths!.split(';')\r\n   const colChangeCheck: boolean = controlProp.ColumnCount! - 1 < index\r\n   return {\r\n     position: 'relative',\r\n     display: 'inline-block',\r\n     textAlign: controlProp.TextAlign === 0 ? 'left' : controlProp.TextAlign === 2 ? 'right' : 'center',\r\n     width: controlProp.ColumnCount! === -1 ? (updateColWidth[index] ? parseInt(updateColWidth[index]) + 'px' : '100px') : colChangeCheck ? '0px' : ((updateColWidth[index]) ? parseInt(updateColWidth[index]) + 'px' : controlProp.ColumnCount! > index ? '100px' : '0px'),\r\n     overflow: 'hidden',\r\n     paddingBottom: this.data.properties.Font!.FontSize! > 48 ? '10px' : '5px'\r\n   }\r\n }\r\n updateColHeads (index: number) {\r\n   const controlProp = this.properties\r\n   const updateColWidth = controlProp.ColumnWidths!.split(';')\r\n   return {\r\n     textAlign: controlProp.TextAlign === 0 ? 'left' : controlProp.TextAlign === 2 ? 'right' : 'center',\r\n     borderRight: (index < controlProp.ColumnCount! - 1) ? '1px solid' : '',\r\n     width: controlProp.ColumnCount! === -1 ? parseInt(updateColWidth[index]) + 'px' : (updateColWidth[index]) ? parseInt(updateColWidth[index]) + 'px' : '100px',\r\n     overflow: 'hidden'\r\n   }\r\n }\r\n\r\n/**\r\n * @description watches changes in properties for BoundColumn\r\n * @function boundColumnValue\r\n * @param oldVal previous properties data\r\n * @param newVal  new/changed properties data\r\n */\r\n@Watch('properties.BoundColumn', { deep: true })\r\n boundColumnValue (newVal:number, oldVal:number) {\r\n   if (this.properties.BoundColumn! > 0 && this.properties.BoundColumn! < this.extraDatas.RowSourceData!.length) {\r\n     let tempData = [...this.extraDatas.RowSourceData!]\r\n    tempData![0][0] = tempData![0][newVal - 1]\r\n    let tempValue = tempData![0][newVal - 1]\r\n    this.updateDataModelExtraData({ propertyName: 'RowSourceData', value: tempData })\r\n    this.updateDataModel({ propertyName: 'Value', value: tempValue })\r\n   }\r\n }\r\n\r\n/**\r\n * @description watches changes in properties for TextColumn\r\n * @function textColumnChange\r\n * @param oldVal previous properties data\r\n * @param newVal  new/changed properties data\r\n */\r\n@Watch('properties.TextColumn', { deep: true })\r\ntextColumnChange (newVal:number, oldVal:number) {\r\n  if (newVal > 0 && newVal < this.extraDatas.RowSourceData!.length) {\r\n    let tempData = [...this.extraDatas.RowSourceData!]\r\n    let tempValue = tempData![0][newVal - 1]\r\n    this.updateDataModel({ propertyName: 'Text', value: tempValue })\r\n  } else {\r\n    this.updateDataModel({ propertyName: 'Text', value: '' })\r\n  }\r\n}\r\n\r\n/**\r\n * @description watches changes in properties for TopIndex\r\n * @function topIndexCheck\r\n * @param oldVal previous properties data\r\n * @param newVal  new/changed properties data\r\n */\r\n@Watch('properties.TopIndex', { deep: true })\r\ntopIndexCheck (newVal:number, oldVal:number) {\r\n  if (this.extraDatas.RowSourceData!.length === 0) {\r\n    this.updateDataModel({ propertyName: 'TopIndex', value: -1 })\r\n  } else {\r\n    this.updateDataModel({ propertyName: 'TopIndex', value: 0 })\r\n  }\r\n}\r\n\r\n/**\r\n * @description updates the dataModel listBox object properties when user clicks\r\n * @function handleMultiSelect\r\n * @param event its of type MouseEvent\r\n * @event click\r\n *\r\n */\r\nhandleMultiSelect (e: MouseEvent) {\r\n  if (e.target instanceof HTMLTableCellElement || e.target instanceof HTMLTableRowElement || e.target instanceof HTMLDivElement) {\r\n    this.tempListBoxComboBoxEvent = e\r\n    const targetElement = e.target\r\n    const tempData = targetElement.parentElement!.children[0] as HTMLDivElement\r\n    const tempDataOption = targetElement.parentElement!.children[1] as HTMLDivElement\r\n    const tempPath = e.composedPath()\r\n    targetElement.focus()\r\n    let data = targetElement.innerText\r\n    let splitData = data.replace(/\\t/g, ' ').split(' ')\r\n    if (this.data.properties.ListStyle === 0) {\r\n      this.selectionData[0] = tempData.innerText\r\n    } else {\r\n      this.selectionData[0] = tempDataOption.innerText\r\n    }\r\n    if (this.properties.Enabled && this.properties.Locked === false) {\r\n      if (this.properties.MultiSelect === 0) {\r\n        if (this.properties.ControlSource !== '') {\r\n          this.updateDataModel({ propertyName: 'Text', value: this.selectionData[0] })\r\n          this.updateDataModel({ propertyName: 'Value', value: this.selectionData[0] })\r\n        }\r\n        this.clearOptionBGColorAndChecked(e)\r\n        this.setOptionBGColorAndChecked(e)\r\n        let isListStyle = 0\r\n        if (this.properties.TextColumn === -1 || this.properties.TextColumn === 1) {\r\n        // 0th index is empty string\r\n          if (this.properties.ListStyle === 0) {\r\n            isListStyle = -1\r\n          }\r\n          this.updateDataModel({ propertyName: 'Text', value: splitData[1 - isListStyle] })\r\n          this.updateDataModel({ propertyName: 'Value', value: splitData[1 - isListStyle] })\r\n        } else if (this.properties.TextColumn === 0) {\r\n          this.updateDataModel({ propertyName: 'Text', value: splitData[2 - isListStyle] })\r\n          this.updateDataModel({ propertyName: 'Value', value: splitData[1 - isListStyle] })\r\n        } else {\r\n          this.updateDataModel({ propertyName: 'Text', value: splitData[this.properties.TextColumn!] })\r\n          this.updateDataModel({ propertyName: 'Value', value: splitData[1 - isListStyle] })\r\n        }\r\n      } else if (this.properties.MultiSelect === 1) {\r\n        if (targetElement.tagName === 'INPUT') {\r\n          this.setOptionBGColorAndChecked(e)\r\n        } else {\r\n          this.setOptionBGColorAndChecked(e)\r\n        }\r\n      } else if (this.properties.MultiSelect === 2) {\r\n        if (e.ctrlKey === true) {\r\n          if (targetElement.tagName === 'INPUT') {\r\n            this.setOptionBGColorAndChecked(e)\r\n          } else {\r\n            this.setOptionBGColorAndChecked(e)\r\n          }\r\n        } else if (e.shiftKey === true && this.properties.Value !== '') {\r\n          let startPoint = 0\r\n          let endPoint = 0\r\n          for (let i = 0; i < tempPath.length; i++) {\r\n            const ele = tempPath[i] as HTMLDivElement\r\n            if (ele.className === 'table-body') {\r\n            // extend points start and end\r\n              for (let j = 0; j < ele.childNodes.length; j++) {\r\n                const cd = ele.childNodes[j] as HTMLDivElement\r\n                if (cd.innerText === this.properties.Value) {\r\n                  startPoint = j + 1\r\n                }\r\n                if (cd.innerText === targetElement.innerText) {\r\n                  endPoint = j\r\n                }\r\n              }\r\n              // upward selection start and end swap\r\n              if (startPoint > endPoint) {\r\n                let temp = startPoint\r\n                startPoint = endPoint\r\n                endPoint = temp\r\n              }\r\n              // setting selection\r\n              for (let k = startPoint; k <= endPoint; k++) {\r\n                const node = ele.childNodes[k] as HTMLDivElement\r\n                const tempNode = node.childNodes[0].childNodes[0] as HTMLInputElement\r\n                node.style.backgroundColor = 'rgb(59, 122, 231)'\r\n                if (\r\n                  this.properties.ListStyle === 1 &&\r\n             !tempNode.checked\r\n                ) {\r\n                // tempNode.checked = !tempNode.checked\r\n                  tempNode.checked = true\r\n                }\r\n              }\r\n              break\r\n            }\r\n          }\r\n        } else {\r\n          this.clearOptionBGColorAndChecked(e)\r\n          this.setOptionBGColorAndChecked(e)\r\n          this.updateDataModel({ propertyName: 'Value', value: targetElement.innerText })\r\n        }\r\n      } else {\r\n        if (this.properties.ControlSource !== '') {\r\n          this.updateDataModel({ propertyName: 'Text', value: this.selectionData[0] })\r\n          this.updateDataModel({ propertyName: 'Value', value: this.selectionData[0] })\r\n        }\r\n        this.clearOptionBGColorAndChecked(e)\r\n        this.setOptionBGColorAndChecked(e)\r\n        let isListStyle = 0\r\n        if (this.properties.TextColumn === -1 || this.properties.TextColumn === 1) {\r\n          if (this.properties.ListStyle === 0) {\r\n            isListStyle = -1\r\n          }\r\n          this.updateDataModel({ propertyName: 'Text', value: splitData[1 - isListStyle] })\r\n          this.updateDataModel({ propertyName: 'Value', value: splitData[1 - isListStyle] })\r\n        } else if (this.properties.TextColumn === 0) {\r\n          this.updateDataModel({ propertyName: 'Text', value: splitData[2 - isListStyle] })\r\n          this.updateDataModel({ propertyName: 'Value', value: splitData[1 - isListStyle] })\r\n        } else {\r\n          this.updateDataModel({ propertyName: 'Text', value: splitData[this.properties.TextColumn!] })\r\n          this.updateDataModel({ propertyName: 'Value', value: splitData[1 - isListStyle] })\r\n        }\r\n      }\r\n    }\r\n  } else {\r\n    if (this.properties.MultiSelect !== 1) {\r\n      this.clearOptionBGColorAndChecked(e)\r\n    }\r\n    this.setOptionBGColorAndChecked(e)\r\n  }\r\n  const a = e.currentTarget! as HTMLDivElement\r\n  this.selectionData[0] = a.innerText\r\n  this.updateDataModel({ propertyName: 'Value', value: a.innerText[0] })\r\n  this.updateDataModel({ propertyName: 'Text', value: a.innerText[0] })\r\n}\r\n/**\r\n * @description updates the dataModel listBox object properties when keydown\r\n * @function handleExtendArrowKeySelect\r\n * @param event its of type KeyboardEvent\r\n * @event keydown\r\n *\r\n */\r\nhandleExtendArrowKeySelect (e: KeyboardEvent) {\r\n  const x = e.key.toUpperCase().charCodeAt(0)\r\n  const tempPath = e.composedPath()\r\n  const eventTarget = e.target as HTMLTableRowElement\r\n  const nextSiblingEvent = eventTarget.nextSibling as HTMLDivElement\r\n  const prevSiblingEvent = eventTarget.previousSibling as HTMLDivElement\r\n  if (\r\n   this.properties.MatchEntry! === 0 &&\r\n   x >= 48 && x <= 90\r\n  ) {\r\n    this.matchEntry = []\r\n    const prevMatchData =\r\n   this.extraDatas.MatchData === '' ? e.key : this.extraDatas.MatchData\r\n    this.updateDataModelExtraData({ propertyName: 'MatchData', value: prevMatchData !== e.key ? e.key : prevMatchData })\r\n\r\n    for (let index = 0; index < tempPath.length; index++) {\r\n      const element = tempPath[index] as HTMLDivElement\r\n      if (element.className === 'table-body') {\r\n        for (let index = 0; index < element.childNodes.length; index++) {\r\n          const ei = element.childNodes[index] as HTMLDivElement\r\n          let splitData = ei.innerText.replace(/\\t/g, ' ').split(' ')\r\n          let si = 0\r\n          if (this.properties.ListStyle === 0) {\r\n            si = -1\r\n          }\r\n          if (splitData[si + 1][0].includes(this.extraDatas.MatchData!)) {\r\n            this.matchEntry.push(index)\r\n          }\r\n        }\r\n\r\n        if (\r\n         this.extraDatas.MatchData![0] !== undefined &&\r\n         this.extraDatas.MatchData![0] === e.key &&\r\n         this.extraDatas.MatchData!.length > 0\r\n        ) {\r\n          const tempChildNode = element.childNodes[this.matchEntry[this.matchIndex]] as HTMLDivElement\r\n          this.matchIndex++\r\n          if (\r\n            this.matchIndex === this.matchEntry.length &&\r\n           prevMatchData === this.extraDatas.MatchData\r\n          ) {\r\n            this.matchIndex = 0\r\n            this.clearOptionBGColorAndChecked(e)\r\n            this.setBGandCheckedForMatch(\r\n              tempChildNode\r\n            )\r\n            break\r\n          } else if (prevMatchData !== this.extraDatas.MatchData) {\r\n            this.matchIndex = 0\r\n            this.clearOptionBGColorAndChecked(e)\r\n            this.setBGandCheckedForMatch(\r\n              tempChildNode\r\n            )\r\n            break\r\n          } else {\r\n            if (this.matchEntry.length === 0) {\r\n              this.matchEntry.push(0)\r\n              this.matchIndex = 0\r\n            }\r\n            this.clearOptionBGColorAndChecked(e)\r\n            this.setBGandCheckedForMatch(\r\n              tempChildNode\r\n            )\r\n            break\r\n          }\r\n        }\r\n        break\r\n      }\r\n    }\r\n  } else if (\r\n    this.properties.MatchEntry === 1 &&\r\n    x >= 48 && x <= 90\r\n  ) {\r\n    let temp = this.extraDatas.MatchData + e.key\r\n    this.updateDataModelExtraData({ propertyName: 'MatchData', value: temp })\r\n\r\n    for (let point = 0; point < tempPath.length; point++) {\r\n      const tbody = tempPath[point] as HTMLDivElement\r\n      if (tbody.className === 'table-body') {\r\n        this.matchEntry = []\r\n        for (let p = 0; p < tbody.childNodes.length; p++) {\r\n          const ei = tbody.childNodes[p] as HTMLDivElement\r\n          let matchEntryComplete = ei.innerText\r\n            .replace(/\\t/g, ' ')\r\n            .split(' ')\r\n          let sii = 0\r\n          if (this.properties.ListStyle === 0) {\r\n            sii = -1\r\n          }\r\n          if (\r\n            matchEntryComplete[sii + 1][0].includes(this.extraDatas.MatchData!) &&\r\n           this.extraDatas.MatchData!.length < 2\r\n          ) {\r\n            this.matchEntry.push(p)\r\n          } else if (\r\n            matchEntryComplete[sii + 1].includes(this.extraDatas.MatchData!) &&\r\n           this.extraDatas.MatchData!.length > 1\r\n          ) {\r\n            this.matchEntry.push(p)\r\n          }\r\n        }\r\n\r\n        if (this.extraDatas.MatchData!.length <= 1) {\r\n          let singleMatch = tbody.childNodes[this.matchEntry[0]] as HTMLDivElement\r\n          this.clearOptionBGColorAndChecked(e)\r\n          this.setBGandCheckedForMatch(singleMatch)\r\n          break\r\n        } else if (\r\n         this.extraDatas.MatchData!.length > 1 &&\r\n         this.matchEntry.length !== 0\r\n        ) {\r\n          let completeAutoMatch = tbody.childNodes[this.matchEntry[0]] as HTMLDivElement\r\n          this.clearOptionBGColorAndChecked(e)\r\n          this.setBGandCheckedForMatch(completeAutoMatch)\r\n        }\r\n        break\r\n      }\r\n    }\r\n  }\r\n  if (\r\n    e.key === 'ArrowDown' &&\r\n   e.shiftKey === true &&\r\n   (nextSiblingEvent !== null || prevSiblingEvent.nextSibling !== null)\r\n  ) {\r\n    let currentElement: HTMLDivElement\r\n    if (nextSiblingEvent === null) {\r\n      currentElement = prevSiblingEvent.nextSibling! as HTMLDivElement\r\n    } else {\r\n      currentElement = nextSiblingEvent\r\n    }\r\n    if (this.properties.MultiSelect === 2) {\r\n      if (eventTarget.style.backgroundColor !== 'rgb(59, 122, 231)') {\r\n        this.setOptionBGColorAndChecked(e)\r\n      } else if (\r\n        eventTarget.style.backgroundColor === 'rgb(59, 122, 231)' &&\r\n        currentElement!.style.backgroundColor !== ''\r\n      ) {\r\n        this.setOptionBGColorAndChecked(e)\r\n      } else if (eventTarget.nextSibling!.nextSibling !== null) {\r\n        this.setBGColorForNextSibling(e)\r\n      } else if (\r\n      eventTarget.nextSibling!.nextSibling === null &&\r\n      currentElement!.style.backgroundColor !== 'rgb(59, 122, 231)'\r\n      ) {\r\n        this.setBGColorForNextSibling(e)\r\n      }\r\n        currentElement!.focus()\r\n    }\r\n  } else if (\r\n    e.key === 'ArrowUp' &&\r\n   e.shiftKey === true &&\r\n   (prevSiblingEvent !== null || nextSiblingEvent.previousSibling !== null)\r\n  ) {\r\n    let currentElement: HTMLDivElement\r\n    if (prevSiblingEvent === null) {\r\n      currentElement = nextSiblingEvent.previousSibling! as HTMLDivElement\r\n    } else {\r\n      currentElement = prevSiblingEvent\r\n    }\r\n    if (this.properties.MultiSelect === 2) {\r\n      if (\r\n        eventTarget.style.backgroundColor === 'rgb(59, 122, 231)' &&\r\n        currentElement.style.backgroundColor !== ''\r\n      ) {\r\n        this.setOptionBGColorAndChecked(e)\r\n      } else if (eventTarget.previousSibling!.previousSibling !== null) {\r\n        this.setBGColorForPreviousSibling(e)\r\n      } else if (\r\n        eventTarget.previousSibling!.previousSibling === null &&\r\n        currentElement.style.backgroundColor !== 'rgb(59, 122, 231)'\r\n      ) {\r\n        this.setBGColorForPreviousSibling(e)\r\n      }\r\n      currentElement.focus()\r\n    }\r\n  }\r\n  // }\r\n}\r\n\r\n/**\r\n* @description updates the dataModel listBox object properties when mouseenter\r\n* @function handleDrag\r\n* @param event its of type MouseEvent\r\n* @event mouseenter\r\n*\r\n*/\r\nhandleDrag (e: MouseEvent) {\r\n  const etarget = e.target as HTMLDivElement\r\n  if (this.properties.MultiSelect === 2) {\r\n    if (e.which === 1) {\r\n      if (etarget.style.backgroundColor === 'rgb(59, 122, 231)') {\r\n        this.unselectBGColorAndchecked(e)\r\n      } else {\r\n        this.setOptionBGColorAndChecked(e)\r\n      }\r\n    }\r\n   window.getSelection()!.removeAllRanges()\r\n  }\r\n}\r\n\r\n/**\r\n* @description set Background Color for next siblings\r\n* @function setBGColorForNextSibling\r\n* @param event its of type MouseEvent or KeyboardEvent\r\n*/\r\nsetBGColorForNextSibling (e: MouseEvent | KeyboardEvent) {\r\n  if (e.target instanceof HTMLTableCellElement || e.target instanceof HTMLDivElement) {\r\n    const targetEvent = e.target\r\n    const nextSiblingEvent = targetEvent.nextSibling as HTMLDivElement\r\n    const nextSiblingCheckedEvent = nextSiblingEvent.children[0].childNodes[0] as HTMLInputElement\r\n    nextSiblingEvent.style.backgroundColor =\r\n   nextSiblingEvent.style.backgroundColor === 'rgb(59, 122, 231)'\r\n     ? ''\r\n     : 'rgb(59, 122, 231)'\r\n    if (\r\n      this.properties.ListStyle === 1 &&\r\n   this.properties.MultiSelect === 2\r\n    ) {\r\n      nextSiblingCheckedEvent.checked = !nextSiblingCheckedEvent.checked\r\n    }\r\n  }\r\n}\r\n\r\n/**\r\n* @description set Background Color foe previous siblings\r\n* @function setBGColorForPreviousSibling\r\n* @param event its of type MouseEvent or KeyboardEvent\r\n*/\r\nsetBGColorForPreviousSibling (e: KeyboardEvent) {\r\n  if (e.target instanceof HTMLTableCellElement || e.target instanceof HTMLTableRowElement || e.target instanceof HTMLDivElement) {\r\n    const targetEvent = e.target\r\n    const prevSiblingEvent = targetEvent.previousSibling as HTMLDivElement\r\n    const prevSiblingCheckedEvent = prevSiblingEvent.children[0].childNodes[0] as HTMLInputElement\r\n    prevSiblingEvent.style.backgroundColor =\r\n   prevSiblingEvent.style.backgroundColor === 'rgb(59, 122, 231)'\r\n     ? ''\r\n     : 'rgb(59, 122, 231)'\r\n    if (\r\n      this.properties.ListStyle === 1 &&\r\n   this.properties.MultiSelect === 2\r\n    ) {\r\n      prevSiblingCheckedEvent.checked = !prevSiblingCheckedEvent.checked\r\n    }\r\n  }\r\n}\r\n\r\n/**\r\n* @description clear selected option for SingleSelection\r\n* @function clearOptionBGColorAndChecked\r\n* @param event\r\n*/\r\nclearOptionBGColorAndChecked (e: any) {\r\n  if (this.data.type === 'ComboBox') {\r\n    for (let i = 0; i < e.path.length; i++) {\r\n      if (e.path[i].className === 'tBodyStyle') {\r\n        for (let j = 0; j < e.path[i].children.length; j++) {\r\n          e.path[i].children[j].style.backgroundColor = ''\r\n        }\r\n      }\r\n    }\r\n  }\r\n  const tempPath = e.path\r\n  if (tempPath && tempPath.length > 0) {\r\n    for (let index = 0; index < tempPath.length; index++) {\r\n      const element = tempPath[index] as HTMLDivElement\r\n      if (element.className === 'table-body') {\r\n        for (\r\n          let childIndex = 0;\r\n          childIndex < element.childNodes.length;\r\n          childIndex++\r\n        ) {\r\n          const childNode = element.childNodes[childIndex] as HTMLDivElement\r\n          childNode.style.backgroundColor = ''\r\n          const ChildChecked = childNode.childNodes[0].childNodes[0] as HTMLInputElement\r\n          if (ChildChecked && this.properties.ListStyle === 1) {\r\n            ChildChecked.checked = false\r\n          }\r\n        }\r\n        break\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\n/**\r\n* @description handle setting backgroundColor and option checked/not\r\n* @function setOptionBGColorAndChecked\r\n* @param event KeyboardEvent or MouseEvent\r\n*/\r\nsetOptionBGColorAndChecked (e: KeyboardEvent | MouseEvent) {\r\n  const currentTargetElement = e.currentTarget as HTMLDivElement\r\n  const childNodeChecked = currentTargetElement.children[0].childNodes[0] as HTMLInputElement\r\n  if (this.data.type === 'ComboBox') {\r\n    currentTargetElement.style.backgroundColor =\r\n   currentTargetElement.style.backgroundColor === 'rgb(59, 122, 231)'\r\n     ? ''\r\n     : 'rgb(59, 122, 231)'\r\n  }\r\n  if (this.data.type === 'ComboBox') {\r\n    childNodeChecked.checked = !childNodeChecked.checked\r\n  }\r\n  if ((e.target instanceof HTMLDivElement || e.target instanceof HTMLTableCellElement || e.target instanceof HTMLTableRowElement || e.target instanceof HTMLInputElement)) {\r\n    const targetEvent = e.target\r\n    if (this.data.type === 'ComboBox') {\r\n      currentTargetElement.style.backgroundColor = ''\r\n    }\r\n    if (\r\n      this.properties.ListStyle === 1 &&\r\n   this.properties.MultiSelect === 0\r\n    ) {\r\n      childNodeChecked.checked = !childNodeChecked.checked\r\n      if (childNodeChecked.checked === true) {\r\n        currentTargetElement.style.backgroundColor = 'rgb(59, 122, 231)'\r\n      } else {\r\n        currentTargetElement.style.backgroundColor = ''\r\n      }\r\n    } else {\r\n      childNodeChecked.checked = !childNodeChecked.checked\r\n      if (this.properties.MultiSelect === 0) {\r\n        currentTargetElement.style.backgroundColor = 'rgb(59, 122, 231)'\r\n        if (this.properties.ListStyle === 1) {\r\n          if (childNodeChecked.checked) {\r\n            currentTargetElement.style.backgroundColor = 'rgb(59, 122, 231)'\r\n          }\r\n        }\r\n      } else if (this.properties.MultiSelect === 1) {\r\n        if (currentTargetElement.style.backgroundColor === 'rgb(59, 122, 231)') {\r\n          currentTargetElement.style.backgroundColor = ''\r\n          if (this.properties.ListStyle === 1) {\r\n            if (childNodeChecked.checked) {\r\n              currentTargetElement.style.backgroundColor = 'rgb(59, 122, 231)'\r\n            } else {\r\n              currentTargetElement.style.backgroundColor = ''\r\n            }\r\n          }\r\n        } else {\r\n          currentTargetElement.style.backgroundColor = 'rgb(59, 122, 231)'\r\n          if (this.properties.ListStyle === 1) {\r\n            if (childNodeChecked.checked) {\r\n              currentTargetElement.style.backgroundColor = 'rgb(59, 122, 231)'\r\n            }\r\n          }\r\n        }\r\n      } else if (this.properties.MultiSelect === 2) {\r\n        childNodeChecked.checked = true\r\n        currentTargetElement.style.backgroundColor = 'rgb(59, 122, 231)'\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\nunselectBGColorAndchecked (e: KeyboardEvent | MouseEvent) {\r\n  const currentTargetElement = e.currentTarget as HTMLDivElement\r\n  const childNodeChecked = currentTargetElement.children[0].childNodes[0] as HTMLInputElement\r\n  if (this.properties.MultiSelect === 2) {\r\n    childNodeChecked.checked = false\r\n    currentTargetElement.style.backgroundColor = ''\r\n  }\r\n}\r\n\r\n/**\r\n* @description set BGColor and Checked matchEntry\r\n* @function setBGandCheckedForMatch\r\n* @param singleMatch which is an HTMLDivElement\r\n*/\r\nsetBGandCheckedForMatch (singleMatch: HTMLDivElement) {\r\n  if (singleMatch !== undefined) {\r\n    singleMatch.style.backgroundColor = 'rgb(59, 122, 231)'\r\n    if ((this.properties.ListStyle === 1)) {\r\n      const tempNode = singleMatch.childNodes[0].childNodes[0] as HTMLInputElement\r\n      tempNode.checked = !tempNode.checked\r\n    }\r\n  }\r\n}\r\n\r\nget setFontStyle () {\r\n  const tempFontStyle = this.properties.Font!.FontStyle!.toLowerCase()\r\n  if (tempFontStyle.includes(this.properties.Font!.FontName!.toLowerCase())) {\r\n    if (tempFontStyle.includes('italic')) {\r\n      this.isItalic = true\r\n    } else {\r\n      this.isItalic = false\r\n    }\r\n    if (tempFontStyle.split(' ').indexOf('bold') > -1) {\r\n      this.tempWeight = 'bold'\r\n    } else if (tempFontStyle.includes('black')) {\r\n      this.tempWeight = '900'\r\n    } else if (tempFontStyle.split(' ').indexOf('light') > -1) {\r\n      this.tempWeight = 'lighter'\r\n    } else if (tempFontStyle.includes('semibold')) {\r\n      this.tempWeight = '540'\r\n    } else if (tempFontStyle.includes('semilight')) {\r\n      this.tempWeight = '300'\r\n    } else {\r\n      this.tempWeight = '400'\r\n    }\r\n    if (tempFontStyle.split(' ').indexOf('condensed') > -1) {\r\n      this.tempStretch = 'condensed'\r\n    } else if (tempFontStyle.includes('semicondensed')) {\r\n      this.tempStretch = 'semi-condensed'\r\n    } else if (tempFontStyle.includes('narrow')) {\r\n      this.tempStretch = 'ultra-condensed'\r\n    } else {\r\n      this.tempStretch = 'normal'\r\n    }\r\n    return this.properties.Font!.FontName!\r\n  } else {\r\n    this.isItalic = false\r\n    this.tempWeight = '400'\r\n    this.tempStretch = 'normal'\r\n    return this.properties.Font!.FontName!\r\n  }\r\n}\r\n@Emit('parentConextMenu')\r\nparentConextMenu (event: MouseEvent) {\r\n  return event\r\n}\r\nopenTextContextMenu (event: MouseEvent) {\r\n  EventBus.$emit('openTextContextMenu', event, this.controlId)\r\n}\r\nget spanStyleObj () {\r\n  const controlProp = this.properties\r\n  const font: font = controlProp.Font\r\n    ? controlProp.Font\r\n    : {\r\n      FontName: 'Arial',\r\n      FontSize: 20,\r\n      FontItalic: true,\r\n      FontBold: true,\r\n      FontUnderline: true,\r\n      FontStrikethrough: true\r\n    }\r\n  return {\r\n    textDecoration:\r\n      font.FontStrikethrough === true && font.FontUnderline === true\r\n        ? 'underline line-through'\r\n        : font.FontUnderline\r\n          ? 'underline'\r\n          : font.FontStrikethrough\r\n            ? 'line-through'\r\n            : '',\r\n    color: !this.properties.Enabled ? 'gray' : ''\r\n  }\r\n}\r\npositionLogo (value:any) {\r\n  let style = {\r\n    order: Number(),\r\n    alignItems: '',\r\n    transform: '',\r\n    top: '',\r\n    left: '',\r\n    position: '',\r\n    display: 'inline-flex',\r\n    width: '',\r\n    justifyContent: ''\r\n  }\r\n  this.reverseStyle = {\r\n    display: '',\r\n    flexDirection: '',\r\n    justifyItems: '',\r\n    position: '',\r\n    justifyContent: 'center',\r\n    alignItems: '',\r\n    width: '',\r\n    alignSelf: 'center'\r\n  }\r\n  this.imagePos.alignSelf = ''\r\n  this.reverseStyle.display = 'flex'\r\n  switch (value) {\r\n    case 0: break\r\n    case 1: style.alignItems = 'center'\r\n      this.imagePos.alignSelf = 'center'\r\n      break\r\n    case 2: style.alignItems = 'flex-end'\r\n      this.reverseStyle.alignItems = 'flex-end'\r\n      break\r\n    case 3: this.reverseStyle.flexDirection = 'row-reverse'\r\n      break\r\n    case 4: this.reverseStyle.flexDirection = 'row-reverse'\r\n      style.alignItems = 'center'\r\n      this.imagePos.alignSelf = 'center'\r\n      break\r\n    case 5: this.reverseStyle.flexDirection = 'row-reverse'\r\n      style.alignItems = 'flex-end'\r\n      this.reverseStyle.alignItems = 'flex-end'\r\n      break\r\n    case 6: this.reverseStyle.display = 'grid'\r\n      break\r\n    case 7: this.reverseStyle.display = 'grid'\r\n      this.reverseStyle.justifyItems = 'center'\r\n      break\r\n    case 8: this.reverseStyle.display = 'grid'\r\n      this.reverseStyle.justifyItems = 'end'\r\n      break\r\n    case 9: this.reverseStyle.display = 'grid'\r\n      style.order = -1\r\n      break\r\n    case 10: this.reverseStyle.display = 'grid'\r\n      this.reverseStyle.justifyItems = 'center'\r\n      style.order = -1\r\n      break\r\n    case 11: this.reverseStyle.display = 'grid'\r\n      this.reverseStyle.justifyItems = 'end'\r\n      style.order = -1\r\n      break\r\n    case 12: this.reverseStyle.position = 'relative'\r\n      this.reverseStyle.width = '100%'\r\n      style.position = 'absolute'\r\n      style.top = '50%'\r\n      style.left = '50%'\r\n      style.transform = 'translate(-50%, -50%)'\r\n      style.justifyContent = 'center'\r\n      style.width = 'fit-content'\r\n      break\r\n    default:\r\n  }\r\n  this.labelStyle = style\r\n}\r\npictureSize () {\r\n  const imgStyle = {\r\n    width: 'fit-content',\r\n    height: 'fit-content',\r\n    filter: '',\r\n    maxWidth: '100%'\r\n  }\r\n  if (this.properties.Picture) {\r\n    Vue.nextTick(() => {\r\n      // const imgProp = document.getElementById('img')\r\n      imgStyle.width = this.properties.Width! <= this.imageRef!.naturalWidth ? `${this.properties.Width}px` : 'fit-content'\r\n      imgStyle.height = this.properties.Height! <= this.imageRef!.naturalHeight ? `${this.properties.Height}px` : 'fit-content'\r\n      if (this.properties.PicturePosition === 9 || this.properties.PicturePosition === 10 || this.properties.PicturePosition === 11) {\r\n        this.imageRef.scrollIntoView(true)\r\n      }\r\n      imgStyle.filter = !this.properties.Enabled ? 'sepia(0) grayscale(1) blur(3px) opacity(0.2)' : ''\r\n    })\r\n  }\r\n  this.imageProperty = imgStyle\r\n}\r\nonPictureLoad () {\r\n  const imgStyle = {\r\n    width: 'auto',\r\n    height: 'auto'\r\n  }\r\n  this.imageProperty = imgStyle\r\n  this.pictureSize()\r\n}\r\nlabelAlignment () {\r\n  let { picPosLeftRight, picPosTopBottom, imgHeight, labelHeight } = this.setHeightWidthVariable()\r\n  let totalHeight = {\r\n    height: 0\r\n  }\r\n\r\n  if (picPosLeftRight.includes(this.properties.PicturePosition!)) {\r\n    totalHeight.height = labelHeight\r\n  } else if (picPosTopBottom.includes(this.properties.PicturePosition!)) {\r\n    totalHeight.height = imgHeight + labelHeight\r\n  } else if (this.properties.PicturePosition! === 12) {\r\n    totalHeight.height = imgHeight >= labelHeight ? imgHeight : labelHeight\r\n  }\r\n\r\n  this.reverseStyle.alignSelf = 'inherit'\r\n  if (this.imageRef && this.imageRef.naturalHeight > this.properties.Height!) {\r\n    this.reverseStyle.alignSelf = 'inherit'\r\n  } else {\r\n    let logoProp = this.logoRef\r\n    if (this.properties.Width! > logoProp!.clientWidth && this.properties.Height! > totalHeight.height && ((this.imageRef && this.imageRef.naturalHeight) < this.properties.Height! || (this.imageRef && this.imageRef.naturalWidth) < this.properties.Width!)) {\r\n      this.reverseStyle.alignSelf = 'center'\r\n    }\r\n  }\r\n}\r\ngetWidthHeight () {\r\n  let widthHeightData = {\r\n    width: 0,\r\n    height: 0\r\n  }\r\n  let { picPosLeftRight, picPosTopBottom, controlWidthIncrease, imgHeight, imgWidth, labelHeight, labelWidth } = this.setHeightWidthVariable()\r\n  let componentRef = this.componentRef\r\n  if (this.properties.Picture) {\r\n    if (picPosLeftRight.includes(this.properties.PicturePosition!)) {\r\n      if (imgHeight >= labelHeight) {\r\n        widthHeightData.height = imgHeight\r\n      } else {\r\n        widthHeightData.height = labelHeight\r\n      }\r\n      widthHeightData.width = (imgWidth + labelWidth)\r\n    } else if (picPosTopBottom.includes(this.properties.PicturePosition!)) {\r\n      if (imgWidth >= labelWidth) {\r\n        widthHeightData.width = imgWidth\r\n      } else {\r\n        widthHeightData.width = labelWidth\r\n      }\r\n      widthHeightData.height = imgHeight + labelHeight\r\n    } else if (this.properties.PicturePosition! === 12) {\r\n      widthHeightData.width = imgWidth >= labelWidth ? imgWidth : labelWidth\r\n      widthHeightData.height = imgHeight >= labelHeight ? imgHeight : labelHeight\r\n    }\r\n  } else {\r\n    widthHeightData.width = labelWidth + 5\r\n    widthHeightData.height = labelHeight\r\n  }\r\n  if (this.checkForWidthIncrease(controlWidthIncrease)) {\r\n    widthHeightData.width = widthHeightData.width + 15\r\n  } else if (this.properties.WordWrap) {\r\n    widthHeightData.width = (((widthHeightData.width + 20) < componentRef!.clientWidth) || (imgWidth > componentRef!.clientWidth)) ? widthHeightData.width : componentRef!.clientWidth\r\n  }\r\n  return widthHeightData\r\n}\r\ncheckForWidthIncrease (controlArr:Array<string>) {\r\n  for (let val of controlArr) {\r\n    if (this.properties.Name!.toLowerCase().includes(val)) {\r\n      return true\r\n    }\r\n  }\r\n  return false\r\n}\r\n\r\nsetHeightWidthVariable () {\r\n  const picPosLeftRight = [0, 1, 2, 3, 4, 5]\r\n  const picPosTopBottom = [6, 7, 8, 9, 10, 11]\r\n  const controlWidthIncrease = ['optionbutton', 'checkbox']\r\n  const imgHeight = this.imageRef && this.imageRef.naturalHeight\r\n  const imgWidth = this.imageRef && this.imageRef.naturalWidth\r\n  let labelHeight = 0\r\n  let labelWidth = 0\r\n  // calcluate text height\r\n  if (this.textSpanRef && this.textSpanRef.offsetHeight) {\r\n    labelHeight = this.textSpanRef.offsetHeight\r\n  } else if ((this.editableTextRef.$el as HTMLSpanElement) && (this.editableTextRef.$el as HTMLSpanElement).offsetHeight) {\r\n    labelHeight = (this.editableTextRef.$el as HTMLSpanElement).offsetHeight\r\n  }\r\n  // calcuate text width\r\n  if (this.textSpanRef && this.textSpanRef.offsetWidth) {\r\n    labelWidth = this.textSpanRef.offsetWidth\r\n  } else if ((this.editableTextRef.$el as HTMLSpanElement) && (this.editableTextRef.$el as HTMLSpanElement).offsetWidth) {\r\n    labelWidth = (this.editableTextRef.$el as HTMLSpanElement).offsetWidth\r\n  }\r\n\r\n  return { picPosLeftRight, picPosTopBottom, controlWidthIncrease, imgHeight, imgWidth, labelHeight, labelWidth }\r\n}\r\n}\r\n"],"sourceRoot":""}]}