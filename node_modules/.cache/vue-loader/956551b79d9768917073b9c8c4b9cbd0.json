{"remainingRequest":"/home/mobiotics/Projects/hancom/FormcontrolLatest/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/mobiotics/Projects/hancom/FormcontrolLatest/src/FormDesigner/components/atoms/FDComboBox/index.vue?vue&type=script&lang=ts&","dependencies":[{"path":"/home/mobiotics/Projects/hancom/FormcontrolLatest/src/FormDesigner/components/atoms/FDComboBox/index.vue","mtime":1612349293859},{"path":"/home/mobiotics/Projects/hancom/FormcontrolLatest/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/mobiotics/Projects/hancom/FormcontrolLatest/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/mobiotics/Projects/hancom/FormcontrolLatest/node_modules/ts-loader/index.js","mtime":499162500000},{"path":"/home/mobiotics/Projects/hancom/FormcontrolLatest/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/mobiotics/Projects/hancom/FormcontrolLatest/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKDQppbXBvcnQgew0KICBDb21wb25lbnQsDQogIFZ1ZSwNCiAgUHJvcCwNCiAgTWl4aW5zLA0KICBXYXRjaCwNCiAgUmVmDQp9IGZyb20gJ3Z1ZS1wcm9wZXJ0eS1kZWNvcmF0b3InDQppbXBvcnQgRmRDb250cm9sVnVlIGZyb20gJ0AvYXBpL2Fic3RyYWN0L0Zvcm1EZXNpZ25lci9GZENvbnRyb2xWdWUnDQpAQ29tcG9uZW50KHsNCiAgbmFtZTogJ0ZEQ29tYm9Cb3gnDQp9KQ0KZXhwb3J0IGRlZmF1bHQgY2xhc3MgRkRDb21ib0JveCBleHRlbmRzIE1peGlucyhGZENvbnRyb2xWdWUpIHsNCiAgJGVsITogSFRNTERpdkVsZW1lbnQ7DQogIEBSZWYoJ3RleHRhcmVhUmVmJykgdGV4dGFyZWFSZWY6IEhUTUxUZXh0QXJlYUVsZW1lbnQ7DQogIEBSZWYoJ2F1dG9TaXplVGV4dGFyZWEnKSByZWFkb25seSBhdXRvU2l6ZVRleHRhcmVhITogSFRNTExhYmVsRWxlbWVudDsNCiAgQFJlZignaGlkZVNlbGVjdGlvbkRpdicpIHJlYWRvbmx5IGhpZGVTZWxlY3Rpb25EaXYhOiBIVE1MRGl2RWxlbWVudDsNCiAgQFJlZignY29tYm9SZWYnKSBjb21ib1JlZiE6IEhUTUxEaXZFbGVtZW50Ow0KICBAUmVmKCdpdGVtc1JlZicpIGl0ZW1zUmVmITogSFRNTERpdkVsZW1lbnQ7DQogIEBSZWYoJ3RyUmVmJykgdHJSZWYhOiBIVE1MRGl2RWxlbWVudDsNCg0KICBwcml2YXRlIHRhYmluZGV4ID0gMDsNCiAgZVRhcmdldFZhbHVlOiBzdHJpbmcgPSAnJzsNCiAgdGVtcEFycmF5OiBBcnJheTxBcnJheTxzdHJpbmc+PiA9IFtdOw0KICBvcGVuOiBib29sZWFuID0gZmFsc2U7DQogIG11bHRpc2VsZWN0ID0gW107DQogIHNlbGVjdGlvblN0YXJ0OiBudW1iZXIgPSAwOw0KICBzZWxlY3Rpb25FbmQ6IG51bWJlciA9IDA7DQogIHRlbXBJbnB1dFZhbHVlOiBzdHJpbmcgPSAnJzsNCiAgdGVtcFdpZHRoOiBzdHJpbmcgPSAnMHB4JzsNCiAgaXNTY3JvbGxpbmc6IGJvb2xlYW4gPSBmYWxzZTsNCiAgdGVtcEhlaWdodDogbnVtYmVyOw0KICBpbkJsdXI6IGJvb2xlYW4gPSBmYWxzZTsNCiAgaGVhZFdpZHRoOiBzdHJpbmcgPSAnMTAwJSc7DQogIGNvbnRyb2xaSW5kZXg6IG51bWJlciA9IC0xOw0KICBuZXdDb2x1bW5XaWR0aHNWYWx1ZTogc3RyaW5nID0gJyc7DQogIG1ha2VPcGVuICgpIHsNCiAgICB0aGlzLm9wZW4gPSB0cnVlDQogIH0NCg0KICB1cGRhdGVDb2x1bW5IZWFkcyAoaW5kZXg6IG51bWJlcikgew0KICAgIGNvbnN0IGNvbnRyb2xQcm9wID0gdGhpcy5wcm9wZXJ0aWVzDQogICAgaWYgKHRoaXMucHJvcGVydGllcy5Sb3dTb3VyY2UgIT09ICcnKSB7DQogICAgICByZXR1cm4gew0KICAgICAgICB0ZXh0QWxpZ246IGNvbnRyb2xQcm9wLlRleHRBbGlnbiA9PT0gMCA/ICdsZWZ0JyA6IGNvbnRyb2xQcm9wLlRleHRBbGlnbiA9PT0gMiA/ICdyaWdodCcgOiAnY2VudGVyJywNCiAgICAgICAgYm9yZGVyUmlnaHQ6IGluZGV4ID49IHRoaXMuZXh0cmFEYXRhcy5Db2x1bW5IZWFkc1ZhbHVlcyEubGVuZ3RoIC0gMSA/ICcnIDogKGluZGV4IDwgY29udHJvbFByb3AuQ29sdW1uQ291bnQhIC0gMSkgPyAnMXB4IHNvbGlkJyA6IGNvbnRyb2xQcm9wLkNvbHVtbkNvdW50ID09PSAtMSA/IChpbmRleCA8IHRoaXMuZXh0cmFEYXRhcy5Sb3dTb3VyY2VEYXRhIVswXS5sZW5ndGggLSAxKSA/ICcxcHggc29saWQnIDogJycgOiAnJywNCiAgICAgICAgb3ZlcmZsb3c6ICdoaWRkZW4nDQogICAgICB9DQogICAgfSBlbHNlIHsNCiAgICAgIHJldHVybiB7DQogICAgICAgIGRpc3BsYXk6ICdub25lJw0KICAgICAgfQ0KICAgIH0NCiAgfQ0KICBjb2x1bW5JdGVtT2JqIChpbmRleDogbnVtYmVyKSB7DQogICAgY29uc3QgY29udHJvbFByb3AgPSB0aGlzLnByb3BlcnRpZXMNCiAgICB0aGlzLnVwZGF0ZUNvbHVtbnMoKQ0KICAgIHJldHVybiB7DQogICAgICBwb3NpdGlvbjogJ3JlbGF0aXZlJywNCiAgICAgIGRpc3BsYXk6ICdpbmxpbmUtYmxvY2snLA0KICAgICAgd2lkdGg6ICcxMDAlJywNCiAgICAgIHRleHRBbGlnbjogY29udHJvbFByb3AuVGV4dEFsaWduID09PSAyID8gJ3JpZ2h0JyA6IGNvbnRyb2xQcm9wLlRleHRBbGlnbiA9PT0gMSA/ICdjZW50ZXInIDogJ2xlZnQnLA0KICAgICAgb3ZlcmZsb3c6ICdoaWRkZW4nLA0KICAgICAgcGFkZGluZ0JvdHRvbTogdGhpcy5kYXRhLnByb3BlcnRpZXMuRm9udCEuRm9udFNpemUhID4gNDggPyAnMTBweCcgOiAnNXB4Jw0KICAgIH0NCiAgfQ0KDQogIEBXYXRjaCgnb3BlbicpDQogIG9wZW5WYWxpZGF0ZSAoKSB7DQogICAgaWYgKHRoaXMub3Blbikgew0KICAgICAgdGhpcy51cGRhdGVEYXRhTW9kZWxFeHRyYURhdGEoeyBwcm9wZXJ0eU5hbWU6ICd6SW5kZXgnLCB2YWx1ZTogLTEgfSkNCiAgICB9IGVsc2Ugew0KICAgICAgdGhpcy51cGRhdGVEYXRhTW9kZWxFeHRyYURhdGEoeyBwcm9wZXJ0eU5hbWU6ICd6SW5kZXgnLCB2YWx1ZTogdGhpcy5jb250cm9sWkluZGV4IH0pDQogICAgfQ0KICAgIGlmICh0aGlzLm9wZW4gJiYgdGhpcy5wcm9wZXJ0aWVzLlJvd1NvdXJjZSAhPT0gJycpIHsNCiAgICAgIFZ1ZS5uZXh0VGljaygoKSA9PiB7DQogICAgICAgIHRoaXMuaGVhZFdpZHRoID0gdGhpcy5jb21ib1JlZi5jaGlsZHJlblsxXS5jaGlsZHJlblswXS5zY3JvbGxXaWR0aCArICdweCcNCiAgICAgIH0pDQogICAgfQ0KICB9DQoNCiAgQFdhdGNoKCdpc0VkaXRNb2RlJykNCiAgZWRpdE1vZGVWYWxpZGF0ZSAoKSB7DQogICAgaWYgKHRoaXMucHJvcGVydGllcy5TaG93RHJvcEJ1dHRvbldoZW4gPT09IDEpIHsNCiAgICAgIGlmICh0aGlzLmlzRWRpdE1vZGUpIHsNCiAgICAgICAgdGhpcy5pc1Zpc2libGUgPSB0cnVlDQogICAgICB9IGVsc2Ugew0KICAgICAgICB0aGlzLmlzVmlzaWJsZSA9IGZhbHNlDQogICAgICB9DQogICAgfQ0KICB9DQogIEBXYXRjaCgncHJvcGVydGllcy5Db2x1bW5XaWR0aHMnKQ0KICBjb2x1bW5XaWR0aHNWYWxpZGF0ZSAoKSB7DQogICAgdGhpcy51cGRhdGVDb2x1bW5zKCkNCiAgfQ0KDQogIEBXYXRjaCgncHJvcGVydGllcy5UZXh0QWxpZ24nKQ0KICB0ZXh0QWxpZ25WYWxpZGF0ZSAoKSB7DQogICAgaWYgKHRoaXMucHJvcGVydGllcy5BdXRvU2l6ZSkgew0KICAgICAgdGhpcy51cGRhdGVBdXRvU2l6ZSgpDQogICAgfQ0KICB9DQogIEBXYXRjaCgncHJvcGVydGllcy5Ecm9wQnV0dG9uU3R5bGUnKQ0KICBkcm9wQnV0dG9uU3R5bGVWYWxpZGF0ZSAoKSB7DQogICAgaWYgKHRoaXMucHJvcGVydGllcy5BdXRvU2l6ZSkgew0KICAgICAgdGhpcy51cGRhdGVBdXRvU2l6ZSgpDQogICAgfQ0KICB9DQogIEBXYXRjaCgncHJvcGVydGllcy5FbmFibGVkJykNCiAgZW5hYmxlZFZhbGlkYXRlICgpIHsNCiAgICBpZiAodGhpcy5wcm9wZXJ0aWVzLkF1dG9TaXplKSB7DQogICAgICB0aGlzLnVwZGF0ZUF1dG9TaXplKCkNCiAgICB9DQogIH0NCiAgQFdhdGNoKCdwcm9wZXJ0aWVzLlNlbGVjdGlvbk1hcmdpbicpDQogIHNlbGVjdGlvbk1hcmdpblZhbGlkYXRlICgpIHsNCiAgICBpZiAodGhpcy5wcm9wZXJ0aWVzLkF1dG9TaXplKSB7DQogICAgICB0aGlzLnVwZGF0ZUF1dG9TaXplKCkNCiAgICB9DQogIH0NCiAgQFdhdGNoKCdwcm9wZXJ0aWVzLlNob3dEcm9wQnV0dG9uV2hlbicpDQogIHNob3dEcm9wQnV0dG9uV2hlblZhbGlkYXRlICgpIHsNCiAgICBpZiAodGhpcy5wcm9wZXJ0aWVzLkF1dG9TaXplKSB7DQogICAgICB0aGlzLnVwZGF0ZUF1dG9TaXplKCkNCiAgICB9DQogIH0NCiAgQFdhdGNoKCdwcm9wZXJ0aWVzLkNvbHVtbkNvdW50JykNCiAgY29sdW1uQ291bnRWYWxpZGF0ZSAoKSB7DQogICAgdGhpcy51cGRhdGVDb2x1bW5zKCkNCiAgfQ0KICBnZXQgdEhlYWRTdHlsZU9iaiAoKSB7DQogICAgcmV0dXJuIHsNCiAgICAgIHdpZHRoOiB0aGlzLmhlYWRXaWR0aA0KICAgIH0NCiAgfQ0KDQogIHVwZGF0ZUNvbHVtbnMgKCkgew0KICAgIGlmICh0aGlzLnByb3BlcnRpZXMuUm93U291cmNlICE9PSAnJykgew0KICAgICAgbGV0IGZpbmFsV2lkdGhzOkFycmF5PG51bWJlcj4gPSBbXQ0KICAgICAgaWYgKHRoaXMuY29tYm9SZWYgJiYgdGhpcy5jb21ib1JlZi5jaGlsZHJlblswXSkgew0KICAgICAgICBpZiAodGhpcy5jb21ib1JlZi5jaGlsZHJlblswXS5jaGlsZHJlblswXSkgew0KICAgICAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgdGhpcy5jb21ib1JlZi5jaGlsZHJlblswXS5jaGlsZHJlblswXS5jaGlsZHJlbi5sZW5ndGg7IGorKykgew0KICAgICAgICAgICAgY29uc3QgaGVhZFdpZHRoID0gdGhpcy5jb21ib1JlZi5jaGlsZHJlblswXS5jaGlsZHJlblswXS5jaGlsZHJlbltqXSBhcyBIVE1MRGl2RWxlbWVudA0KICAgICAgICAgICAgaWYgKHRoaXMucHJvcGVydGllcy5Db2x1bW5Db3VudCEgPT09IC0xKSB7DQogICAgICAgICAgICAgIGlmIChqID49IDAgJiYgaiA8IHRoaXMuZXh0cmFEYXRhcy5Sb3dTb3VyY2VEYXRhIS5sZW5ndGgpIHsNCiAgICAgICAgICAgICAgICBoZWFkV2lkdGguc3R5bGUubWluV2lkdGggPSAnMTAwcHgnDQogICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH0NCiAgICAgICAgICB9DQogICAgICAgIH0NCiAgICAgIH0NCiAgICAgIGlmICh0aGlzLnByb3BlcnRpZXMuQ29sdW1uV2lkdGhzID09PSAnJyAmJiB0aGlzLml0ZW1zUmVmICYmIHRoaXMuY29tYm9SZWYuY2hpbGRyZW5bMV0pIHsNCiAgICAgICAgaWYgKHRoaXMuY29tYm9SZWYuY2hpbGRyZW5bMV0uY2hpbGRyZW5bMF0pIHsNCiAgICAgICAgICBsZXQgdGVtcFdpZHRoDQogICAgICAgICAgaWYgKHRoaXMucHJvcGVydGllcy5Db2x1bW5Db3VudCEgPD0gdGhpcy5leHRyYURhdGFzLlJvd1NvdXJjZURhdGEhWzBdLmxlbmd0aCkgew0KICAgICAgICAgICAgaWYgKHRoaXMucHJvcGVydGllcy5XaWR0aCEgPiAxMDApIHsNCiAgICAgICAgICAgICAgaWYgKHRoaXMucHJvcGVydGllcy5Db2x1bW5Db3VudCEgPT09IC0xKSB7DQogICAgICAgICAgICAgICAgdGVtcFdpZHRoID0gdGhpcy5wcm9wZXJ0aWVzLldpZHRoISAvIHRoaXMuZXh0cmFEYXRhcy5Sb3dTb3VyY2VEYXRhIVswXS5sZW5ndGgNCiAgICAgICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgICAgICB0ZW1wV2lkdGggPSB0aGlzLnByb3BlcnRpZXMuV2lkdGghIC8gdGhpcy5wcm9wZXJ0aWVzLkNvbHVtbkNvdW50IQ0KICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgICB0ZW1wV2lkdGggPSAxMDANCiAgICAgICAgICAgIH0NCiAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgaWYgKHRoaXMucHJvcGVydGllcy5XaWR0aCEgPiAxMDApIHsNCiAgICAgICAgICAgICAgdGVtcFdpZHRoID0gdGhpcy5wcm9wZXJ0aWVzLldpZHRoISAvIHRoaXMuZXh0cmFEYXRhcy5Sb3dTb3VyY2VEYXRhIVswXS5sZW5ndGgNCiAgICAgICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICAgIHRlbXBXaWR0aCA9IDEwMA0KICAgICAgICAgICAgfQ0KICAgICAgICAgIH0NCiAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuY29tYm9SZWYuY2hpbGRyZW5bMV0uY2hpbGRyZW4ubGVuZ3RoOyBpKyspIHsNCiAgICAgICAgICAgIGlmICh0aGlzLnByb3BlcnRpZXMuTGlzdFN0eWxlID09PSAwKSB7DQogICAgICAgICAgICAgIFZ1ZS5uZXh0VGljaygoKSA9PiB7DQogICAgICAgICAgICAgICAgaWYgKHRoaXMuY29tYm9SZWYgJiYgdGhpcy5jb21ib1JlZi5jaGlsZHJlblswXSAmJiB0aGlzLmNvbWJvUmVmLmNoaWxkcmVuWzBdLmNoaWxkcmVuWzBdKSB7DQogICAgICAgICAgICAgICAgICBmb3IgKGxldCBqID0gMDsgaiA8IHRoaXMuY29tYm9SZWYuY2hpbGRyZW5bMF0uY2hpbGRyZW5bMF0uY2hpbGRyZW4ubGVuZ3RoOyBqKyspIHsNCiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuY29tYm9SZWYgJiYgdGhpcy5jb21ib1JlZi5jaGlsZHJlblswXSAmJiB0aGlzLmNvbWJvUmVmLmNoaWxkcmVuWzBdLmNoaWxkcmVuWzBdICYmIHRoaXMuY29tYm9SZWYuY2hpbGRyZW5bMF0uY2hpbGRyZW5bMF0uY2hpbGRyZW5bal0pIHsNCiAgICAgICAgICAgICAgICAgICAgICBjb25zdCBoZWFkV2lkdGggPSB0aGlzLmNvbWJvUmVmLmNoaWxkcmVuWzBdLmNoaWxkcmVuWzBdLmNoaWxkcmVuW2pdIGFzIEhUTUxEaXZFbGVtZW50DQogICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMucHJvcGVydGllcy5Db2x1bW5Db3VudCAhPT0gLTEpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChqID09PSB0aGlzLmNvbWJvUmVmLmNoaWxkcmVuWzBdLmNoaWxkcmVuWzBdLmNoaWxkcmVuLmxlbmd0aCAtIDEpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgaGVhZFdpZHRoLnN0eWxlLndpZHRoID0gZmluYWxXaWR0aHNbal0gKyAncHgnDQogICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgICAgICAgICAgICAgICBoZWFkV2lkdGguc3R5bGUud2lkdGggPSAnMTAwcHgnDQogICAgICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICB9KQ0KICAgICAgICAgICAgICBmb3IgKGxldCBqID0gMDsgaiA8IHRoaXMuY29tYm9SZWYuY2hpbGRyZW5bMV0uY2hpbGRyZW5baV0uY2hpbGRyZW4ubGVuZ3RoOyBqKyspIHsNCiAgICAgICAgICAgICAgICBjb25zdCB3aWR0aCA9IHRoaXMuY29tYm9SZWYuY2hpbGRyZW5bMV0uY2hpbGRyZW5baV0uY2hpbGRyZW5bal0gYXMgSFRNTERpdkVsZW1lbnQNCiAgICAgICAgICAgICAgICBpZiAodGhpcy5wcm9wZXJ0aWVzLkNvbHVtbkNvdW50ISA9PT0gLTEpIHsNCiAgICAgICAgICAgICAgICAgIGlmIChqID49IDAgJiYgaiA8IHRoaXMuZXh0cmFEYXRhcy5Sb3dTb3VyY2VEYXRhIS5sZW5ndGgpIHsNCiAgICAgICAgICAgICAgICAgICAgd2lkdGguc3R5bGUud2lkdGggPSB0ZW1wV2lkdGggKyAncHgnDQogICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgfSBlbHNlIGlmIChqICsgMSA+IHRoaXMucHJvcGVydGllcy5Db2x1bW5Db3VudCEpIHsNCiAgICAgICAgICAgICAgICAgIHdpZHRoLnN0eWxlLm1pbldpZHRoID0gJzBweCcNCiAgICAgICAgICAgICAgICAgIHdpZHRoLnN0eWxlLndpZHRoID0gJzBweCcNCiAgICAgICAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgICAgICAgaWYgKGogPCB0aGlzLmV4dHJhRGF0YXMuUm93U291cmNlRGF0YSEubGVuZ3RoKSB7DQogICAgICAgICAgICAgICAgICAgIHdpZHRoLnN0eWxlLm1pbldpZHRoID0gJzEwMHB4Jw0KICAgICAgICAgICAgICAgICAgICB3aWR0aC5zdHlsZS53aWR0aCA9IHRlbXBXaWR0aCArICdweCcNCiAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICAgIFZ1ZS5uZXh0VGljaygoKSA9PiB7DQogICAgICAgICAgICAgICAgaWYgKHRoaXMuY29tYm9SZWYgJiYgdGhpcy5jb21ib1JlZi5jaGlsZHJlblswXSAmJiB0aGlzLmNvbWJvUmVmLmNoaWxkcmVuWzBdLmNoaWxkcmVuWzBdKSB7DQogICAgICAgICAgICAgICAgICBmb3IgKGxldCBqID0gMDsgaiA8IHRoaXMuY29tYm9SZWYuY2hpbGRyZW5bMF0uY2hpbGRyZW5bMF0uY2hpbGRyZW4ubGVuZ3RoOyBqKyspIHsNCiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuY29tYm9SZWYgJiYgdGhpcy5jb21ib1JlZi5jaGlsZHJlblswXSAmJiB0aGlzLmNvbWJvUmVmLmNoaWxkcmVuWzBdLmNoaWxkcmVuWzBdICYmIHRoaXMuY29tYm9SZWYuY2hpbGRyZW5bMF0uY2hpbGRyZW5bMF0uY2hpbGRyZW5bal0pIHsNCiAgICAgICAgICAgICAgICAgICAgICBjb25zdCBoZWFkV2lkdGggPSB0aGlzLmNvbWJvUmVmLmNoaWxkcmVuWzBdLmNoaWxkcmVuWzBdLmNoaWxkcmVuW2pdIGFzIEhUTUxEaXZFbGVtZW50DQogICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMucHJvcGVydGllcy5Db2x1bW5Db3VudCAhPT0gLTEpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChqID09PSB0aGlzLmNvbWJvUmVmLmNoaWxkcmVuWzBdLmNoaWxkcmVuWzBdLmNoaWxkcmVuLmxlbmd0aCAtIDEpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgaGVhZFdpZHRoLnN0eWxlLndpZHRoID0gZmluYWxXaWR0aHNbal0gKyAncHgnDQogICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgICAgICAgICAgICAgICBoZWFkV2lkdGguc3R5bGUud2lkdGggPSAnMTAwcHgnDQogICAgICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICB9KQ0KICAgICAgICAgICAgICBmb3IgKGxldCBqID0gMDsgaiA8IHRoaXMuY29tYm9SZWYuY2hpbGRyZW5bMV0uY2hpbGRyZW5baV0uY2hpbGRyZW4ubGVuZ3RoOyBqKyspIHsNCiAgICAgICAgICAgICAgICBjb25zdCB3aWR0aCA9IHRoaXMuY29tYm9SZWYuY2hpbGRyZW5bMV0uY2hpbGRyZW5baV0uY2hpbGRyZW5bal0gYXMgSFRNTERpdkVsZW1lbnQNCiAgICAgICAgICAgICAgICBpZiAodGhpcy5wcm9wZXJ0aWVzLkNvbHVtbkNvdW50ISA9PT0gLTEpIHsNCiAgICAgICAgICAgICAgICAgIGlmIChqID49IDAgJiYgaiA8IHRoaXMuZXh0cmFEYXRhcy5Sb3dTb3VyY2VEYXRhIS5sZW5ndGgpIHsNCiAgICAgICAgICAgICAgICAgICAgd2lkdGguc3R5bGUud2lkdGggPSAnMTAwcHgnDQogICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgfSBlbHNlIGlmIChqID09PSAxICYmIHRoaXMucHJvcGVydGllcy5Db2x1bW5Db3VudCEgPT09IDEpIHsNCiAgICAgICAgICAgICAgICAgIHdpZHRoLnN0eWxlLndpZHRoID0gdGhpcy5wcm9wZXJ0aWVzLldpZHRoICsgJ3B4Jw0KICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoaiA+IHRoaXMucHJvcGVydGllcy5Db2x1bW5Db3VudCEpIHsNCiAgICAgICAgICAgICAgICAgIHdpZHRoLnN0eWxlLm1pbldpZHRoID0gJzBweCcNCiAgICAgICAgICAgICAgICAgIHdpZHRoLnN0eWxlLndpZHRoID0gJzBweCcNCiAgICAgICAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgICAgICAgaWYgKGogPCB0aGlzLmV4dHJhRGF0YXMuUm93U291cmNlRGF0YSEubGVuZ3RoKSB7DQogICAgICAgICAgICAgICAgICAgIHdpZHRoLnN0eWxlLm1pbldpZHRoID0gJzEwMHB4Jw0KICAgICAgICAgICAgICAgICAgICB3aWR0aC5zdHlsZS53aWR0aCA9IChwYXJzZUludCh0aGlzLml0ZW1zUmVmLnN0eWxlLndpZHRoKSAvIHRoaXMucHJvcGVydGllcy5Db2x1bW5Db3VudCEpICsgJ3B4Jw0KICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfQ0KICAgICAgICAgIH0NCiAgICAgICAgfQ0KICAgICAgfSBlbHNlIGlmICh0aGlzLml0ZW1zUmVmICYmIHRoaXMuY29tYm9SZWYuY2hpbGRyZW5bMV0pIHsNCiAgICAgICAgZmluYWxXaWR0aHMgPSB0aGlzLmNhbGN1bGF0ZUNvbHVtbldpZHRocygpDQogICAgICAgIGlmICh0aGlzLmNvbWJvUmVmLmNoaWxkcmVuWzFdLmNoaWxkcmVuWzBdKSB7DQogICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLmNvbWJvUmVmLmNoaWxkcmVuWzFdLmNoaWxkcmVuLmxlbmd0aDsgaSsrKSB7DQogICAgICAgICAgICBpZiAodGhpcy5wcm9wZXJ0aWVzLkxpc3RTdHlsZSA9PT0gMCkgew0KICAgICAgICAgICAgICBmb3IgKGxldCBqID0gMDsgaiA8IHRoaXMuY29tYm9SZWYuY2hpbGRyZW5bMV0uY2hpbGRyZW5baV0uY2hpbGRyZW4ubGVuZ3RoOyBqKyspIHsNCiAgICAgICAgICAgICAgICBjb25zdCB3aWR0aCA9IHRoaXMuY29tYm9SZWYuY2hpbGRyZW5bMV0uY2hpbGRyZW5baV0uY2hpbGRyZW5bal0gYXMgSFRNTERpdkVsZW1lbnQNCiAgICAgICAgICAgICAgICBpZiAoaiA+PSB0aGlzLnByb3BlcnRpZXMuQ29sdW1uQ291bnQhICYmIHRoaXMucHJvcGVydGllcy5Db2x1bW5Db3VudCAhPT0gLTEpIHsNCiAgICAgICAgICAgICAgICAgIHdpZHRoLnN0eWxlLmRpc3BsYXkgPSAnbm9uZScNCiAgICAgICAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgICAgICAgd2lkdGguc3R5bGUuZGlzcGxheSA9ICdpbmxpbmUtYmxvY2snDQogICAgICAgICAgICAgICAgICBpZiAodGhpcy5wcm9wZXJ0aWVzLkNvbHVtbkNvdW50ID09PSAxKSB7DQogICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLnByb3BlcnRpZXMuV2lkdGghID4gZmluYWxXaWR0aHNbMF0pIHsNCiAgICAgICAgICAgICAgICAgICAgICB3aWR0aC5zdHlsZS53aWR0aCA9IHRoaXMucHJvcGVydGllcy5XaWR0aCEgKyAncHgnDQogICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICAgICAgICAgICAgd2lkdGguc3R5bGUud2lkdGggPSBmaW5hbFdpZHRoc1swXSArICdweCcNCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgICAgICAgICAgd2lkdGguc3R5bGUubWluV2lkdGggPSAnMHB4Jw0KICAgICAgICAgICAgICAgICAgICB3aWR0aC5zdHlsZS53aWR0aCA9IGZpbmFsV2lkdGhzW2pdICsgJ3B4Jw0KICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICBpZiAodGhpcy5jb21ib1JlZiAmJiB0aGlzLmNvbWJvUmVmLmNoaWxkcmVuWzBdICYmIHRoaXMuY29tYm9SZWYuY2hpbGRyZW5bMF0uY2hpbGRyZW5bMF0gJiYgdGhpcy5jb21ib1JlZi5jaGlsZHJlblswXS5jaGlsZHJlblswXS5jaGlsZHJlbltqXSkgew0KICAgICAgICAgICAgICAgICAgY29uc3QgaGVhZFdpZHRoID0gdGhpcy5jb21ib1JlZi5jaGlsZHJlblswXS5jaGlsZHJlblswXS5jaGlsZHJlbltqXSBhcyBIVE1MRGl2RWxlbWVudA0KICAgICAgICAgICAgICAgICAgaWYgKHRoaXMucHJvcGVydGllcy5Db2x1bW5Db3VudCA9PT0gLTEpIHsNCiAgICAgICAgICAgICAgICAgICAgaGVhZFdpZHRoLnN0eWxlLmRpc3BsYXkgPSAnaW5saW5lLWJsb2NrJw0KICAgICAgICAgICAgICAgICAgICBoZWFkV2lkdGguc3R5bGUubWluV2lkdGggPSAnMHB4Jw0KICAgICAgICAgICAgICAgICAgICBoZWFkV2lkdGguc3R5bGUud2lkdGggPSBmaW5hbFdpZHRoc1tqXSArICdweCcNCiAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoaiA+PSB0aGlzLnByb3BlcnRpZXMuQ29sdW1uQ291bnQhKSB7DQogICAgICAgICAgICAgICAgICAgIGhlYWRXaWR0aC5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnDQogICAgICAgICAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgICAgICAgICBoZWFkV2lkdGguc3R5bGUuZGlzcGxheSA9ICdpbmxpbmUtYmxvY2snDQogICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLnByb3BlcnRpZXMuQ29sdW1uQ291bnQgPT09IDEpIHsNCiAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5wcm9wZXJ0aWVzLldpZHRoISA+IGZpbmFsV2lkdGhzWzBdKSB7DQogICAgICAgICAgICAgICAgICAgICAgICBoZWFkV2lkdGguc3R5bGUud2lkdGggPSB0aGlzLnByb3BlcnRpZXMuV2lkdGghICsgJ3B4Jw0KICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICAgICAgICAgICAgICBoZWFkV2lkdGguc3R5bGUud2lkdGggPSBmaW5hbFdpZHRoc1swXSArICdweCcNCiAgICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICAgICAgICAgICAgaGVhZFdpZHRoLnN0eWxlLndpZHRoID0gZmluYWxXaWR0aHNbal0gKyAncHgnDQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgdGhpcy5jb21ib1JlZi5jaGlsZHJlblsxXS5jaGlsZHJlbltpXS5jaGlsZHJlbi5sZW5ndGg7IGorKykgew0KICAgICAgICAgICAgICAgIGNvbnN0IHdpZHRoID0gdGhpcy5jb21ib1JlZi5jaGlsZHJlblsxXS5jaGlsZHJlbltpXS5jaGlsZHJlbltqXSBhcyBIVE1MRGl2RWxlbWVudA0KICAgICAgICAgICAgICAgIGlmIChqID4gMCkgew0KICAgICAgICAgICAgICAgICAgaWYgKGogPiB0aGlzLnByb3BlcnRpZXMuQ29sdW1uQ291bnQhICYmIGogPiB0aGlzLmV4dHJhRGF0YXMuUm93U291cmNlRGF0YSEubGVuZ3RoIC0gMSkgew0KICAgICAgICAgICAgICAgICAgICB3aWR0aC5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnDQogICAgICAgICAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgICAgICAgICB3aWR0aC5zdHlsZS5kaXNwbGF5ID0gJ2lubGluZS1ibG9jaycNCiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMucHJvcGVydGllcy5Db2x1bW5Db3VudCA9PT0gMSkgew0KICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLnByb3BlcnRpZXMuV2lkdGghID4gZmluYWxXaWR0aHNbMF0pIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIHdpZHRoLnN0eWxlLndpZHRoID0gdGhpcy5wcm9wZXJ0aWVzLldpZHRoISArICdweCcNCiAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgICAgICAgICAgICAgd2lkdGguc3R5bGUud2lkdGggPSBmaW5hbFdpZHRoc1swXSArICdweCcNCiAgICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICAgICAgICAgICAgd2lkdGguc3R5bGUubWluV2lkdGggPSAnMHB4Jw0KICAgICAgICAgICAgICAgICAgICAgIHdpZHRoLnN0eWxlLndpZHRoID0gZmluYWxXaWR0aHNbaiAtIDFdICsgJ3B4Jw0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICBpZiAodGhpcy5jb21ib1JlZiAmJiB0aGlzLmNvbWJvUmVmLmNoaWxkcmVuWzBdICYmIHRoaXMuY29tYm9SZWYuY2hpbGRyZW5bMF0uY2hpbGRyZW5bMF0gJiYgdGhpcy5jb21ib1JlZi5jaGlsZHJlblswXS5jaGlsZHJlblswXS5jaGlsZHJlbltqXSkgew0KICAgICAgICAgICAgICAgICAgICBjb25zdCBoZWFkV2lkdGggPSB0aGlzLmNvbWJvUmVmLmNoaWxkcmVuWzBdLmNoaWxkcmVuWzBdLmNoaWxkcmVuW2pdIGFzIEhUTUxEaXZFbGVtZW50DQogICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLnByb3BlcnRpZXMuQ29sdW1uQ291bnQgPT09IC0xKSB7DQogICAgICAgICAgICAgICAgICAgICAgaGVhZFdpZHRoLnN0eWxlLmRpc3BsYXkgPSAnaW5saW5lLWJsb2NrJw0KICAgICAgICAgICAgICAgICAgICAgIGhlYWRXaWR0aC5zdHlsZS5taW5XaWR0aCA9ICcwcHgnDQogICAgICAgICAgICAgICAgICAgICAgaGVhZFdpZHRoLnN0eWxlLndpZHRoID0gZmluYWxXaWR0aHNbal0gKyAncHgnDQogICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoaiA+PSB0aGlzLnByb3BlcnRpZXMuQ29sdW1uQ291bnQhKSB7DQogICAgICAgICAgICAgICAgICAgICAgaGVhZFdpZHRoLnN0eWxlLmRpc3BsYXkgPSAnbm9uZScNCiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgICAgICAgICAgICBoZWFkV2lkdGguc3R5bGUuZGlzcGxheSA9ICdpbmxpbmUtYmxvY2snDQogICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMucHJvcGVydGllcy5Db2x1bW5Db3VudCA9PT0gMSkgew0KICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMucHJvcGVydGllcy5XaWR0aCEgPiBmaW5hbFdpZHRoc1swXSkgew0KICAgICAgICAgICAgICAgICAgICAgICAgICBoZWFkV2lkdGguc3R5bGUud2lkdGggPSB0aGlzLnByb3BlcnRpZXMuV2lkdGghICsgJ3B4Jw0KICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgaGVhZFdpZHRoLnN0eWxlLndpZHRoID0gZmluYWxXaWR0aHNbMF0gKyAncHgnDQogICAgICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIGhlYWRXaWR0aC5zdHlsZS53aWR0aCA9IGZpbmFsV2lkdGhzW2pdICsgJ3B4Jw0KICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfQ0KICAgICAgICAgIH0NCiAgICAgICAgfQ0KICAgICAgfQ0KICAgIH0gZWxzZSB7DQogICAgICB0aGlzLmhlYWRXaWR0aCA9ICcxMDAlJw0KICAgIH0NCiAgfQ0KDQogIGNhbGN1bGF0ZUNvbHVtbldpZHRocyAoKSB7DQogICAgbGV0IGEgPSAodGhpcy5wcm9wZXJ0aWVzLkNvbHVtbldpZHRocyEuc3BsaXQoJzsnKSkNCiAgICBsZXQgYiA9IFtdDQogICAgbGV0IHRlbXAgPSAwDQogICAgbGV0IHRvdGFsV2lkdGggPSB0aGlzLnByb3BlcnRpZXMuV2lkdGghDQogICAgbGV0IHRvdGFsQ29sdW1uV2lkdGhzID0gMA0KICAgIGxldCBjb2xXaWR0aHMgPSB0aGlzLnByb3BlcnRpZXMuQ29sdW1uV2lkdGhzIQ0KICAgIGxldCBjb2x1bW5XaWR0aENvdW50ID0gY29sV2lkdGhzLnNwbGl0KCc7JykubGVuZ3RoDQogICAgbGV0IHRvdGFsQ29sdW1uQ291bnQgPSB0aGlzLnByb3BlcnRpZXMuQ29sdW1uQ291bnQhIDwgdGhpcy5leHRyYURhdGFzLlJvd1NvdXJjZURhdGEhWzBdLmxlbmd0aCA/IHRoaXMucHJvcGVydGllcy5Db2x1bW5Db3VudCEgOiB0aGlzLmV4dHJhRGF0YXMuUm93U291cmNlRGF0YSFbMF0ubGVuZ3RoDQogICAgbGV0IHdpZHRocyA9IFtdDQogICAgbGV0IGZpbmFsV2lkdGhzOkFycmF5PG51bWJlcj4gPSBbXQ0KICAgIGxldCBsYXN0Q29sdW1XaWR0aCA9IDANCiAgICBpZiAodGhpcy5wcm9wZXJ0aWVzLkNvbHVtbkNvdW50ID09PSAtMSkgew0KICAgICAgaWYgKGNvbHVtbldpZHRoQ291bnQgPj0gdGhpcy5leHRyYURhdGFzLlJvd1NvdXJjZURhdGEhWzBdLmxlbmd0aCkgew0KICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuZXh0cmFEYXRhcy5Sb3dTb3VyY2VEYXRhIVswXS5sZW5ndGg7IGkrKykgew0KICAgICAgICAgIGlmIChpIDwgdGhpcy5leHRyYURhdGFzLlJvd1NvdXJjZURhdGEhWzBdLmxlbmd0aCkgew0KICAgICAgICAgICAgbGV0IHRlbXBXaWR0aCA9IHBhcnNlSW50KGNvbFdpZHRocy5zcGxpdCgnOycpW2ldLCAxMCkNCiAgICAgICAgICAgIHRvdGFsQ29sdW1uV2lkdGhzICs9IHRlbXBXaWR0aA0KICAgICAgICAgICAgd2lkdGhzLnB1c2godGVtcFdpZHRoKQ0KICAgICAgICAgIH0NCiAgICAgICAgfQ0KICAgICAgfSBlbHNlIHsNCiAgICAgICAgbGV0IGNvdW50ID0gMA0KICAgICAgICBsZXQgY29sV2lkdGhDYWxjdWxhdGVkQ291bnQgPSAwDQogICAgICAgIGxldCBjb2xXaWR0aCA9IDANCiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLmV4dHJhRGF0YXMuUm93U291cmNlRGF0YSFbMF0ubGVuZ3RoOyBpKyspIHsNCiAgICAgICAgICBpZiAoaSA8IGNvbHVtbldpZHRoQ291bnQpIHsNCiAgICAgICAgICAgIHdpZHRocy5wdXNoKHBhcnNlSW50KGNvbFdpZHRocy5zcGxpdCgnOycpW2ldLCAxMCkpDQogICAgICAgICAgICBjb3VudCA9IGNvdW50ICsgMQ0KICAgICAgICAgICAgdG90YWxDb2x1bW5XaWR0aHMgKz0gcGFyc2VJbnQoY29sV2lkdGhzLnNwbGl0KCc7JylbaV0sIDEwKQ0KICAgICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICBpZiAodG90YWxXaWR0aCA+IHRvdGFsQ29sdW1uV2lkdGhzKSB7DQogICAgICAgICAgICAgIGNvbFdpZHRoQ2FsY3VsYXRlZENvdW50ID0gY29sV2lkdGhDYWxjdWxhdGVkQ291bnQgKyAxDQogICAgICAgICAgICAgIGlmIChjb2xXaWR0aENhbGN1bGF0ZWRDb3VudCA9PT0gMSkgew0KICAgICAgICAgICAgICAgIGNvbFdpZHRoID0gKCh0b3RhbFdpZHRoIC0gdG90YWxDb2x1bW5XaWR0aHMpIC8gKHRoaXMuZXh0cmFEYXRhcy5Sb3dTb3VyY2VEYXRhIVswXS5sZW5ndGggLSBjb3VudCkpDQogICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgd2lkdGhzLnB1c2goY29sV2lkdGgpDQogICAgICAgICAgICAgIHRvdGFsQ29sdW1uV2lkdGhzICs9IGNvbFdpZHRoDQogICAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgICB3aWR0aHMucHVzaCgxMDApDQogICAgICAgICAgICB9DQogICAgICAgICAgfQ0KICAgICAgICB9DQogICAgICB9DQogICAgICBpZiAodG90YWxXaWR0aCA+IHRvdGFsQ29sdW1uV2lkdGhzKSB7DQogICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgd2lkdGhzLmxlbmd0aDsgaSsrKSB7DQogICAgICAgICAgaWYgKHdpZHRocy5sZW5ndGggLSAxICE9PSBpKSB7DQogICAgICAgICAgICBsYXN0Q29sdW1XaWR0aCA9IHRvdGFsV2lkdGggLSB3aWR0aHNbaV0hDQogICAgICAgICAgICBmaW5hbFdpZHRocy5wdXNoKHdpZHRoc1tpXSkNCiAgICAgICAgICAgIHRvdGFsV2lkdGggPSBsYXN0Q29sdW1XaWR0aA0KICAgICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICBmaW5hbFdpZHRocy5wdXNoKGxhc3RDb2x1bVdpZHRoKQ0KICAgICAgICAgIH0NCiAgICAgICAgfQ0KICAgICAgfSBlbHNlIGlmICh0b3RhbFdpZHRoIDw9IHRvdGFsQ29sdW1uV2lkdGhzKSB7DQogICAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgd2lkdGhzLmxlbmd0aDsgaisrKSB7DQogICAgICAgICAgZmluYWxXaWR0aHMucHVzaCh3aWR0aHNbal0pDQogICAgICAgIH0NCiAgICAgIH0NCiAgICB9IGVsc2Ugew0KICAgICAgaWYgKGNvbHVtbldpZHRoQ291bnQgPj0gdG90YWxDb2x1bW5Db3VudCkgew0KICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRvdGFsQ29sdW1uQ291bnQ7IGkrKykgew0KICAgICAgICAgIGlmIChpIDwgdGhpcy5wcm9wZXJ0aWVzLkNvbHVtbkNvdW50ISkgew0KICAgICAgICAgICAgbGV0IHRlbXBXaWR0aCA9IHBhcnNlSW50KGNvbFdpZHRocy5zcGxpdCgnOycpW2ldLCAxMCkNCiAgICAgICAgICAgIHRvdGFsQ29sdW1uV2lkdGhzICs9IHRlbXBXaWR0aA0KICAgICAgICAgICAgd2lkdGhzLnB1c2godGVtcFdpZHRoKQ0KICAgICAgICAgIH0NCiAgICAgICAgfQ0KICAgICAgfSBlbHNlIHsNCiAgICAgICAgbGV0IGNvdW50ID0gMA0KICAgICAgICBsZXQgY29sV2lkdGhDYWxjdWxhdGVkQ291bnQgPSAwDQogICAgICAgIGxldCBjb2xXaWR0aCA9IDANCiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0b3RhbENvbHVtbkNvdW50OyBpKyspIHsNCiAgICAgICAgICBpZiAoaSA8IGNvbHVtbldpZHRoQ291bnQpIHsNCiAgICAgICAgICAgIHdpZHRocy5wdXNoKHBhcnNlSW50KGNvbFdpZHRocy5zcGxpdCgnOycpW2ldLCAxMCkpDQogICAgICAgICAgICBjb3VudCA9IGNvdW50ICsgMQ0KICAgICAgICAgICAgdG90YWxDb2x1bW5XaWR0aHMgKz0gcGFyc2VJbnQoY29sV2lkdGhzLnNwbGl0KCc7JylbaV0sIDEwKQ0KICAgICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICBpZiAodG90YWxXaWR0aCA+IHRvdGFsQ29sdW1uV2lkdGhzKSB7DQogICAgICAgICAgICAgIGNvbFdpZHRoQ2FsY3VsYXRlZENvdW50ID0gY29sV2lkdGhDYWxjdWxhdGVkQ291bnQgKyAxDQogICAgICAgICAgICAgIGlmIChjb2xXaWR0aENhbGN1bGF0ZWRDb3VudCA9PT0gMSkgew0KICAgICAgICAgICAgICAgIGNvbFdpZHRoID0gKCh0b3RhbFdpZHRoIC0gdG90YWxDb2x1bW5XaWR0aHMpIC8gKHRvdGFsQ29sdW1uQ291bnQgLSBjb3VudCkpDQogICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgd2lkdGhzLnB1c2goY29sV2lkdGgpDQogICAgICAgICAgICAgIHRvdGFsQ29sdW1uV2lkdGhzICs9IGNvbFdpZHRoDQogICAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgICB3aWR0aHMucHVzaCgxMDApDQogICAgICAgICAgICB9DQogICAgICAgICAgfQ0KICAgICAgICB9DQogICAgICB9DQogICAgICBpZiAodG90YWxXaWR0aCA+IHRvdGFsQ29sdW1uV2lkdGhzKSB7DQogICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgd2lkdGhzLmxlbmd0aDsgaSsrKSB7DQogICAgICAgICAgaWYgKHdpZHRocy5sZW5ndGggLSAxICE9PSBpKSB7DQogICAgICAgICAgICBsYXN0Q29sdW1XaWR0aCA9IHRvdGFsV2lkdGggLSB3aWR0aHNbaV0hDQogICAgICAgICAgICBmaW5hbFdpZHRocy5wdXNoKHdpZHRoc1tpXSkNCiAgICAgICAgICAgIHRvdGFsV2lkdGggPSBsYXN0Q29sdW1XaWR0aA0KICAgICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICBmaW5hbFdpZHRocy5wdXNoKGxhc3RDb2x1bVdpZHRoKQ0KICAgICAgICAgIH0NCiAgICAgICAgfQ0KICAgICAgfSBlbHNlIGlmICh0b3RhbFdpZHRoIDw9IHRvdGFsQ29sdW1uV2lkdGhzKSB7DQogICAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgd2lkdGhzLmxlbmd0aDsgaisrKSB7DQogICAgICAgICAgZmluYWxXaWR0aHMucHVzaCh3aWR0aHNbal0pDQogICAgICAgIH0NCiAgICAgIH0NCiAgICB9DQogICAgcmV0dXJuIGZpbmFsV2lkdGhzDQogIH0NCiAgZ2V0IGdldERpc2FibGVWYWx1ZSAoKSB7DQogICAgaWYgKHRoaXMuaXNSdW5Nb2RlIHx8IHRoaXMuaXNFZGl0TW9kZSkgew0KICAgICAgcmV0dXJuIHRoaXMucHJvcGVydGllcy5FbmFibGVkID09PSBmYWxzZSB8fCB0aGlzLnByb3BlcnRpZXMuTG9ja2VkDQogICAgfSBlbHNlIHsNCiAgICAgIHJldHVybiB0cnVlDQogICAgfQ0KICB9DQoNCiAgZ2V0IGVtcHR5Q29sSGVhZHMgKCkgew0KICAgIHJldHVybiB7DQogICAgICBoZWlnaHQ6ICcxNXB4Jw0KICAgIH0NCiAgfQ0KICB1cGRhdGVDb2x1bW5WYWx1ZSAoaW5kZXg6IG51bWJlcikgew0KICAgIHJldHVybiB0aGlzLnVwZGF0ZUNvbHVtbldpZHRocyhpbmRleCwgdGhpcy50ZW1wSGVpZ2h0KQ0KICB9DQoNCiAgZ2V0IHNlbGVjdGlvblN0eWxlICgpIHsNCiAgICBjb25zdCBjb250cm9sUHJvcCA9IHRoaXMucHJvcGVydGllcw0KICAgIHJldHVybiB7DQogICAgICB3aWR0aDogJ2ZpdC1jb250ZW50JywNCiAgICAgIGJvcmRlckxlZnQ6DQogICAgICAgIGNvbnRyb2xQcm9wLkJvcmRlclN0eWxlID09PSAxDQogICAgICAgICAgPyAnMXB4IHNvbGlkICcgKyBjb250cm9sUHJvcC5Cb3JkZXJDb2xvcg0KICAgICAgICAgIDogY29udHJvbFByb3AuU3BlY2lhbEVmZmVjdCA9PT0gMg0KICAgICAgICAgICAgPyAnMnB4IHNvbGlkIGdyYXknDQogICAgICAgICAgICA6IGNvbnRyb2xQcm9wLlNwZWNpYWxFZmZlY3QgPT09IDMNCiAgICAgICAgICAgICAgPyAnMS41cHggc29saWQgZ3JheScNCiAgICAgICAgICAgICAgOiBjb250cm9sUHJvcC5TcGVjaWFsRWZmZWN0ID09PSA0DQogICAgICAgICAgICAgICAgPyAnMC41cHggc29saWQgZ3JheScNCiAgICAgICAgICAgICAgICA6ICcnLA0KICAgICAgYm9yZGVyVG9wOg0KICAgICAgICBjb250cm9sUHJvcC5Cb3JkZXJTdHlsZSA9PT0gMQ0KICAgICAgICAgID8gJzAuMjVweCBzb2xpZCAnICsgY29udHJvbFByb3AuQm9yZGVyQ29sb3INCiAgICAgICAgICA6IGNvbnRyb2xQcm9wLlNwZWNpYWxFZmZlY3QgPT09IDINCiAgICAgICAgICAgID8gJzJweCBzb2xpZCBncmF5Jw0KICAgICAgICAgICAgOiBjb250cm9sUHJvcC5TcGVjaWFsRWZmZWN0ID09PSAzDQogICAgICAgICAgICAgID8gJzEuNXB4IHNvbGlkIGdyYXknDQogICAgICAgICAgICAgIDogY29udHJvbFByb3AuU3BlY2lhbEVmZmVjdCA9PT0gNA0KICAgICAgICAgICAgICAgID8gJzAuNXB4IHNvbGlkIGdyYXknDQogICAgICAgICAgICAgICAgOiAnJywNCiAgICAgIGJvcmRlckJvdHRvbTogY29udHJvbFByb3AuQm9yZGVyU3R5bGUgPT09IDENCiAgICAgICAgPyAnMC4yNXB4IHNvbGlkICcgKyBjb250cm9sUHJvcC5Cb3JkZXJDb2xvciA6IGNvbnRyb2xQcm9wLlNwZWNpYWxFZmZlY3QgPT09IDENCiAgICAgICAgICA/ICcycHggc29saWQgZ3JheScNCiAgICAgICAgICA6IGNvbnRyb2xQcm9wLlNwZWNpYWxFZmZlY3QgPT09IDQNCiAgICAgICAgICAgID8gJzEuNXB4IHNvbGlkIGdyYXknDQogICAgICAgICAgICA6IGNvbnRyb2xQcm9wLlNwZWNpYWxFZmZlY3QgPT09IDMNCiAgICAgICAgICAgICAgPyAnMC41cHggc29saWQgZ3JheScNCiAgICAgICAgICAgICAgOiAnJw0KDQogICAgfQ0KICB9DQoNCiAgdG9Gb2N1cyAoKSB7DQogICAgaWYgKHRoaXMuaXNFZGl0TW9kZSkgew0KICAgICAgdGhpcy5pc1Zpc2libGUgPSB0cnVlDQogICAgfSBlbHNlIHsNCiAgICAgIHRoaXMuaXNWaXNpYmxlID0gZmFsc2UNCiAgICB9DQogIH0NCiAgdGFibGVDbGljayAoZTogRXZlbnQpIHsNCiAgICB0aGlzLnRlbXBMaXN0Qm94Q29tYm9Cb3hFdmVudCA9IGUNCiAgfQ0KDQogIEBXYXRjaCgncHJvcGVydGllcy5Gb250LkZvbnRTaXplJywgeyBkZWVwOiB0cnVlIH0pDQogIGF1dG9TaXplVmFsaWRhdGVPbkZvbnRDaGFuZ2UgKCkgew0KICAgIGlmICh0aGlzLnByb3BlcnRpZXMuQXV0b1NpemUpIHsNCiAgICAgIHRoaXMudXBkYXRlQXV0b1NpemUoKQ0KICAgIH0NCiAgfQ0KDQogIEBXYXRjaCgncHJvcGVydGllcy5Sb3dTb3VyY2UnKQ0KICByb3dTb3VyY2VWYWxpZGF0ZSAoKSB7DQogICAgaWYgKHRoaXMucHJvcGVydGllcy5Sb3dTb3VyY2UgIT09ICcnKSB7DQogICAgICBWdWUubmV4dFRpY2soKCkgPT4gew0KICAgICAgICB0aGlzLnVwZGF0ZUNvbHVtbnMoKQ0KICAgICAgfSkNCiAgICAgIGNvbnN0IGluaXRpYWxSb3dTb3VyY2VEYXRhID0gdGhpcy5leHRyYURhdGFzLlJvd1NvdXJjZURhdGEhDQogICAgICBpZiAoaW5pdGlhbFJvd1NvdXJjZURhdGEpIHsNCiAgICAgICAgdGhpcy50ZW1wQXJyYXkgPSBpbml0aWFsUm93U291cmNlRGF0YQ0KICAgICAgfQ0KICAgICAgdGhpcy51cGRhdGVEYXRhTW9kZWwoeyBwcm9wZXJ0eU5hbWU6ICdDb250cm9sU291cmNlJywgdmFsdWU6ICcnIH0pDQogICAgICBpZiAoaW5pdGlhbFJvd1NvdXJjZURhdGEgJiYgaW5pdGlhbFJvd1NvdXJjZURhdGEubGVuZ3RoID09PSAwKSB7DQogICAgICAgIHRoaXMudXBkYXRlRGF0YU1vZGVsKHsgcHJvcGVydHlOYW1lOiAnVG9wSW5kZXgnLCB2YWx1ZTogLTEgfSkNCiAgICAgIH0gZWxzZSB7DQogICAgICAgIHRoaXMudXBkYXRlRGF0YU1vZGVsKHsgcHJvcGVydHlOYW1lOiAnVG9wSW5kZXgnLCB2YWx1ZTogMCB9KQ0KICAgICAgfQ0KICAgIH0gZWxzZSB7DQogICAgICB0aGlzLmhlYWRXaWR0aCA9ICcxMDAlJw0KICAgIH0NCiAgfQ0KDQogIGhhbmRsZVRleHRJbnB1dCAoZTogRXZlbnQpIHsNCiAgICBpZiAodGhpcy5wcm9wZXJ0aWVzLkF1dG9TaXplKSB7DQogICAgICB0aGlzLnVwZGF0ZUF1dG9TaXplKCkNCiAgICB9DQogICAgaWYgKGUudGFyZ2V0IGluc3RhbmNlb2YgSFRNTFRleHRBcmVhRWxlbWVudCkgew0KICAgICAgY29uc3QgdGVtcEV2ZW50ID0gZS50YXJnZXQNCiAgICAgIHRoaXMuZVRhcmdldFZhbHVlID0gZS50YXJnZXQudmFsdWUNCiAgICAgIHRoaXMudXBkYXRlRGF0YU1vZGVsKHsgcHJvcGVydHlOYW1lOiAnVmFsdWUnLCB2YWx1ZTogdGhpcy5lVGFyZ2V0VmFsdWUgfSkNCiAgICAgIHRoaXMudXBkYXRlRGF0YU1vZGVsKHsgcHJvcGVydHlOYW1lOiAnVGV4dCcsIHZhbHVlOiB0aGlzLmVUYXJnZXRWYWx1ZSB9KQ0KICAgICAgaWYgKHRoaXMucHJvcGVydGllcy5Sb3dTb3VyY2UgIT09ICcnKSB7DQogICAgICAgIGlmICh0aGlzLnByb3BlcnRpZXMuTWF0Y2hFbnRyeSAhPT0gMCkgew0KICAgICAgICAgIHRoaXMudGV4dGFyZWFSZWYuZm9jdXMoKQ0KICAgICAgICB9DQogICAgICAgIGlmICh0aGlzLnByb3BlcnRpZXMuTWF0Y2hFbnRyeSA9PT0gMCkgew0KICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy50ZW1wQXJyYXkubGVuZ3RoOyBpKyspIHsNCiAgICAgICAgICAgIGlmICh0aGlzLnRlbXBBcnJheVtpXVswXVswXSA9PT0gdGhpcy50ZXh0YXJlYVJlZi52YWx1ZVswXSkgew0KICAgICAgICAgICAgICB0aGlzLnRleHRhcmVhUmVmLnZhbHVlID0gdGhpcy50ZW1wQXJyYXlbaV1bMF0NCiAgICAgICAgICAgICAgdGhpcy51cGRhdGVEYXRhTW9kZWwoew0KICAgICAgICAgICAgICAgIHByb3BlcnR5TmFtZTogJ1RleHQnLA0KICAgICAgICAgICAgICAgIHZhbHVlOiB0aGlzLnRlbXBBcnJheVtpXVswXQ0KICAgICAgICAgICAgICB9KQ0KICAgICAgICAgICAgICBicmVhaw0KICAgICAgICAgICAgfQ0KICAgICAgICAgIH0NCiAgICAgICAgICB0aGlzLnRleHRhcmVhUmVmLnNldFNlbGVjdGlvblJhbmdlKA0KICAgICAgICAgICAgMCwNCiAgICAgICAgICAgIHRoaXMudGV4dGFyZWFSZWYudmFsdWUubGVuZ3RoLA0KICAgICAgICAgICAgJ2ZvcndhcmQnDQogICAgICAgICAgKQ0KICAgICAgICB9DQogICAgICB9IGVsc2Ugew0KICAgICAgICB0aGlzLnRlbXBBcnJheSA9IFtdDQogICAgICB9DQogICAgfSBlbHNlIHsNCiAgICAgIHRocm93IG5ldyBFcnJvcigndGFyZ2V0IGlzIG5vdCBpbnN0YW5jZSBvZiBkaXYgZWxlbWVudCcpDQogICAgfQ0KICB9DQoNCiAgc2V0U2VsZWN0aW9uICgpIHsNCiAgICBjb25zdCBzZXRTZWxlY3Rpb25SZWYgPSB0aGlzLnRleHRhcmVhUmVmDQogICAgc2V0U2VsZWN0aW9uUmVmLmZvY3VzKCkNCiAgICBzZXRTZWxlY3Rpb25SZWYuc2VsZWN0KCkNCiAgfQ0KICBjbGVhck1hdGNoRW50cnkgKCkgew0KICAgIHRoaXMudXBkYXRlRGF0YU1vZGVsRXh0cmFEYXRhKHsgcHJvcGVydHlOYW1lOiAnTWF0Y2hEYXRhJywgdmFsdWU6ICcnIH0pDQogIH0NCg0KICBwcm90ZWN0ZWQgZ2V0IHNlbGVjdGlvblNwYW5PYmogKCk6IFBhcnRpYWw8Q1NTU3R5bGVEZWNsYXJhdGlvbj4gew0KICAgIGNvbnN0IGNvbnRyb2xQcm9wID0gdGhpcy5wcm9wZXJ0aWVzDQogICAgcmV0dXJuIHsNCiAgICAgIGJhY2tncm91bmRDb2xvcjogY29udHJvbFByb3AuQmFja1N0eWxlDQogICAgICAgID8gY29udHJvbFByb3AuQmFja0NvbG9yDQogICAgICAgIDogJ3RyYW5zcGFyZW50Jw0KICAgIH0NCiAgfQ0KDQogIHByb3RlY3RlZCBnZXQgY29sSGVhZHNTdHlsZSAoKTogUGFydGlhbDxDU1NTdHlsZURlY2xhcmF0aW9uPiB7DQogICAgY29uc3QgY29udHJvbFByb3AgPSB0aGlzLnByb3BlcnRpZXMNCiAgICByZXR1cm4gew0KICAgICAgYmFja2dyb3VuZENvbG9yOiBjb250cm9sUHJvcC5CYWNrQ29sb3IsDQogICAgICB3aWR0aDogJzEwMCUnDQogICAgfQ0KICB9DQoNCiAgc2Nyb2xsaW5nT25MaXN0SXRlbXMgKGU6IEV2ZW50KSB7DQogICAgdGhpcy5pc1Njcm9sbGluZyA9IHRydWUNCiAgfQ0KICAvKioNCiAgICogQGRlc2NyaXB0aW9uICBzaG93IHNlbGVjdGlvbiB3aGVuIFRleHRCb3ggbG9zZXMgZm9jdXMNCiAgICogd2hlbiBIaWRlU2VsZWN0aW9uIGlzIGZhbHNlIHNlbGVjdGlvbiBpcyBzaG93IGlmIHVzZXIgc2VsZWN0cyBhbnkgdGV4dA0KICAgKiBAZnVuY3Rpb24gaGFuZGxlQmx1cg0KICAgKiBAZXZlbnQgYmx1cg0KICAgKg0KICAgKi8NCiAgaGFuZGxlQmx1ciAoDQogICAgZXZlbnQ6IFRleHRFdmVudCwNCiAgICB0ZXh0YXJlYVJlZjogSFRNTFRleHRBcmVhRWxlbWVudCwNCiAgICBoaWRlU2VsZWN0aW9uRGl2OiBIVE1MRGl2RWxlbWVudA0KICApIHsNCiAgICB0aGlzLmluQmx1ciA9IGZhbHNlDQogICAgaWYgKHRoaXMuaXNTY3JvbGxpbmcpIHsNCiAgICAgIHRoaXMub3BlbiA9IHRydWUNCiAgICAgIHRoaXMudGV4dGFyZWFSZWYuZm9jdXMoKQ0KICAgIH0gZWxzZSBpZiAodGhpcy5vcGVuKSB7DQogICAgICB0aGlzLmluQmx1ciA9IHRydWUNCiAgICAgIHRoaXMub3BlbiA9IGZhbHNlDQogICAgfQ0KICAgIHRoaXMuaXNTY3JvbGxpbmcgPSBmYWxzZQ0KICAgIGlmICh0aGlzLnByb3BlcnRpZXMuU2hvd0Ryb3BCdXR0b25XaGVuID09PSAxKSB7DQogICAgICB0aGlzLmlzVmlzaWJsZSA9IGZhbHNlDQogICAgfQ0KICAgIGlmICgNCiAgICAgIHRoaXMucHJvcGVydGllcy5FbnRlckZpZWxkQmVoYXZpb3IgPT09IDEgJiYNCiAgICAgIGV2ZW50LnRhcmdldCBpbnN0YW5jZW9mIEhUTUxUZXh0QXJlYUVsZW1lbnQNCiAgICApIHsNCiAgICAgIGNvbnN0IGV2ZW50VGFyZ2V0ID0gZXZlbnQudGFyZ2V0DQogICAgICBsZXQgdGVtcEZpZWxkID0gdGhpcy50ZW1wSW5wdXRWYWx1ZS5zbGljZSgNCiAgICAgICAgZXZlbnRUYXJnZXQuc2VsZWN0aW9uU3RhcnQgLSBldmVudFRhcmdldC5zZWxlY3Rpb25FbmQNCiAgICAgICkNCiAgICAgIHRoaXMuc2VsZWN0aW9uU3RhcnQgPSBldmVudFRhcmdldC5zZWxlY3Rpb25TdGFydA0KICAgICAgdGhpcy5zZWxlY3Rpb25FbmQgPSBldmVudFRhcmdldC5zZWxlY3Rpb25FbmQNCiAgICB9DQogICAgaWYgKA0KICAgICAgIXRoaXMucHJvcGVydGllcy5IaWRlU2VsZWN0aW9uICYmDQogICAgICB0ZXh0YXJlYVJlZiAmJg0KICAgICAgZXZlbnQudGFyZ2V0IGluc3RhbmNlb2YgSFRNTFRleHRBcmVhRWxlbWVudA0KICAgICkgew0KICAgICAgY29uc3QgZXZlbnRUYXJnZXQgPSBldmVudC50YXJnZXQNCg0KICAgICAgaGlkZVNlbGVjdGlvbkRpdi5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJw0KICAgICAgaGlkZVNlbGVjdGlvbkRpdi5zdHlsZS5oZWlnaHQgPSB0aGlzLnByb3BlcnRpZXMuSGVpZ2h0ISArICdweCcNCiAgICAgIGhpZGVTZWxlY3Rpb25EaXYuc3R5bGUud2lkdGggPSB0aGlzLnByb3BlcnRpZXMuV2lkdGghICsgJ3B4Jw0KICAgICAgdGV4dGFyZWFSZWYuc3R5bGUuZGlzcGxheSA9ICdub25lJw0KICAgICAgbGV0IHRleHRhcmVhID0gZXZlbnRUYXJnZXQudmFsdWUNCiAgICAgIGxldCBmaXJzdFBhcnQgPQ0KICAgICAgICB0ZXh0YXJlYS5zbGljZSgwLCBldmVudFRhcmdldC5zZWxlY3Rpb25FbmQpICsNCiAgICAgICAgJzwvc3Bhbj4nICsNCiAgICAgICAgdGV4dGFyZWEuc2xpY2UoZXZlbnRUYXJnZXQuc2VsZWN0aW9uRW5kICsgTWF0aC5hYnMoMCkpDQogICAgICBsZXQgdGV4dCA9DQogICAgICAgIGZpcnN0UGFydC5zbGljZSgwLCBldmVudFRhcmdldC5zZWxlY3Rpb25TdGFydCkgKw0KICAgICAgICAiPHNwYW4gc3R5bGU9J2JhY2tncm91bmQtY29sb3I6bGlnaHRibHVlJz4iICsNCiAgICAgICAgZmlyc3RQYXJ0LnNsaWNlKGV2ZW50VGFyZ2V0LnNlbGVjdGlvblN0YXJ0ICsgTWF0aC5hYnMoMCkpDQogICAgICBoaWRlU2VsZWN0aW9uRGl2LmlubmVySFRNTCA9IHRleHQNCiAgICB9DQogICAgaWYgKHRoaXMucHJvcGVydGllcy5NYXRjaFJlcXVpcmVkICYmIHRleHRhcmVhUmVmKSB7DQogICAgICBjb25zdCBhcnJheUNoZWNrID0gdGhpcy5leHRyYURhdGFzLlJvd1NvdXJjZURhdGEhLmZpbmRJbmRleCgNCiAgICAgICAgKGVsZW1lbnQpID0+IGVsZW1lbnRbMF0gPT09IHRoaXMudGVtcElucHV0VmFsdWUNCiAgICAgICkNCiAgICAgIGlmIChhcnJheUNoZWNrID09PSAtMSkgew0KICAgICAgICB0aGlzLnRleHRhcmVhUmVmLmZvY3VzKCkNCiAgICAgIH0gZWxzZSB7DQogICAgICAgIHJldHVybiB1bmRlZmluZWQNCiAgICAgIH0NCiAgICB9DQogIH0NCiAgLyoqDQogICAqQGRlc2NyaXB0aW9uIGhpZGVzIHRoZSBkaXYgd2hlbiBmb2N1cyBjb21lcyB0byB0ZXh0YXJlYSB3aGVuIGhpZGVTZWxlY3Rpb24NCiAgICogcHJvcGVydGllcyBpcyBmYWxzZQ0KICAgKiBAZnVuY3Rpb24gaGFuZGxlQ2xpY2sNCiAgICogQHBhcmFtIGV2ZW50IGl0cyBvZiBGb2N1c0V2ZW50DQogICAqIEBldmVudCBjbGljaw0KICAgKi8NCiAgaGFuZGxlQ2xpY2sgKA0KICAgIGV2ZW50OiBUZXh0RXZlbnQsDQogICAgdGV4dGFyZWFSZWY6IEhUTUxUZXh0QXJlYUVsZW1lbnQsDQogICAgaGlkZVNlbGVjdGlvbkRpdjogSFRNTERpdkVsZW1lbnQNCiAgKSB7DQogICAgaWYgKCF0aGlzLnByb3BlcnRpZXMuSGlkZVNlbGVjdGlvbikgew0KICAgICAgaGlkZVNlbGVjdGlvbkRpdi5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnDQogICAgfSBlbHNlIHsNCiAgICAgIHJldHVybiB1bmRlZmluZWQNCiAgICB9DQogICAgaWYgKHRoaXMucHJvcGVydGllcy5FbnRlckZpZWxkQmVoYXZpb3IgPT09IDApIHsNCiAgICAgIHRoaXMudGV4dGFyZWFSZWYuZm9jdXMoKQ0KICAgICAgdGhpcy50ZXh0YXJlYVJlZi5zZWxlY3QoKQ0KICAgIH0gZWxzZSBpZiAodGhpcy5wcm9wZXJ0aWVzLkVudGVyRmllbGRCZWhhdmlvciA9PT0gMSkgew0KICAgIH0gZWxzZSB7DQogICAgICByZXR1cm4gdW5kZWZpbmVkDQogICAgfQ0KICB9DQogIC8qKg0KICAgKiBAZGVzY3JpcHRpb24gaGlkZXMgZGl2IGluc3RlYWQgb2YgdGV4dGFyZWEgd2hlbiBoaWRlU2VsZWN0aW9uIGlzIGZhbHNlDQogICAqIHdoZW4gaGlkZVNlbGVjdGlvbiBwcm9wZXJ0aWVzIGlzIHRydWUgdGV4dGFyZWEgaXMgc2hvd24NCiAgICogd2hlbiBoaWRlU2VsZWN0aW9uIHByb3BlcnRpZXMgaXMgZmFsc2UgZGl2IGlzIHNob3duDQogICAqIEBmdW5jdGlvbiBkaXZIaWRlDQogICAqIEBwYXJhbSBldmVudCBpdHMgb2YgdHlwZSBNb3VzZUV2ZW50DQogICAqIEBldmVudCBjbGljaw0KICAgKi8NCiAgZGl2SGlkZSAoZXZlbnQ6IE1vdXNlRXZlbnQsIHRleHRhcmVhUmVmOiBIVE1MVGV4dEFyZWFFbGVtZW50KSB7DQogICAgaWYgKA0KICAgICAgZXZlbnQudGFyZ2V0IGluc3RhbmNlb2YgSFRNTFNwYW5FbGVtZW50IHx8DQogICAgICBldmVudC50YXJnZXQgaW5zdGFuY2VvZiBIVE1MRGl2RWxlbWVudA0KICAgICkgew0KICAgICAgZXZlbnQudGFyZ2V0LnN0eWxlLmRpc3BsYXkgPSAnbm9uZScNCiAgICAgIHRleHRhcmVhUmVmLnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snDQogICAgICBpZiAoDQogICAgICAgIGV2ZW50LnRhcmdldC50YWdOYW1lID09PSAnU1BBTicgJiYNCiAgICAgICAgZXZlbnQudGFyZ2V0LnBhcmVudE5vZGUhLm5vZGVOYW1lID09PSAnRElWJw0KICAgICAgKSB7DQogICAgICAgIChldmVudC50YXJnZXQucGFyZW50Tm9kZSBhcyBIVE1MRWxlbWVudCkuc3R5bGUuZGlzcGxheSA9ICdub25lJw0KICAgICAgfQ0KICAgICAgdGV4dGFyZWFSZWYuZm9jdXMoKQ0KICAgICAgdGV4dGFyZWFSZWYuc2VsZWN0aW9uU3RhcnQgPSB0ZXh0YXJlYVJlZi5zZWxlY3Rpb25FbmQNCiAgICB9IGVsc2Ugew0KICAgICAgdGhyb3cgbmV3IEVycm9yKCdldmVudC50YXJnZXQgaXMgbm90IGFuIGluc3RhbmNlIG9mIFNwYW4gb3IgRGl2IEVsZW1lbnQnKQ0KICAgIH0NCiAgfQ0KICAvKioNCiAgICogQGRlc2NyaXB0aW9uIGRyYWdCZWhhdmlvciAtIGlmIHRydWUgd2hlbiBkcmFnZ2luZw0KICAgKiAgaWYgZmFsc2UgdGhlIGN1cnNvciByZW1haW5zIGluIHNhbWUgcGxhY2UNCiAgICogQGZ1bmN0aW9uIGRyYWdCZWhhdmlvcg0KICAgKiBAcGFyYW0gZXZlbnQgaXRzIG9mIHR5cGUgS2V5Ym9hcmRFdmVudA0KICAgKiBAZXZlbnQgZHJhZ1N0YXJ0DQogICAqLw0KICBkcmFnQmVoYXZpb3IgKGU6IEV2ZW50KSB7DQogICAgaWYgKHRoaXMucHJvcGVydGllcy5EcmFnQmVoYXZpb3IpIHsNCiAgICAgIHJldHVybiB0cnVlDQogICAgfQ0KICAgIGUucHJldmVudERlZmF1bHQoKQ0KICB9DQoNCiAgLyoqDQogICAqIEBvdmVycmlkZQ0KICAgKi8NCiAgQFdhdGNoKCdwcm9wZXJ0aWVzLkF1dG9TaXplJywgeyBkZWVwOiB0cnVlIH0pDQogIHVwZGF0ZUF1dG9TaXplICgpIHsNCiAgICBpZiAodGhpcy5wcm9wZXJ0aWVzLkF1dG9TaXplID09PSB0cnVlKSB7DQogICAgICB0aGlzLnVwZGF0ZURhdGFNb2RlbCh7IHByb3BlcnR5TmFtZTogJ1NlbGVjdGlvbk1hcmdpbicsIHZhbHVlOiBmYWxzZSB9KQ0KICAgICAgdGhpcy4kbmV4dFRpY2soKCkgPT4gew0KICAgICAgICBjb25zdCB0ZXh0YXJlYVJlZjogSFRNTFRleHRBcmVhRWxlbWVudCA9IHRoaXMudGV4dGFyZWFSZWYNCiAgICAgICAgLy8gcmVwbGljYXRpb24gb2Ygc3R5cGUgYXR0cmlidXRlIHRvIExhYmVsIHRhZyBmb3IgYXV0b1NpemUgcHJvcGVydHkgdG8gd29yaw0KICAgICAgICBsZXQgdGVtcExhYmVsOiBIVE1MTGFiZWxFbGVtZW50ID0gdGhpcy5hdXRvU2l6ZVRleHRhcmVhDQogICAgICAgIHRlbXBMYWJlbC5zdHlsZS5kaXNwbGF5ID0gJ2lubGluZScNCiAgICAgICAgdGVtcExhYmVsLnN0eWxlLmZvbnRTdHlsZSA9IHRleHRhcmVhUmVmLnN0eWxlLmZvbnRTdHlsZQ0KICAgICAgICB0ZW1wTGFiZWwuc3R5bGUuZm9udFNpemUgPSBwYXJzZUludCh0ZXh0YXJlYVJlZi5zdHlsZS5mb250U2l6ZSkgKyAncHgnDQogICAgICAgIHRlbXBMYWJlbC5zdHlsZS5mb250RmFtaWx5ID0gdGV4dGFyZWFSZWYuc3R5bGUuZm9udEZhbWlseQ0KICAgICAgICB0ZW1wTGFiZWwuc3R5bGUuZm9udFN0cmV0Y2ggPSB0ZXh0YXJlYVJlZi5zdHlsZS5mb250U3RyZXRjaA0KICAgICAgICB0ZW1wTGFiZWwuc3R5bGUud2hpdGVTcGFjZSA9IHRleHRhcmVhUmVmLnN0eWxlLndoaXRlU3BhY2UNCiAgICAgICAgdGVtcExhYmVsLnN0eWxlLndvcmRCcmVhayA9IHRleHRhcmVhUmVmLnN0eWxlLndvcmRCcmVhaw0KICAgICAgICB0ZW1wTGFiZWwuc3R5bGUuZm9udFdlaWdodCA9IHRleHRhcmVhUmVmLnN0eWxlLmZvbnRXZWlnaHQNCiAgICAgICAgdGVtcExhYmVsLnN0eWxlLndpZHRoID0NCiAgICAgICAgICAodGhpcy50ZXh0YXJlYVJlZi52YWx1ZS5sZW5ndGggKyAxKSAqDQogICAgICAgICAgICBwYXJzZUludCh0ZXh0YXJlYVJlZi5zdHlsZS5mb250U2l6ZSkgKw0KICAgICAgICAgICdweCcNCiAgICAgICAgdGVtcExhYmVsLnN0eWxlLmhlaWdodCA9IHRleHRhcmVhUmVmLnN0eWxlLmhlaWdodA0KICAgICAgICB0ZW1wTGFiZWwuaW5uZXJUZXh0ID0gdGV4dGFyZWFSZWYudmFsdWUNCiAgICAgICAgdGhpcy51cGRhdGVEYXRhTW9kZWwoew0KICAgICAgICAgIHByb3BlcnR5TmFtZTogJ1dpZHRoJywNCiAgICAgICAgICB2YWx1ZToNCiAgICAgICAgICAgIHRlbXBMYWJlbC5vZmZzZXRXaWR0aCA+IDIwDQogICAgICAgICAgICAgID8gdGVtcExhYmVsLm9mZnNldFdpZHRoICsgMjUNCiAgICAgICAgICAgICAgOiB0ZW1wTGFiZWwub2Zmc2V0V2lkdGggKyAyOQ0KICAgICAgICB9KQ0KICAgICAgICB0aGlzLnVwZGF0ZURhdGFNb2RlbCh7DQogICAgICAgICAgcHJvcGVydHlOYW1lOiAnSGVpZ2h0JywNCiAgICAgICAgICB2YWx1ZTogdGVtcExhYmVsLm9mZnNldEhlaWdodCArIDE1DQogICAgICAgIH0pDQogICAgICAgIHRlbXBMYWJlbC5pbm5lclRleHQgPSAnJw0KICAgICAgICB0ZW1wTGFiZWwuc3R5bGUuZGlzcGxheSA9ICdub25lJw0KICAgICAgICB0aGlzLnNlbGVjdGlvbkRhdGFbMF0gPSB0aGlzLmVUYXJnZXRWYWx1ZQ0KICAgICAgfSkNCiAgICB9IGVsc2Ugew0KICAgICAgcmV0dXJuIHVuZGVmaW5lZA0KICAgIH0NCiAgfQ0KDQogIHByb3RlY3RlZCBnZXQgbGlzdFN0eWxlT2JqICgpIHsNCiAgICBjb25zdCBjb250cm9sUHJvcCA9IHRoaXMucHJvcGVydGllcw0KICAgIGlmICh0aGlzLnByb3BlcnRpZXMuUm93U291cmNlICE9PSAnJykgew0KICAgICAgcmV0dXJuIHsNCiAgICAgICAgaGVpZ2h0OiAhY29udHJvbFByb3AuQ29sdW1uSGVhZHMNCiAgICAgICAgICA/IGNvbnRyb2xQcm9wLkxpc3RSb3dzISA+IDAgJiYNCiAgICAgICAgICAgIGNvbnRyb2xQcm9wLkxpc3RSb3dzISA8IHRoaXMuZXh0cmFEYXRhcy5Sb3dTb3VyY2VEYXRhIS5sZW5ndGgNCiAgICAgICAgICAgID8gY29udHJvbFByb3AuTGlzdFJvd3MhICogKGNvbnRyb2xQcm9wLkZvbnQhLkZvbnRTaXplISArIDkpICsgJ3B4Jw0KICAgICAgICAgICAgOiAnJw0KICAgICAgICAgIDogY29udHJvbFByb3AuTGlzdFJvd3MhID4gMCAmJg0KICAgICAgICAgICAgY29udHJvbFByb3AuTGlzdFJvd3MhIDwgdGhpcy5leHRyYURhdGFzLlJvd1NvdXJjZURhdGEhLmxlbmd0aA0KICAgICAgICAgICAgPyAoY29udHJvbFByb3AuTGlzdFJvd3MhICsgMSkgKiAoY29udHJvbFByb3AuRm9udCEuRm9udFNpemUhICsgOSkgKw0KICAgICAgICAgICAgJ3B4Jw0KICAgICAgICAgICAgOiAnJywNCiAgICAgICAgYmFja2dyb3VuZENvbG9yOiBjb250cm9sUHJvcC5CYWNrQ29sb3INCiAgICAgIH0NCiAgICB9IGVsc2Ugew0KICAgICAgcmV0dXJuIHsNCiAgICAgICAgYmFja2dyb3VuZENvbG9yOiBjb250cm9sUHJvcC5CYWNrQ29sb3IsDQogICAgICAgIGJvcmRlcjogJzFweCBzb2xpZCBibGFjaycsDQogICAgICAgIHdpZHRoOiAnY2FsYygxMDAlIC0gMnB4KScsDQogICAgICAgIGhlaWdodDogJ2NhbGMoMTAwJSAtIDJweCknLA0KICAgICAgICBtaW5XaWR0aDogJzEwMHB4Jw0KICAgICAgfQ0KICAgIH0NCiAgfQ0KDQogIHByb3RlY3RlZCBnZXQgdGFibGVTdHlsZU9iaiAoKSB7DQogICAgY29uc3QgY29udHJvbFByb3AgPSB0aGlzLnByb3BlcnRpZXMNCiAgICBjb25zdCBmb250OiBmb250ID0gY29udHJvbFByb3AuRm9udA0KICAgICAgPyBjb250cm9sUHJvcC5Gb250DQogICAgICA6IHsNCiAgICAgICAgRm9udE5hbWU6ICdBcmlhbCcsDQogICAgICAgIEZvbnRTaXplOiAyMCwNCiAgICAgICAgRm9udEl0YWxpYzogdHJ1ZSwNCiAgICAgICAgRm9udEJvbGQ6IHRydWUsDQogICAgICAgIEZvbnRVbmRlcmxpbmU6IHRydWUsDQogICAgICAgIEZvbnRTdHJpa2V0aHJvdWdoOiB0cnVlDQogICAgICB9DQogICAgcmV0dXJuIHsNCiAgICAgIGJvcmRlckNvbGxhcHNlOiAnY29sbGFwc2UnLA0KICAgICAgdGFibGVMYXlvdXQ6ICdmaXhlZCcsDQogICAgICBiYWNrZ3JvdW5kQ29sb3I6IGNvbnRyb2xQcm9wLkJhY2tTdHlsZQ0KICAgICAgICA/IGNvbnRyb2xQcm9wLkJhY2tDb2xvcg0KICAgICAgICA6ICd0cmFuc3BhcmVudCcsDQogICAgICBjb2xvcjogY29udHJvbFByb3AuRm9yZUNvbG9yLA0KICAgICAgZm9udEZhbWlseTogZm9udC5Gb250U3R5bGUhICE9PSAnJyA/IHRoaXMuc2V0Rm9udFN0eWxlIDogZm9udC5Gb250TmFtZSEsDQogICAgICBmb250U2l6ZTogYCR7Zm9udC5Gb250U2l6ZX1weGAsDQogICAgICBmb250U3R5bGU6IGZvbnQuRm9udEl0YWxpYyB8fCB0aGlzLmlzSXRhbGljID8gJ2l0YWxpYycgOiAnJywNCiAgICAgIHRleHREZWNvcmF0aW9uOg0KICAgICAgICBmb250LkZvbnRTdHJpa2V0aHJvdWdoID09PSB0cnVlICYmIGZvbnQuRm9udFVuZGVybGluZSA9PT0gdHJ1ZQ0KICAgICAgICAgID8gJ3VuZGVybGluZSBsaW5lLXRocm91Z2gnDQogICAgICAgICAgOiBmb250LkZvbnRVbmRlcmxpbmUNCiAgICAgICAgICAgID8gJ3VuZGVybGluZScNCiAgICAgICAgICAgIDogZm9udC5Gb250U3RyaWtldGhyb3VnaA0KICAgICAgICAgICAgICA/ICdsaW5lLXRocm91Z2gnDQogICAgICAgICAgICAgIDogJycsDQogICAgICB0ZXh0RGVjb3JhdGlvblNraXBJbms6ICdub25lJywNCiAgICAgIGZvbnRXZWlnaHQ6IGZvbnQuRm9udEJvbGQNCiAgICAgICAgPyAnYm9sZCcNCiAgICAgICAgOiBmb250LkZvbnRTdHlsZSAhPT0gJycNCiAgICAgICAgICA/IHRoaXMudGVtcFdlaWdodA0KICAgICAgICAgIDogJycsDQogICAgICBmb250U3RyZXRjaDogZm9udC5Gb250U3R5bGUgIT09ICcnID8gdGhpcy50ZW1wU3RyZXRjaCA6ICcnLA0KICAgICAgd2lkdGg6ICdjYWxjKDEwMCUgLSAycHgpJywNCiAgICAgIG91dGxpbmU6ICdub25lJw0KICAgIH0NCiAgfQ0KDQogIHByb3RlY3RlZCBnZXQgY3NzU3R5bGVQcm9wZXJ0eSAoKSB7DQogICAgY29uc3QgY29udHJvbFByb3AgPSB0aGlzLnByb3BlcnRpZXMNCiAgICBjb25zdCBmb250OiBmb250ID0gY29udHJvbFByb3AuRm9udA0KICAgICAgPyBjb250cm9sUHJvcC5Gb250DQogICAgICA6IHsNCiAgICAgICAgRm9udE5hbWU6ICdBcmlhbCcsDQogICAgICAgIEZvbnRTaXplOiAyMCwNCiAgICAgICAgRm9udEl0YWxpYzogdHJ1ZSwNCiAgICAgICAgRm9udEJvbGQ6IHRydWUsDQogICAgICAgIEZvbnRVbmRlcmxpbmU6IHRydWUsDQogICAgICAgIEZvbnRTdHJpa2V0aHJvdWdoOiB0cnVlDQogICAgICB9DQogICAgcmV0dXJuIHsNCiAgICAgIGxlZnQ6IGAke2NvbnRyb2xQcm9wLkxlZnR9cHhgLA0KICAgICAgd2lkdGg6DQogICAgICAgIGNvbnRyb2xQcm9wLlNob3dEcm9wQnV0dG9uV2hlbiA9PT0gMA0KICAgICAgICAgID8gYCR7Y29udHJvbFByb3AuV2lkdGghIC0gNH1weGANCiAgICAgICAgICA6IGNvbnRyb2xQcm9wLlNob3dEcm9wQnV0dG9uV2hlbiA9PT0gMSAmJiB0aGlzLmlzVmlzaWJsZSA9PT0gZmFsc2UNCiAgICAgICAgICAgID8gYCR7Y29udHJvbFByb3AuV2lkdGghIC0gNH1weGANCiAgICAgICAgICAgIDogY29udHJvbFByb3AuU2VsZWN0aW9uTWFyZ2luDQogICAgICAgICAgICAgID8gYCR7Y29udHJvbFByb3AuV2lkdGghIC0gMzB9cHhgDQogICAgICAgICAgICAgIDogYCR7Y29udHJvbFByb3AuV2lkdGghIC0gMjV9cHhgLA0KICAgICAgaGVpZ2h0OiBgJHtjb250cm9sUHJvcC5IZWlnaHQhIC0gNX1weGAsDQogICAgICB0b3A6IGAke2NvbnRyb2xQcm9wLlRvcH1weGAsDQogICAgICBmb250RmFtaWx5OiBmb250LkZvbnRTdHlsZSEgIT09ICcnID8gdGhpcy5zZXRGb250U3R5bGUgOiBmb250LkZvbnROYW1lISwNCiAgICAgIGZvbnRTaXplOiBgJHtmb250LkZvbnRTaXplfXB4YCwNCiAgICAgIGZvbnRTdHlsZTogZm9udC5Gb250SXRhbGljIHx8IHRoaXMuaXNJdGFsaWMgPyAnaXRhbGljJyA6ICcnLA0KICAgICAgdGV4dERlY29yYXRpb246DQogICAgICAgIGZvbnQuRm9udFN0cmlrZXRocm91Z2ggPT09IHRydWUgJiYgZm9udC5Gb250VW5kZXJsaW5lID09PSB0cnVlDQogICAgICAgICAgPyAndW5kZXJsaW5lIGxpbmUtdGhyb3VnaCcNCiAgICAgICAgICA6IGZvbnQuRm9udFVuZGVybGluZQ0KICAgICAgICAgICAgPyAndW5kZXJsaW5lJw0KICAgICAgICAgICAgOiBmb250LkZvbnRTdHJpa2V0aHJvdWdoDQogICAgICAgICAgICAgID8gJ2xpbmUtdGhyb3VnaCcNCiAgICAgICAgICAgICAgOiAnJywNCiAgICAgIHRleHREZWNvcmF0aW9uU2tpcEluazogJ25vbmUnLA0KICAgICAgZm9udFdlaWdodDogZm9udC5Gb250Qm9sZA0KICAgICAgICA/ICdib2xkJw0KICAgICAgICA6IGZvbnQuRm9udFN0eWxlICE9PSAnJw0KICAgICAgICAgID8gdGhpcy50ZW1wV2VpZ2h0DQogICAgICAgICAgOiAnJywNCiAgICAgIGZvbnRTdHJldGNoOiBmb250LkZvbnRTdHlsZSAhPT0gJycgPyB0aGlzLnRlbXBTdHJldGNoIDogJycsDQogICAgICBiYWNrZ3JvdW5kQ29sb3I6IGNvbnRyb2xQcm9wLkJhY2tTdHlsZQ0KICAgICAgICA/IGNvbnRyb2xQcm9wLkJhY2tDb2xvcg0KICAgICAgICA6ICd0cmFuc3BhcmVudCcsDQogICAgICBjb2xvcjogY29udHJvbFByb3AuRm9yZUNvbG9yLA0KICAgICAgdGV4dEFsaWduOg0KICAgICAgICBjb250cm9sUHJvcC5UZXh0QWxpZ24gPT09IDANCiAgICAgICAgICA/ICdsZWZ0Jw0KICAgICAgICAgIDogY29udHJvbFByb3AuVGV4dEFsaWduID09PSAxDQogICAgICAgICAgICA/ICdjZW50ZXInDQogICAgICAgICAgICA6ICdyaWdodCcsDQogICAgICBjdXJzb3I6DQogICAgICAgIGNvbnRyb2xQcm9wLk1vdXNlUG9pbnRlciAhPT0gMCB8fCBjb250cm9sUHJvcC5Nb3VzZUljb24gIT09ICcnDQogICAgICAgICAgPyB0aGlzLmlzRWRpdE1vZGUgfHwgIXRoaXMuaXNBY3RpdmF0ZWQNCiAgICAgICAgICAgID8gdGhpcy5nZXRNb3VzZUN1cnNvckRhdGENCiAgICAgICAgICAgIDogJ2RlZmF1bHQnDQogICAgICAgICAgOiAnZGVmYXVsdCcNCiAgICB9DQogIH0NCiAgLyoqDQogICAqIEBkZXNjcmlwdGlvbiBzdHlsZSBvYmplY3QgaXMgcGFzc2VkIHRvIDpzdHlsZSBhdHRyaWJ1dGUgaW4gZGl2IHRhZw0KICAgKiBkeW5hbWljYWxseSBjaGFuZ2luZyB0aGUgc3R5bGVzIG9mIHRoZSBjb21wb25lbnQgYmFzZWQgb24gY3NzU3R5bGVQcm9wZXJ0eSBvZg0KICAgKiB0ZXh0YXJlYQ0KICAgKiBAZnVuY3Rpb24gZGl2Y3NzU3R5bGVQcm9wZXJ0eQ0KICAgKg0KICAgKi8NCiAgZ2V0IGRpdmNzc1N0eWxlUHJvcGVydHkgKCkgew0KICAgIGNvbnN0IHN0eWxlT2JqZWN0ID0gdGhpcy5jc3NTdHlsZVByb3BlcnR5DQogICAgcmV0dXJuIHsNCiAgICAgIC4uLnN0eWxlT2JqZWN0LA0KICAgICAgZGlzcGxheTogJ25vbmUnLA0KICAgICAgd2hpdGVTcGFjZTogJ2JyZWFrLXNwYWNlcycsDQogICAgICB3aWR0aDogYCR7dGhpcy5wcm9wZXJ0aWVzLldpZHRoISAtIDEwfXB4YCwNCiAgICAgIGhlaWdodDogYCR7dGhpcy5wcm9wZXJ0aWVzLkhlaWdodCF9cHhgDQogICAgfQ0KICB9DQoNCiAgcHJvdGVjdGVkIGdldCBjdXN0b21TZWxlY3RPYmogKCk6IFBhcnRpYWw8Q1NTU3R5bGVEZWNsYXJhdGlvbj4gew0KICAgIGNvbnN0IGNvbnRyb2xQcm9wID0gdGhpcy5wcm9wZXJ0aWVzDQogICAgbGV0IGRpc3BsYXkgPSAnJw0KICAgIGlmICh0aGlzLmlzUnVuTW9kZSkgew0KICAgICAgZGlzcGxheSA9IGNvbnRyb2xQcm9wLlZpc2libGUgPyAnaW5saW5lLWJsb2NrJyA6ICdub25lJw0KICAgIH0gZWxzZSB7DQogICAgICBkaXNwbGF5ID0gJ2lubGluZS1ibG9jaycNCiAgICB9DQogICAgcmV0dXJuIHsNCiAgICAgIGRpc3BsYXk6IGRpc3BsYXkNCiAgICB9DQogIH0NCiAgcHJvdGVjdGVkIGdldCB0ZFN0eWxlT2JqICgpOiBQYXJ0aWFsPENTU1N0eWxlRGVjbGFyYXRpb24+IHsNCiAgICBjb25zdCBjb250cm9sUHJvcCA9IHRoaXMucHJvcGVydGllcw0KICAgIHJldHVybiB7DQogICAgICB0ZXh0QWxpZ246DQogICAgICAgIGNvbnRyb2xQcm9wLlRleHRBbGlnbiA9PT0gMA0KICAgICAgICAgID8gJ2xlZnQnDQogICAgICAgICAgOiBjb250cm9sUHJvcC5UZXh0QWxpZ24gPT09IDINCiAgICAgICAgICAgID8gJ3JpZ2h0Jw0KICAgICAgICAgICAgOiAnY2VudGVyJywNCiAgICAgIGRpc3BsYXk6ICdpbmxpbmUtYmxvY2snLA0KICAgICAgbWFyZ2luUmlnaHQ6IGNvbnRyb2xQcm9wLkxpc3RTdHlsZSA9PT0gMSA/ICc1cHgnIDogJycNCiAgICB9DQogIH0NCiAgc2V0V2lkdGggKCkgew0KICAgIHRoaXMudGVtcFdpZHRoID0gYCR7dGhpcy5wcm9wZXJ0aWVzLldpZHRoISArIDIwfXB4YA0KICAgIHJldHVybiB0aGlzLnRlbXBXaWR0aA0KICB9DQogIEBXYXRjaCgncHJvcGVydGllcy5WYWx1ZScsIHsgZGVlcDogdHJ1ZSB9KQ0KICB0ZXh0QW5kVmFsdWVVcGRhdGVQcm9wIChuZXdWYWw6IHN0cmluZywgb2xkVmFsOiBzdHJpbmcpIHsNCiAgICBpZiAodGhpcy5wcm9wZXJ0aWVzLkF1dG9TaXplKSB7DQogICAgICB0aGlzLnVwZGF0ZUF1dG9TaXplKCkNCiAgICB9DQogICAgaWYgKHRoaXMucHJvcGVydGllcy5Sb3dTb3VyY2UgIT09ICcnKSB7DQogICAgICBpZiAoDQogICAgICAgIHRoaXMucHJvcGVydGllcy5Cb3VuZENvbHVtbiEgPiAwICYmDQogICAgICAgIHRoaXMucHJvcGVydGllcy5Cb3VuZENvbHVtbiEgPCB0aGlzLmV4dHJhRGF0YXMuUm93U291cmNlRGF0YSEubGVuZ3RoDQogICAgICApIHsNCiAgICAgICAgbGV0IHRlbXBEYXRhID0gWy4uLnRoaXMuZXh0cmFEYXRhcy5Sb3dTb3VyY2VEYXRhIV0NCiAgICAgICAgaWYgKHRlbXBEYXRhIVswXVt0aGlzLnByb3BlcnRpZXMuQm91bmRDb2x1bW4hIC0gMV0gPT09IG5ld1ZhbCkgew0KICAgICAgICAgIHRoaXMudXBkYXRlRGF0YU1vZGVsKHsgcHJvcGVydHlOYW1lOiAnVmFsdWUnLCB2YWx1ZTogbmV3VmFsIH0pDQogICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgaWYgKG5ld1ZhbCAhPT0gJycgJiYgdGhpcy5wcm9wZXJ0aWVzLlZhbHVlKSB7DQogICAgICAgICAgICB0aGlzLnVwZGF0ZURhdGFNb2RlbCh7IHByb3BlcnR5TmFtZTogJ1RleHQnLCB2YWx1ZTogbmV3VmFsIH0pDQogICAgICAgICAgfQ0KICAgICAgICB9DQogICAgICB9DQogICAgICBpZiAobmV3VmFsICE9PSAnJyAmJiB0aGlzLnByb3BlcnRpZXMuVmFsdWUpIHsNCiAgICAgICAgdGhpcy5zZWxlY3Rpb25EYXRhWzBdID0gbmV3VmFsDQogICAgICAgIHRoaXMudXBkYXRlRGF0YU1vZGVsKHsgcHJvcGVydHlOYW1lOiAnVGV4dCcsIHZhbHVlOiBuZXdWYWwgfSkNCiAgICAgIH0NCiAgICB9IGVsc2Ugew0KICAgICAgaWYgKG5ld1ZhbCAhPT0gJycpIHsNCiAgICAgICAgdGhpcy51cGRhdGVEYXRhTW9kZWwoeyBwcm9wZXJ0eU5hbWU6ICdUZXh0JywgdmFsdWU6IG5ld1ZhbCB9KQ0KICAgICAgfQ0KICAgIH0NCiAgfQ0KDQogIEBXYXRjaCgncHJvcGVydGllcy5TZWxlY3Rpb25NYXJnaW4nLCB7IGRlZXA6IHRydWUgfSkNCiAgY2hlY2tTZWxlY3Rpb25NYXJnaW4gKG5ld1ZhbDogYm9vbGVhbiwgb2xkVmFsOiBib29sZWFuKSB7DQogICAgdGhpcy5zZWxlY3Rpb25EYXRhWzBdID0gdGhpcy5lVGFyZ2V0VmFsdWUNCiAgfQ0KICByZWxlYXNlRWRpdE1vZGUgKGV2ZW50OiBLZXlib2FyZEV2ZW50KSB7DQogICAgdGhpcy4kZWwuZm9jdXMoKQ0KICAgIHRoaXMuc2V0Q29udGVudEVkaXRhYmxlKGV2ZW50LCBmYWxzZSkNCiAgfQ0KDQogIEBXYXRjaCgncHJvcGVydGllcy5MaXN0U3R5bGUnKQ0KICBsaXN0U3R5bGVWYWxpZGF0ZSAoKSB7DQogICAgdGhpcy51cGRhdGVDb2x1bW5zKCkNCiAgfQ0KDQogIEBXYXRjaCgnZGF0YS5leHRyYURhdGFzLnpJbmRleCcpDQogIHNldExvY2FsWkluZGV4ICgpIHsNCiAgICB0aGlzLmNvbnRyb2xaSW5kZXggPSB0aGlzLmRhdGEuZXh0cmFEYXRhcyEuekluZGV4IQ0KICB9DQoNCiAgbW91bnRlZCAoKSB7DQogICAgdGhpcy5jb250cm9sWkluZGV4ID0gdGhpcy5kYXRhLmV4dHJhRGF0YXMhLnpJbmRleCENCiAgICB0aGlzLiRlbC5mb2N1cygpDQogICAgaWYgKHRoaXMucHJvcGVydGllcy5Sb3dTb3VyY2UgIT09ICcnKSB7DQogICAgICBjb25zdCBpbml0aWFsUm93U291cmNlRGF0YSA9IHRoaXMuZXh0cmFEYXRhcy5Sb3dTb3VyY2VEYXRhIQ0KICAgICAgaWYgKGluaXRpYWxSb3dTb3VyY2VEYXRhKSB7DQogICAgICAgIHRoaXMudGVtcEFycmF5ID0gaW5pdGlhbFJvd1NvdXJjZURhdGENCiAgICAgIH0NCiAgICAgIHRoaXMudXBkYXRlRGF0YU1vZGVsKHsgcHJvcGVydHlOYW1lOiAnQ29udHJvbFNvdXJjZScsIHZhbHVlOiAnJyB9KQ0KICAgICAgaWYgKGluaXRpYWxSb3dTb3VyY2VEYXRhICYmIGluaXRpYWxSb3dTb3VyY2VEYXRhLmxlbmd0aCA9PT0gMCkgew0KICAgICAgICB0aGlzLnVwZGF0ZURhdGFNb2RlbCh7IHByb3BlcnR5TmFtZTogJ1RvcEluZGV4JywgdmFsdWU6IC0xIH0pDQogICAgICB9IGVsc2Ugew0KICAgICAgICB0aGlzLnVwZGF0ZURhdGFNb2RlbCh7IHByb3BlcnR5TmFtZTogJ1RvcEluZGV4JywgdmFsdWU6IDAgfSkNCiAgICAgIH0NCiAgICB9DQogIH0NCg0KICBAV2F0Y2goJ3Byb3BlcnRpZXMuQ29udHJvbFNvdXJjZScsIHsgZGVlcDogdHJ1ZSB9KQ0KICB1cGRhdGVDb250cm9sU291cmNlVmFsdWUgKG5ld1ZhbDogc3RyaW5nLCBvbGRWYWw6IHN0cmluZykgew0KICAgIGNvbnN0IHByb3BEYXRhOiBjb250cm9sRGF0YSA9IHRoaXMuZGF0YQ0KICAgIGlmIChwcm9wRGF0YS5wcm9wZXJ0aWVzLkNvbnRyb2xTb3VyY2UgIT09ICcnKSB7DQogICAgICBjb25zdCBjb250cm9sU291cmNlVmFsdWUgPSBwcm9wRGF0YS5leHRyYURhdGFzIS5Db250cm9sU291cmNlVmFsdWUNCiAgICAgIHRoaXMudXBkYXRlRGF0YU1vZGVsKHsNCiAgICAgICAgcHJvcGVydHlOYW1lOiAnVmFsdWUnLA0KICAgICAgICB2YWx1ZTogY29udHJvbFNvdXJjZVZhbHVlDQogICAgICB9KQ0KICAgICAgdGhpcy51cGRhdGVEYXRhTW9kZWwoeyBwcm9wZXJ0eU5hbWU6ICdUZXh0JywgdmFsdWU6IGNvbnRyb2xTb3VyY2VWYWx1ZSB9KQ0KICAgIH0gZWxzZSB7DQogICAgICB0aGlzLnVwZGF0ZURhdGFNb2RlbCh7DQogICAgICAgIHByb3BlcnR5TmFtZTogJ1ZhbHVlJywNCiAgICAgICAgdmFsdWU6ICcnDQogICAgICB9KQ0KICAgICAgdGhpcy51cGRhdGVEYXRhTW9kZWwoeyBwcm9wZXJ0eU5hbWU6ICdUZXh0JywgdmFsdWU6ICcnIH0pDQogICAgfQ0KICB9DQogIGV4cGFuZFdpZHRoICgpIHsNCiAgICBpZiAodGhpcy5wcm9wZXJ0aWVzLlNob3dEcm9wQnV0dG9uV2hlbiA9PT0gMCkgew0KICAgICAgcmV0dXJuICdoaWRkZW4nDQogICAgfSBlbHNlIGlmICh0aGlzLnByb3BlcnRpZXMuU2hvd0Ryb3BCdXR0b25XaGVuID09PSAxKSB7DQogICAgICBpZiAodGhpcy5pc1Zpc2libGUpIHsNCiAgICAgICAgcmV0dXJuICd2aXNpYmxlJw0KICAgICAgfSBlbHNlIHsNCiAgICAgICAgcmV0dXJuICdoaWRkZW4nDQogICAgICB9DQogICAgfQ0KICB9DQoNCiAgcHJvdGVjdGVkIGdldCBsYWJlbFN0eWxlT2JqICgpOiBQYXJ0aWFsPENTU1N0eWxlRGVjbGFyYXRpb24+IHsNCiAgICBjb25zdCBjb250cm9sUHJvcCA9IHRoaXMucHJvcGVydGllcw0KICAgIGNvbnN0IGZvbnQ6IGZvbnQgPSBjb250cm9sUHJvcC5Gb250DQogICAgICA/IGNvbnRyb2xQcm9wLkZvbnQNCiAgICAgIDogew0KICAgICAgICBGb250TmFtZTogJ0FyaWFsJywNCiAgICAgICAgRm9udFNpemU6IDIwLA0KICAgICAgICBGb250SXRhbGljOiB0cnVlLA0KICAgICAgICBGb250Qm9sZDogdHJ1ZSwNCiAgICAgICAgRm9udFVuZGVybGluZTogdHJ1ZSwNCiAgICAgICAgRm9udFN0cmlrZXRocm91Z2g6IHRydWUNCiAgICAgIH0NCiAgICByZXR1cm4gew0KICAgICAgZm9udEZhbWlseTogZm9udC5Gb250U3R5bGUhICE9PSAnJyA/IHRoaXMuc2V0Rm9udFN0eWxlIDogZm9udC5Gb250TmFtZSEsDQogICAgICBmb250U2l6ZTogYCR7Zm9udC5Gb250U2l6ZX1weGAsDQogICAgICBmb250U3R5bGU6IGZvbnQuRm9udEl0YWxpYyB8fCB0aGlzLmlzSXRhbGljID8gJ2l0YWxpYycgOiAnJywNCiAgICAgIHRleHREZWNvcmF0aW9uOg0KICAgICAgICBmb250LkZvbnRTdHJpa2V0aHJvdWdoID09PSB0cnVlICYmIGZvbnQuRm9udFVuZGVybGluZSA9PT0gdHJ1ZQ0KICAgICAgICAgID8gJ3VuZGVybGluZSBsaW5lLXRocm91Z2gnDQogICAgICAgICAgOiBmb250LkZvbnRVbmRlcmxpbmUNCiAgICAgICAgICAgID8gJ3VuZGVybGluZScNCiAgICAgICAgICAgIDogZm9udC5Gb250U3RyaWtldGhyb3VnaA0KICAgICAgICAgICAgICA/ICdsaW5lLXRocm91Z2gnDQogICAgICAgICAgICAgIDogJycsDQogICAgICBmb250V2VpZ2h0OiBmb250LkZvbnRCb2xkDQogICAgICAgID8gJ2JvbGQnDQogICAgICAgIDogZm9udC5Gb250U3R5bGUgIT09ICcnDQogICAgICAgICAgPyB0aGlzLnRlbXBXZWlnaHQNCiAgICAgICAgICA6ICcnLA0KICAgICAgZm9udFN0cmV0Y2g6IGZvbnQuRm9udFN0eWxlICE9PSAnJyA/IHRoaXMudGVtcFN0cmV0Y2ggOiAnJw0KICAgIH0NCiAgfQ0KDQogIHByb3RlY3RlZCBnZXQgYm94U3R5bGVPYmogKCk6IFBhcnRpYWw8Q1NTU3R5bGVEZWNsYXJhdGlvbj4gew0KICAgIGNvbnN0IGNvbnRyb2xQcm9wID0gdGhpcy5wcm9wZXJ0aWVzDQogICAgcmV0dXJuIHsNCiAgICAgIGRpc3BsYXk6ICdncmlkJywNCiAgICAgIGdyaWRUZW1wbGF0ZUNvbHVtbnM6IGAke2NvbnRyb2xQcm9wLldpZHRoISAtIDIwfXB4YCArICcgMjFweCcsDQogICAgICBncmlkVGVtcGxhdGVSb3dzOiBgJHtjb250cm9sUHJvcC5IZWlnaHQhICsgMX1weGAsDQogICAgICBvdXRsaW5lOiAnbm9uZScsDQogICAgICBvdmVyZmxvdzogJ2hpZGRlbicNCiAgICB9DQogIH0NCg0KICBwcm90ZWN0ZWQgZ2V0IGl0ZW1zU3R5bGVPYmogKCk6IFBhcnRpYWw8Q1NTU3R5bGVEZWNsYXJhdGlvbj4gew0KICAgIGNvbnN0IGNvbnRyb2xQcm9wID0gdGhpcy5wcm9wZXJ0aWVzDQogICAgcmV0dXJuIHsNCiAgICAgIHdpZHRoOg0KICAgICAgICBwYXJzZUludChjb250cm9sUHJvcC5MaXN0V2lkdGghKSA+IDANCiAgICAgICAgICA/IHBhcnNlSW50KGNvbnRyb2xQcm9wLkxpc3RXaWR0aCEpICsgJ3B4Jw0KICAgICAgICAgIDogdGhpcy5zZXRkcm9wRG93bldpZHRoLA0KICAgICAgaGVpZ2h0Og0KICAgICAgICBjb250cm9sUHJvcC5Sb3dTb3VyY2UgIT09ICcnDQogICAgICAgICAgPyAnJw0KICAgICAgICAgIDogY29udHJvbFByb3AuQ29sdW1uSGVhZHMNCiAgICAgICAgICAgID8gJzMwcHgnDQogICAgICAgICAgICA6ICcxNXB4JywNCiAgICAgIGJvcmRlcjogY29udHJvbFByb3AuUm93U291cmNlICE9PSAnJyA/ICcxcHggc29saWQgYmxhY2snIDogJ25vbmUnLA0KICAgICAgY3Vyc29yOg0KICAgICAgICBjb250cm9sUHJvcC5Nb3VzZVBvaW50ZXIgIT09IDAgfHwgY29udHJvbFByb3AuTW91c2VJY29uICE9PSAnJw0KICAgICAgICAgID8gdGhpcy5pc0VkaXRNb2RlIHx8ICF0aGlzLmlzQWN0aXZhdGVkDQogICAgICAgICAgICA/IHRoaXMuZ2V0TW91c2VDdXJzb3JEYXRhDQogICAgICAgICAgICA6ICdkZWZhdWx0Jw0KICAgICAgICAgIDogJ2RlZmF1bHQnLA0KICAgICAgcG9zaXRpb246ICdyZWxhdGl2ZScsDQogICAgICB6SW5kZXg6ICc5OTknDQogICAgfQ0KICB9DQoNCiAgZ2V0IHNldGRyb3BEb3duV2lkdGggKCkgew0KICAgIGlmICh0aGlzLnByb3BlcnRpZXMuV2lkdGghIDwgMTAwKSB7DQogICAgICByZXR1cm4gJzEwMHB4Jw0KICAgIH0gZWxzZSB7DQogICAgICByZXR1cm4gYCR7dGhpcy5wcm9wZXJ0aWVzLldpZHRoIX1weGANCiAgICB9DQogIH0NCg0KICBwcm90ZWN0ZWQgZ2V0IHNlbGVjdGVkU3R5bGVPYmogKCk6IFBhcnRpYWw8Q1NTU3R5bGVEZWNsYXJhdGlvbj4gew0KICAgIGNvbnN0IGNvbnRyb2xQcm9wID0gdGhpcy5wcm9wZXJ0aWVzDQogICAgcmV0dXJuIHsNCiAgICAgIHZpc2liaWxpdHk6DQogICAgICAgIGNvbnRyb2xQcm9wLlNob3dEcm9wQnV0dG9uV2hlbiA9PT0gMiA/ICd2aXNpYmxlJyA6IHRoaXMuZXhwYW5kV2lkdGgoKSwNCiAgICAgIGJhY2tncm91bmRQb3NpdGlvbjoNCiAgICAgICAgY29udHJvbFByb3AuRHJvcEJ1dHRvblN0eWxlID09PSAxID8gJ2NlbnRlcicgOiAnYm90dG9tJywNCiAgICAgIGJhY2tncm91bmRTaXplOg0KICAgICAgICBjb250cm9sUHJvcC5Ecm9wQnV0dG9uU3R5bGUgPT09IDENCiAgICAgICAgICA/ICcxMnB4IDEycHgnDQogICAgICAgICAgOiBjb250cm9sUHJvcC5Ecm9wQnV0dG9uU3R5bGUgPT09IDINCiAgICAgICAgICAgID8gJzhweCA4cHgnDQogICAgICAgICAgICA6IGNvbnRyb2xQcm9wLkRyb3BCdXR0b25TdHlsZSA9PT0gMw0KICAgICAgICAgICAgICA/ICc5cHggMTRweCcNCiAgICAgICAgICAgICAgOiAnJywNCiAgICAgIGN1cnNvcjoNCiAgICAgICAgY29udHJvbFByb3AuTW91c2VQb2ludGVyICE9PSAwIHx8IGNvbnRyb2xQcm9wLk1vdXNlSWNvbiAhPT0gJycNCiAgICAgICAgICA/IHRoaXMuaXNFZGl0TW9kZSB8fCAhdGhpcy5pc0FjdGl2YXRlZA0KICAgICAgICAgICAgPyB0aGlzLmdldE1vdXNlQ3Vyc29yRGF0YQ0KICAgICAgICAgICAgOiAnZGVmYXVsdCcNCiAgICAgICAgICA6ICdkZWZhdWx0JywNCiAgICAgIGRpc3BsYXk6ICdmbGV4JywNCiAgICAgIGp1c3RpZnlDb250ZW50OiAnY2VudGVyJywNCiAgICAgIGFsaWduSXRlbXM6IGNvbnRyb2xQcm9wLkRyb3BCdXR0b25TdHlsZSA9PT0gMSA/ICdjZW50ZXInIDogJ2ZsZXgtZW5kJywNCiAgICAgIGJvcmRlclRvcDoNCiAgICAgICAgY29udHJvbFByb3AuQm9yZGVyU3R5bGUgPT09IDENCiAgICAgICAgICA/ICcwLjI1cHggc29saWQgJyArIGNvbnRyb2xQcm9wLkJvcmRlckNvbG9yDQogICAgICAgICAgOiBjb250cm9sUHJvcC5TcGVjaWFsRWZmZWN0ID09PSAyDQogICAgICAgICAgICA/ICcycHggc29saWQgZ3JheScNCiAgICAgICAgICAgIDogY29udHJvbFByb3AuU3BlY2lhbEVmZmVjdCA9PT0gMw0KICAgICAgICAgICAgICA/ICcxLjVweCBzb2xpZCBncmF5Jw0KICAgICAgICAgICAgICA6IGNvbnRyb2xQcm9wLlNwZWNpYWxFZmZlY3QgPT09IDQNCiAgICAgICAgICAgICAgICA/ICcwLjVweCBzb2xpZCBncmF5Jw0KICAgICAgICAgICAgICAgIDogJzBweCcsDQogICAgICBib3JkZXJDb2xvcjogY29udHJvbFByb3AuQm9yZGVyU3R5bGUgPT09IDEgPyBjb250cm9sUHJvcC5Cb3JkZXJDb2xvciA6ICcnLA0KICAgICAgYm9yZGVyUmlnaHQ6DQogICAgICAgIGNvbnRyb2xQcm9wLkJvcmRlclN0eWxlID09PSAxDQogICAgICAgICAgPyAnMXB4IHNvbGlkJyArIGNvbnRyb2xQcm9wLkJvcmRlckNvbG9yDQogICAgICAgICAgOiBjb250cm9sUHJvcC5TcGVjaWFsRWZmZWN0ID09PSAxDQogICAgICAgICAgICA/ICcycHggc29saWQgZ3JheScNCiAgICAgICAgICAgIDogY29udHJvbFByb3AuU3BlY2lhbEVmZmVjdCA9PT0gNA0KICAgICAgICAgICAgICA/ICcxLjVweCBzb2xpZCBncmF5Jw0KICAgICAgICAgICAgICA6IGNvbnRyb2xQcm9wLlNwZWNpYWxFZmZlY3QgPT09IDMNCiAgICAgICAgICAgICAgICA/ICcwLjVweCBzb2xpZCBncmF5Jw0KICAgICAgICAgICAgICAgIDogJycsDQogICAgICBib3JkZXJCb3R0b206DQogICAgICAgIGNvbnRyb2xQcm9wLkJvcmRlclN0eWxlID09PSAxDQogICAgICAgICAgPyAnMXB4IHNvbGlkJyArIGNvbnRyb2xQcm9wLkJvcmRlckNvbG9yDQogICAgICAgICAgOiBjb250cm9sUHJvcC5TcGVjaWFsRWZmZWN0ID09PSAxDQogICAgICAgICAgICA/ICcycHggc29saWQgZ3JheScNCiAgICAgICAgICAgIDogY29udHJvbFByb3AuU3BlY2lhbEVmZmVjdCA9PT0gNA0KICAgICAgICAgICAgICA/ICcxLjVweCBzb2xpZCBncmF5Jw0KICAgICAgICAgICAgICA6IGNvbnRyb2xQcm9wLlNwZWNpYWxFZmZlY3QgPT09IDMNCiAgICAgICAgICAgICAgICA/ICcwLjVweCBzb2xpZCBncmF5Jw0KICAgICAgICAgICAgICAgIDogJzAuNXB4IHNvbGlkIGdyYXknDQogICAgfQ0KICB9DQogIGVuYWJsZWRDaGVjayAoZTogTW91c2VFdmVudCkgew0KICAgIGlmICh0aGlzLmlzUnVuTW9kZSB8fCB0aGlzLmlzQWN0aXZhdGVkIHx8IHRoaXMuaXNFZGl0TW9kZSkgew0KICAgICAgaWYgKHRoaXMub3Blbikgew0KICAgICAgICB0aGlzLm9wZW4gPSBmYWxzZQ0KICAgICAgICB0aGlzLnRleHRhcmVhUmVmLmZvY3VzKCkNCiAgICAgIH0gZWxzZSBpZiAodGhpcy5pbkJsdXIpIHsNCiAgICAgICAgdGhpcy5vcGVuID0gZmFsc2UNCiAgICAgIH0gZWxzZSB7DQogICAgICAgIHRoaXMub3BlbiA9IHRydWUNCiAgICAgICAgdGhpcy50ZXh0YXJlYVJlZi5mb2N1cygpDQogICAgICB9DQogICAgfQ0KICAgIHRoaXMuaW5CbHVyID0gZmFsc2UNCiAgfQ0KDQogIGV2ZW50U3RvcHBlcnMgKCkgew0KICAgIGNvbnN0IGV2ZW50U3RvcCA9IChldmVudDogRXZlbnQpID0+IGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpDQogICAgcmV0dXJuIHRoaXMuaXNFZGl0TW9kZSA9PT0gZmFsc2UNCiAgICAgID8gbnVsbA0KICAgICAgOiB7DQogICAgICAgIGtleWRvd246IGV2ZW50U3RvcA0KICAgICAgfQ0KICB9DQogIGNvbUJveENsaWNrIChldmVudDogTW91c2VFdmVudCkgew0KICAgIGlmICh0aGlzLnRvb2xCb3hTZWxlY3RDb250cm9sID09PSAnU2VsZWN0Jykgew0KICAgICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCkNCiAgICAgIHRoaXMuc2VsZWN0ZWRJdGVtKGV2ZW50KQ0KICAgIH0NCiAgfQ0KfQ0K"},{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAqRA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"index.vue","sourceRoot":"src/FormDesigner/components/atoms/FDComboBox","sourcesContent":["<template>\r\n  <div\r\n    class=\"custom-select\"\r\n    :tabindex=\"tabindex\"\r\n    :style=\"customSelectObj\"\r\n    :title=\"properties.ControlTipText\"\r\n    @click=\"comBoxClick\"\r\n    @keydown.enter=\"setContentEditable($event, true)\"\r\n    @keydown.esc=\"releaseEditMode\"\r\n    v-on=\"eventStoppers()\"\r\n    @contextmenu=\"isEditMode ? openTextContextMenu($event): parentConextMenu($event)\"\r\n  >\r\n    <div\r\n      class=\"combobox\"\r\n      :style=\"boxStyleObj\"\r\n      @mousedown=\"controlEditMode\"\r\n      tabindex=\"1\"\r\n      @click=\"toFocus\"\r\n    >\r\n     <div class=\"combobox-inner\"  :style=\"selectionStyle\">\r\n      <div\r\n        :class=\"properties.SelectionMargin ? 'selectionDiv' : ''\"\r\n      >\r\n        <span\r\n          v-if=\"properties.SelectionMargin\"\r\n          class=\"selectionSpan\"\r\n          :style=\"selectionSpanObj\"\r\n          @click=\"setSelection\"\r\n        ></span>\r\n        <textarea\r\n          data-gramm=\"false\"\r\n          ref=\"textareaRef\"\r\n          :style=\"cssStyleProperty\"\r\n          wrap=\"off\"\r\n          :tabindex=\"properties.TabIndex\"\r\n          :readonly=\"getDisableValue || properties.Style === 1\"\r\n          :maxlength=\"properties.MaxLength !== 0 ? properties.MaxLength : ''\"\r\n          @blur=\"handleBlur($event, textareaRef, hideSelectionDiv)\"\r\n          @click=\"handleClick($event, textareaRef, hideSelectionDiv)\"\r\n          @input=\"handleTextInput($event)\"\r\n          class=\"text-box-design\"\r\n          :value=\"properties.Value\"\r\n          @dragstart=\"dragBehavior\"\r\n          @keydown.enter.prevent\r\n        />\r\n        <div\r\n          ref=\"hideSelectionDiv\"\r\n          @click=\"divHide($event, textareaRef)\"\r\n          :style=\"divcssStyleProperty\"\r\n          :title=\"properties.ControlTipText\"\r\n          class=\"text-box-design\"\r\n        >\r\n          {{ properties.Value }}\r\n        </div>\r\n        <label\r\n          ref=\"autoSizeTextarea\"\r\n          class=\"labelStyle\"\r\n          :class=\"labelStyleObj\"\r\n        ></label>\r\n      </div>\r\n      <div\r\n        class=\"selected\"\r\n        @click=\"enabledCheck($event)\"\r\n        :style=\"selectedStyleObj\"\r\n      >\r\n        <div v-if=\"properties.DropButtonStyle === 1\">\r\n          <svg\r\n            version=\"1.0\"\r\n            xmlns=\"http://www.w3.org/2000/svg\"\r\n            height=\"10\"\r\n            width=\"10\"\r\n            viewBox=\"0 0 810.000000 460.000000\"\r\n            preserveAspectRatio=\"xMidYMid meet\"\r\n          >\r\n            <g\r\n              :fill=\"\r\n                properties.Enabled\r\n                  ? '#000000'\r\n                  : open\r\n                  ? '#000000'\r\n                  : 'rgb(190,190,190)'\r\n              \"\r\n              transform=\"translate(0.000000,460.000000) scale(0.100000,-0.100000)\"\r\n              stroke=\"none\"\r\n            >\r\n              <path\r\n                d=\"M74 4585 c-4 -8 0 -23 7 -32 8 -9 897 -1036 1977 -2282 1612 -1862\r\n          1967 -2266 1987 -2266 20 0 378 408 2005 2280 1089 1254 1979 2287 1977 2295\r\n          -2 13 -453 15 -3975 18 -3540 2 -3973 0 -3978 -13z\"\r\n              />\r\n            </g>\r\n          </svg>\r\n        </div>\r\n        <div v-else-if=\"properties.DropButtonStyle === 2\">\r\n          <svg\r\n            version=\"1.0\"\r\n            xmlns=\"http://www.w3.org/2000/svg\"\r\n            width=\"12\"\r\n            height=\"12\"\r\n            viewBox=\"0 0 1280.000000 1024.000000\"\r\n            preserveAspectRatio=\"xMidYMid meet\"\r\n          >\r\n            <g\r\n              transform=\"translate(0.000000,1024.000000) scale(0.100000,-0.100000)\"\r\n              :fill=\"\r\n                properties.Enabled\r\n                  ? '#000000'\r\n                  : open\r\n                  ? '#000000'\r\n                  : 'rgb(180,180,180)'\r\n              \"\r\n              stroke=\"none\"\r\n            >\r\n              <path\r\n                d=\"M3105 4084 c-295 -66 -529 -300 -590 -592 -19 -86 -19 -238 0 -324\r\n32 -153 97 -270 217 -390 73 -73 101 -94 190 -137 58 -29 134 -58 173 -66 103\r\n-22 275 -19 368 5 218 55 400 204 497 405 59 123 80 212 80 348 0 347 -231\r\n651 -565 742 -87 24 -283 29 -370 9z\"\r\n              />\r\n              <path\r\n                d=\"M6236 4083 c-151 -32 -275 -101 -386 -213 -151 -153 -219 -324 -220\r\n-546 0 -160 45 -304 138 -441 40 -58 130 -150 188 -190 59 -42 175 -94 251\r\n-113 104 -27 281 -27 386 -1 259 67 466 267 549 531 20 65 23 95 23 225 -1\r\n137 -3 157 -28 230 -78 223 -238 396 -444 480 -132 53 -316 69 -457 38z\"\r\n              />\r\n              <path\r\n                d=\"M9370 4085 c-364 -81 -610 -385 -610 -752 0 -136 21 -225 80 -348 97\r\n-201 279 -350 497 -405 93 -24 265 -27 368 -5 39 8 115 37 173 66 89 43 117\r\n64 190 137 121 121 185 237 219 395 18 89 13 275 -11 362 -71 255 -285 469\r\n-541 540 -84 23 -282 29 -365 10z\"\r\n              />\r\n            </g>\r\n          </svg>\r\n        </div>\r\n        <div v-else-if=\"properties.DropButtonStyle === 3\">\r\n          <svg\r\n            version=\"1.0\"\r\n            xmlns=\"http://www.w3.org/2000/svg\"\r\n            width=\"12\"\r\n            height=\"12\"\r\n            viewBox=\"0 0 1200.000000 1200.000000\"\r\n            preserveAspectRatio=\"xMidYMid meet\"\r\n          >\r\n            <g\r\n              transform=\"translate(0.000000,1200.000000) scale(0.100000,-0.100000)\"\r\n              :fill=\"\r\n                properties.Enabled\r\n                  ? '#000000'\r\n                  : open\r\n                  ? '#000000'\r\n                  : 'rgb(180,180,180)'\r\n              \"\r\n              stroke=\"none\"\r\n            >\r\n              <path\r\n                d=\"M0 6000 l0 -460 6000 0 6000 0 0 460 0 460 -6000 0 -6000 0 0 -460z\"\r\n              />\r\n            </g>\r\n          </svg>\r\n        </div>\r\n      </div>\r\n     </div>\r\n      <div class=\"items\" :class=\"{ selectHide: !open }\" :style=\"itemsStyleObj\" ref=\"itemsRef\">\r\n        <div\r\n          class=\"listStyle\"\r\n          :title=\"properties.ControlTipText\"\r\n          :style=\"listStyleObj\"\r\n          @mousedown=\"scrollingOnListItems\"\r\n        >\r\n          <div\r\n            :style=\"tableStyleObj\"\r\n            class=\"table-style\"\r\n            @click=\"tableClick\"\r\n            ref=\"comboRef\"\r\n            tabindex=\"1\"\r\n          >\r\n            <div class=\"tHeadStyle\" :style=\"tHeadStyleObj\" v-if=\"properties.ColumnHeads === true\">\r\n              <div class=\"thClass\" :style=\"colHeadsStyle\">\r\n                <template\r\n                  :style=\"tdStyleObj\"\r\n                  v-if=\"properties.ListStyle === 1 && properties.RowSource !== ''\"\r\n                  class=\"tdClass\"\r\n                ></template>\r\n                <template\r\n                  v-for=\"(a, columnIndex) in extraDatas.ColumnHeadsValues\"\r\n                >\r\n                  <div\r\n                    v-if=\"\r\n                      (properties.RowSource !== '' &&\r\n                        columnIndex < properties.ColumnCount) ||\r\n                      properties.ColumnCount === -1\r\n                    \"\r\n                    :key=\"columnIndex\"\r\n                    :style=\"updateColumnHeads(columnIndex)\"\r\n                    class=\"colHeadsClass\"\r\n                  >\r\n                    {{ a }}\r\n                  </div>\r\n                </template>\r\n                <div\r\n                  v-if=\"properties.RowSource === '' && properties.ColumnCount !== -1\"\r\n                  :style=\"emptyColHeads\"\r\n                >\r\n                <div v-if=\"properties.ListStyle === 1\" :style=\"{display:'inline-block', width:'20px'}\">\r\n                  <span class=\"bar\" :style=\"{float:'right'}\">|</span>\r\n                </div>\r\n                <div v-for=\"(a, i) in properties.ColumnCount\" :key=\"i\" :style=\"{display:'inline-block', width:'100px'}\">\r\n                  <span v-if=\"a>1\" class=\"bar\" :key=\"i\">|</span>\r\n                </div>\r\n                </div>\r\n                <div v-else-if=\"properties.ColumnCount === -1 && properties.RowSource === ''\">\r\n                <div v-for=\"i in 10\" :key=\"i\" :style=\"{display:'inline-block', width:'100px'}\">\r\n                  <span v-if=\"i < 10\" class=\"bar\" :style=\"{ float: 'right'}\" :key=\"i\">|</span>\r\n                </div>\r\n                </div>\r\n                <hr v-if=\"properties.ColumnHeads\" class=\"hrStyle\"/>\r\n              </div>\r\n            </div>\r\n            <div v-else></div>\r\n            <div\r\n              @click=\"properties.Enabled ? (open = false) : (open = true)\"\r\n              v-if=\"properties.RowSource !== ''\"\r\n            >\r\n              <div\r\n                :tabindex=\"index\"\r\n                class=\"tr\"\r\n                :disabled=\"!properties.Enabled\"\r\n                v-for=\"(item, index) of tempArray\"\r\n                :key=\"index\"\r\n                ref=\"trRef\"\r\n                @mouseenter=\"handleDrag\"\r\n                @keydown=\"handleExtendArrowKeySelect\"\r\n                @blur=\"clearMatchEntry\"\r\n                @mousedown=\"\r\n                  isRunMode || isEditMode\r\n                    ? properties.Enabled\r\n                      ? handleMultiSelect($event)\r\n                      : makeOpen()\r\n                    : ''\r\n                \"\r\n              >\r\n                <div\r\n                  :style=\"tdStyleObj\"\r\n                  class=\"tdClassIn\"\r\n                  v-if=\"\r\n                    (properties.ListStyle === 1 &&\r\n                      properties.ColumnCount > 0) ||\r\n                    (properties.ListStyle === 1 &&\r\n                      properties.ColumnCount === -1)\r\n                  \"\r\n                >\r\n                  <input name=\"radio\" type=\"radio\" class=\"inputClass\" />\r\n                </div>\r\n                <div\r\n                  class=\"column-item\"\r\n                  v-for=\"(i, index) in item\"\r\n                  :key=\"index\"\r\n                  :style=\"columnItemObj(index)\"\r\n                >\r\n                  <template\r\n                    v-if=\"\r\n                      index < properties.ColumnCount ||\r\n                      properties.ColumnCount === -1\r\n                    \"\r\n                    >{{ i }}</template\r\n                  >\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script lang=\"ts\">\r\nimport {\r\n  Component,\r\n  Vue,\r\n  Prop,\r\n  Mixins,\r\n  Watch,\r\n  Ref\r\n} from 'vue-property-decorator'\r\nimport FdControlVue from '@/api/abstract/FormDesigner/FdControlVue'\r\n@Component({\r\n  name: 'FDComboBox'\r\n})\r\nexport default class FDComboBox extends Mixins(FdControlVue) {\r\n  $el!: HTMLDivElement;\r\n  @Ref('textareaRef') textareaRef: HTMLTextAreaElement;\r\n  @Ref('autoSizeTextarea') readonly autoSizeTextarea!: HTMLLabelElement;\r\n  @Ref('hideSelectionDiv') readonly hideSelectionDiv!: HTMLDivElement;\r\n  @Ref('comboRef') comboRef!: HTMLDivElement;\r\n  @Ref('itemsRef') itemsRef!: HTMLDivElement;\r\n  @Ref('trRef') trRef!: HTMLDivElement;\r\n\r\n  private tabindex = 0;\r\n  eTargetValue: string = '';\r\n  tempArray: Array<Array<string>> = [];\r\n  open: boolean = false;\r\n  multiselect = [];\r\n  selectionStart: number = 0;\r\n  selectionEnd: number = 0;\r\n  tempInputValue: string = '';\r\n  tempWidth: string = '0px';\r\n  isScrolling: boolean = false;\r\n  tempHeight: number;\r\n  inBlur: boolean = false;\r\n  headWidth: string = '100%';\r\n  controlZIndex: number = -1;\r\n  newColumnWidthsValue: string = '';\r\n  makeOpen () {\r\n    this.open = true\r\n  }\r\n\r\n  updateColumnHeads (index: number) {\r\n    const controlProp = this.properties\r\n    if (this.properties.RowSource !== '') {\r\n      return {\r\n        textAlign: controlProp.TextAlign === 0 ? 'left' : controlProp.TextAlign === 2 ? 'right' : 'center',\r\n        borderRight: index >= this.extraDatas.ColumnHeadsValues!.length - 1 ? '' : (index < controlProp.ColumnCount! - 1) ? '1px solid' : controlProp.ColumnCount === -1 ? (index < this.extraDatas.RowSourceData![0].length - 1) ? '1px solid' : '' : '',\r\n        overflow: 'hidden'\r\n      }\r\n    } else {\r\n      return {\r\n        display: 'none'\r\n      }\r\n    }\r\n  }\r\n  columnItemObj (index: number) {\r\n    const controlProp = this.properties\r\n    this.updateColumns()\r\n    return {\r\n      position: 'relative',\r\n      display: 'inline-block',\r\n      width: '100%',\r\n      textAlign: controlProp.TextAlign === 2 ? 'right' : controlProp.TextAlign === 1 ? 'center' : 'left',\r\n      overflow: 'hidden',\r\n      paddingBottom: this.data.properties.Font!.FontSize! > 48 ? '10px' : '5px'\r\n    }\r\n  }\r\n\r\n  @Watch('open')\r\n  openValidate () {\r\n    if (this.open) {\r\n      this.updateDataModelExtraData({ propertyName: 'zIndex', value: -1 })\r\n    } else {\r\n      this.updateDataModelExtraData({ propertyName: 'zIndex', value: this.controlZIndex })\r\n    }\r\n    if (this.open && this.properties.RowSource !== '') {\r\n      Vue.nextTick(() => {\r\n        this.headWidth = this.comboRef.children[1].children[0].scrollWidth + 'px'\r\n      })\r\n    }\r\n  }\r\n\r\n  @Watch('isEditMode')\r\n  editModeValidate () {\r\n    if (this.properties.ShowDropButtonWhen === 1) {\r\n      if (this.isEditMode) {\r\n        this.isVisible = true\r\n      } else {\r\n        this.isVisible = false\r\n      }\r\n    }\r\n  }\r\n  @Watch('properties.ColumnWidths')\r\n  columnWidthsValidate () {\r\n    this.updateColumns()\r\n  }\r\n\r\n  @Watch('properties.TextAlign')\r\n  textAlignValidate () {\r\n    if (this.properties.AutoSize) {\r\n      this.updateAutoSize()\r\n    }\r\n  }\r\n  @Watch('properties.DropButtonStyle')\r\n  dropButtonStyleValidate () {\r\n    if (this.properties.AutoSize) {\r\n      this.updateAutoSize()\r\n    }\r\n  }\r\n  @Watch('properties.Enabled')\r\n  enabledValidate () {\r\n    if (this.properties.AutoSize) {\r\n      this.updateAutoSize()\r\n    }\r\n  }\r\n  @Watch('properties.SelectionMargin')\r\n  selectionMarginValidate () {\r\n    if (this.properties.AutoSize) {\r\n      this.updateAutoSize()\r\n    }\r\n  }\r\n  @Watch('properties.ShowDropButtonWhen')\r\n  showDropButtonWhenValidate () {\r\n    if (this.properties.AutoSize) {\r\n      this.updateAutoSize()\r\n    }\r\n  }\r\n  @Watch('properties.ColumnCount')\r\n  columnCountValidate () {\r\n    this.updateColumns()\r\n  }\r\n  get tHeadStyleObj () {\r\n    return {\r\n      width: this.headWidth\r\n    }\r\n  }\r\n\r\n  updateColumns () {\r\n    if (this.properties.RowSource !== '') {\r\n      let finalWidths:Array<number> = []\r\n      if (this.comboRef && this.comboRef.children[0]) {\r\n        if (this.comboRef.children[0].children[0]) {\r\n          for (let j = 0; j < this.comboRef.children[0].children[0].children.length; j++) {\r\n            const headWidth = this.comboRef.children[0].children[0].children[j] as HTMLDivElement\r\n            if (this.properties.ColumnCount! === -1) {\r\n              if (j >= 0 && j < this.extraDatas.RowSourceData!.length) {\r\n                headWidth.style.minWidth = '100px'\r\n              }\r\n            }\r\n          }\r\n        }\r\n      }\r\n      if (this.properties.ColumnWidths === '' && this.itemsRef && this.comboRef.children[1]) {\r\n        if (this.comboRef.children[1].children[0]) {\r\n          let tempWidth\r\n          if (this.properties.ColumnCount! <= this.extraDatas.RowSourceData![0].length) {\r\n            if (this.properties.Width! > 100) {\r\n              if (this.properties.ColumnCount! === -1) {\r\n                tempWidth = this.properties.Width! / this.extraDatas.RowSourceData![0].length\r\n              } else {\r\n                tempWidth = this.properties.Width! / this.properties.ColumnCount!\r\n              }\r\n            } else {\r\n              tempWidth = 100\r\n            }\r\n          } else {\r\n            if (this.properties.Width! > 100) {\r\n              tempWidth = this.properties.Width! / this.extraDatas.RowSourceData![0].length\r\n            } else {\r\n              tempWidth = 100\r\n            }\r\n          }\r\n          for (let i = 0; i < this.comboRef.children[1].children.length; i++) {\r\n            if (this.properties.ListStyle === 0) {\r\n              Vue.nextTick(() => {\r\n                if (this.comboRef && this.comboRef.children[0] && this.comboRef.children[0].children[0]) {\r\n                  for (let j = 0; j < this.comboRef.children[0].children[0].children.length; j++) {\r\n                    if (this.comboRef && this.comboRef.children[0] && this.comboRef.children[0].children[0] && this.comboRef.children[0].children[0].children[j]) {\r\n                      const headWidth = this.comboRef.children[0].children[0].children[j] as HTMLDivElement\r\n                      if (this.properties.ColumnCount !== -1) {\r\n                        if (j === this.comboRef.children[0].children[0].children.length - 1) {\r\n                          headWidth.style.width = finalWidths[j] + 'px'\r\n                        } else {\r\n                          headWidth.style.width = '100px'\r\n                        }\r\n                      }\r\n                    }\r\n                  }\r\n                }\r\n              })\r\n              for (let j = 0; j < this.comboRef.children[1].children[i].children.length; j++) {\r\n                const width = this.comboRef.children[1].children[i].children[j] as HTMLDivElement\r\n                if (this.properties.ColumnCount! === -1) {\r\n                  if (j >= 0 && j < this.extraDatas.RowSourceData!.length) {\r\n                    width.style.width = tempWidth + 'px'\r\n                  }\r\n                } else if (j + 1 > this.properties.ColumnCount!) {\r\n                  width.style.minWidth = '0px'\r\n                  width.style.width = '0px'\r\n                } else {\r\n                  if (j < this.extraDatas.RowSourceData!.length) {\r\n                    width.style.minWidth = '100px'\r\n                    width.style.width = tempWidth + 'px'\r\n                  }\r\n                }\r\n              }\r\n            } else {\r\n              Vue.nextTick(() => {\r\n                if (this.comboRef && this.comboRef.children[0] && this.comboRef.children[0].children[0]) {\r\n                  for (let j = 0; j < this.comboRef.children[0].children[0].children.length; j++) {\r\n                    if (this.comboRef && this.comboRef.children[0] && this.comboRef.children[0].children[0] && this.comboRef.children[0].children[0].children[j]) {\r\n                      const headWidth = this.comboRef.children[0].children[0].children[j] as HTMLDivElement\r\n                      if (this.properties.ColumnCount !== -1) {\r\n                        if (j === this.comboRef.children[0].children[0].children.length - 1) {\r\n                          headWidth.style.width = finalWidths[j] + 'px'\r\n                        } else {\r\n                          headWidth.style.width = '100px'\r\n                        }\r\n                      }\r\n                    }\r\n                  }\r\n                }\r\n              })\r\n              for (let j = 0; j < this.comboRef.children[1].children[i].children.length; j++) {\r\n                const width = this.comboRef.children[1].children[i].children[j] as HTMLDivElement\r\n                if (this.properties.ColumnCount! === -1) {\r\n                  if (j >= 0 && j < this.extraDatas.RowSourceData!.length) {\r\n                    width.style.width = '100px'\r\n                  }\r\n                } else if (j === 1 && this.properties.ColumnCount! === 1) {\r\n                  width.style.width = this.properties.Width + 'px'\r\n                } else if (j > this.properties.ColumnCount!) {\r\n                  width.style.minWidth = '0px'\r\n                  width.style.width = '0px'\r\n                } else {\r\n                  if (j < this.extraDatas.RowSourceData!.length) {\r\n                    width.style.minWidth = '100px'\r\n                    width.style.width = (parseInt(this.itemsRef.style.width) / this.properties.ColumnCount!) + 'px'\r\n                  }\r\n                }\r\n              }\r\n            }\r\n          }\r\n        }\r\n      } else if (this.itemsRef && this.comboRef.children[1]) {\r\n        finalWidths = this.calculateColumnWidths()\r\n        if (this.comboRef.children[1].children[0]) {\r\n          for (let i = 0; i < this.comboRef.children[1].children.length; i++) {\r\n            if (this.properties.ListStyle === 0) {\r\n              for (let j = 0; j < this.comboRef.children[1].children[i].children.length; j++) {\r\n                const width = this.comboRef.children[1].children[i].children[j] as HTMLDivElement\r\n                if (j >= this.properties.ColumnCount! && this.properties.ColumnCount !== -1) {\r\n                  width.style.display = 'none'\r\n                } else {\r\n                  width.style.display = 'inline-block'\r\n                  if (this.properties.ColumnCount === 1) {\r\n                    if (this.properties.Width! > finalWidths[0]) {\r\n                      width.style.width = this.properties.Width! + 'px'\r\n                    } else {\r\n                      width.style.width = finalWidths[0] + 'px'\r\n                    }\r\n                  } else {\r\n                    width.style.minWidth = '0px'\r\n                    width.style.width = finalWidths[j] + 'px'\r\n                  }\r\n                }\r\n                if (this.comboRef && this.comboRef.children[0] && this.comboRef.children[0].children[0] && this.comboRef.children[0].children[0].children[j]) {\r\n                  const headWidth = this.comboRef.children[0].children[0].children[j] as HTMLDivElement\r\n                  if (this.properties.ColumnCount === -1) {\r\n                    headWidth.style.display = 'inline-block'\r\n                    headWidth.style.minWidth = '0px'\r\n                    headWidth.style.width = finalWidths[j] + 'px'\r\n                  } else if (j >= this.properties.ColumnCount!) {\r\n                    headWidth.style.display = 'none'\r\n                  } else {\r\n                    headWidth.style.display = 'inline-block'\r\n                    if (this.properties.ColumnCount === 1) {\r\n                      if (this.properties.Width! > finalWidths[0]) {\r\n                        headWidth.style.width = this.properties.Width! + 'px'\r\n                      } else {\r\n                        headWidth.style.width = finalWidths[0] + 'px'\r\n                      }\r\n                    } else {\r\n                      headWidth.style.width = finalWidths[j] + 'px'\r\n                    }\r\n                  }\r\n                }\r\n              }\r\n            } else {\r\n              for (let j = 0; j < this.comboRef.children[1].children[i].children.length; j++) {\r\n                const width = this.comboRef.children[1].children[i].children[j] as HTMLDivElement\r\n                if (j > 0) {\r\n                  if (j > this.properties.ColumnCount! && j > this.extraDatas.RowSourceData!.length - 1) {\r\n                    width.style.display = 'none'\r\n                  } else {\r\n                    width.style.display = 'inline-block'\r\n                    if (this.properties.ColumnCount === 1) {\r\n                      if (this.properties.Width! > finalWidths[0]) {\r\n                        width.style.width = this.properties.Width! + 'px'\r\n                      } else {\r\n                        width.style.width = finalWidths[0] + 'px'\r\n                      }\r\n                    } else {\r\n                      width.style.minWidth = '0px'\r\n                      width.style.width = finalWidths[j - 1] + 'px'\r\n                    }\r\n                  }\r\n                  if (this.comboRef && this.comboRef.children[0] && this.comboRef.children[0].children[0] && this.comboRef.children[0].children[0].children[j]) {\r\n                    const headWidth = this.comboRef.children[0].children[0].children[j] as HTMLDivElement\r\n                    if (this.properties.ColumnCount === -1) {\r\n                      headWidth.style.display = 'inline-block'\r\n                      headWidth.style.minWidth = '0px'\r\n                      headWidth.style.width = finalWidths[j] + 'px'\r\n                    } else if (j >= this.properties.ColumnCount!) {\r\n                      headWidth.style.display = 'none'\r\n                    } else {\r\n                      headWidth.style.display = 'inline-block'\r\n                      if (this.properties.ColumnCount === 1) {\r\n                        if (this.properties.Width! > finalWidths[0]) {\r\n                          headWidth.style.width = this.properties.Width! + 'px'\r\n                        } else {\r\n                          headWidth.style.width = finalWidths[0] + 'px'\r\n                        }\r\n                      } else {\r\n                        headWidth.style.width = finalWidths[j] + 'px'\r\n                      }\r\n                    }\r\n                  }\r\n                }\r\n              }\r\n            }\r\n          }\r\n        }\r\n      }\r\n    } else {\r\n      this.headWidth = '100%'\r\n    }\r\n  }\r\n\r\n  calculateColumnWidths () {\r\n    let a = (this.properties.ColumnWidths!.split(';'))\r\n    let b = []\r\n    let temp = 0\r\n    let totalWidth = this.properties.Width!\r\n    let totalColumnWidths = 0\r\n    let colWidths = this.properties.ColumnWidths!\r\n    let columnWidthCount = colWidths.split(';').length\r\n    let totalColumnCount = this.properties.ColumnCount! < this.extraDatas.RowSourceData![0].length ? this.properties.ColumnCount! : this.extraDatas.RowSourceData![0].length\r\n    let widths = []\r\n    let finalWidths:Array<number> = []\r\n    let lastColumWidth = 0\r\n    if (this.properties.ColumnCount === -1) {\r\n      if (columnWidthCount >= this.extraDatas.RowSourceData![0].length) {\r\n        for (let i = 0; i < this.extraDatas.RowSourceData![0].length; i++) {\r\n          if (i < this.extraDatas.RowSourceData![0].length) {\r\n            let tempWidth = parseInt(colWidths.split(';')[i], 10)\r\n            totalColumnWidths += tempWidth\r\n            widths.push(tempWidth)\r\n          }\r\n        }\r\n      } else {\r\n        let count = 0\r\n        let colWidthCalculatedCount = 0\r\n        let colWidth = 0\r\n        for (let i = 0; i < this.extraDatas.RowSourceData![0].length; i++) {\r\n          if (i < columnWidthCount) {\r\n            widths.push(parseInt(colWidths.split(';')[i], 10))\r\n            count = count + 1\r\n            totalColumnWidths += parseInt(colWidths.split(';')[i], 10)\r\n          } else {\r\n            if (totalWidth > totalColumnWidths) {\r\n              colWidthCalculatedCount = colWidthCalculatedCount + 1\r\n              if (colWidthCalculatedCount === 1) {\r\n                colWidth = ((totalWidth - totalColumnWidths) / (this.extraDatas.RowSourceData![0].length - count))\r\n              }\r\n              widths.push(colWidth)\r\n              totalColumnWidths += colWidth\r\n            } else {\r\n              widths.push(100)\r\n            }\r\n          }\r\n        }\r\n      }\r\n      if (totalWidth > totalColumnWidths) {\r\n        for (let i = 0; i < widths.length; i++) {\r\n          if (widths.length - 1 !== i) {\r\n            lastColumWidth = totalWidth - widths[i]!\r\n            finalWidths.push(widths[i])\r\n            totalWidth = lastColumWidth\r\n          } else {\r\n            finalWidths.push(lastColumWidth)\r\n          }\r\n        }\r\n      } else if (totalWidth <= totalColumnWidths) {\r\n        for (let j = 0; j < widths.length; j++) {\r\n          finalWidths.push(widths[j])\r\n        }\r\n      }\r\n    } else {\r\n      if (columnWidthCount >= totalColumnCount) {\r\n        for (let i = 0; i < totalColumnCount; i++) {\r\n          if (i < this.properties.ColumnCount!) {\r\n            let tempWidth = parseInt(colWidths.split(';')[i], 10)\r\n            totalColumnWidths += tempWidth\r\n            widths.push(tempWidth)\r\n          }\r\n        }\r\n      } else {\r\n        let count = 0\r\n        let colWidthCalculatedCount = 0\r\n        let colWidth = 0\r\n        for (let i = 0; i < totalColumnCount; i++) {\r\n          if (i < columnWidthCount) {\r\n            widths.push(parseInt(colWidths.split(';')[i], 10))\r\n            count = count + 1\r\n            totalColumnWidths += parseInt(colWidths.split(';')[i], 10)\r\n          } else {\r\n            if (totalWidth > totalColumnWidths) {\r\n              colWidthCalculatedCount = colWidthCalculatedCount + 1\r\n              if (colWidthCalculatedCount === 1) {\r\n                colWidth = ((totalWidth - totalColumnWidths) / (totalColumnCount - count))\r\n              }\r\n              widths.push(colWidth)\r\n              totalColumnWidths += colWidth\r\n            } else {\r\n              widths.push(100)\r\n            }\r\n          }\r\n        }\r\n      }\r\n      if (totalWidth > totalColumnWidths) {\r\n        for (let i = 0; i < widths.length; i++) {\r\n          if (widths.length - 1 !== i) {\r\n            lastColumWidth = totalWidth - widths[i]!\r\n            finalWidths.push(widths[i])\r\n            totalWidth = lastColumWidth\r\n          } else {\r\n            finalWidths.push(lastColumWidth)\r\n          }\r\n        }\r\n      } else if (totalWidth <= totalColumnWidths) {\r\n        for (let j = 0; j < widths.length; j++) {\r\n          finalWidths.push(widths[j])\r\n        }\r\n      }\r\n    }\r\n    return finalWidths\r\n  }\r\n  get getDisableValue () {\r\n    if (this.isRunMode || this.isEditMode) {\r\n      return this.properties.Enabled === false || this.properties.Locked\r\n    } else {\r\n      return true\r\n    }\r\n  }\r\n\r\n  get emptyColHeads () {\r\n    return {\r\n      height: '15px'\r\n    }\r\n  }\r\n  updateColumnValue (index: number) {\r\n    return this.updateColumnWidths(index, this.tempHeight)\r\n  }\r\n\r\n  get selectionStyle () {\r\n    const controlProp = this.properties\r\n    return {\r\n      width: 'fit-content',\r\n      borderLeft:\r\n        controlProp.BorderStyle === 1\r\n          ? '1px solid ' + controlProp.BorderColor\r\n          : controlProp.SpecialEffect === 2\r\n            ? '2px solid gray'\r\n            : controlProp.SpecialEffect === 3\r\n              ? '1.5px solid gray'\r\n              : controlProp.SpecialEffect === 4\r\n                ? '0.5px solid gray'\r\n                : '',\r\n      borderTop:\r\n        controlProp.BorderStyle === 1\r\n          ? '0.25px solid ' + controlProp.BorderColor\r\n          : controlProp.SpecialEffect === 2\r\n            ? '2px solid gray'\r\n            : controlProp.SpecialEffect === 3\r\n              ? '1.5px solid gray'\r\n              : controlProp.SpecialEffect === 4\r\n                ? '0.5px solid gray'\r\n                : '',\r\n      borderBottom: controlProp.BorderStyle === 1\r\n        ? '0.25px solid ' + controlProp.BorderColor : controlProp.SpecialEffect === 1\r\n          ? '2px solid gray'\r\n          : controlProp.SpecialEffect === 4\r\n            ? '1.5px solid gray'\r\n            : controlProp.SpecialEffect === 3\r\n              ? '0.5px solid gray'\r\n              : ''\r\n\r\n    }\r\n  }\r\n\r\n  toFocus () {\r\n    if (this.isEditMode) {\r\n      this.isVisible = true\r\n    } else {\r\n      this.isVisible = false\r\n    }\r\n  }\r\n  tableClick (e: Event) {\r\n    this.tempListBoxComboBoxEvent = e\r\n  }\r\n\r\n  @Watch('properties.Font.FontSize', { deep: true })\r\n  autoSizeValidateOnFontChange () {\r\n    if (this.properties.AutoSize) {\r\n      this.updateAutoSize()\r\n    }\r\n  }\r\n\r\n  @Watch('properties.RowSource')\r\n  rowSourceValidate () {\r\n    if (this.properties.RowSource !== '') {\r\n      Vue.nextTick(() => {\r\n        this.updateColumns()\r\n      })\r\n      const initialRowSourceData = this.extraDatas.RowSourceData!\r\n      if (initialRowSourceData) {\r\n        this.tempArray = initialRowSourceData\r\n      }\r\n      this.updateDataModel({ propertyName: 'ControlSource', value: '' })\r\n      if (initialRowSourceData && initialRowSourceData.length === 0) {\r\n        this.updateDataModel({ propertyName: 'TopIndex', value: -1 })\r\n      } else {\r\n        this.updateDataModel({ propertyName: 'TopIndex', value: 0 })\r\n      }\r\n    } else {\r\n      this.headWidth = '100%'\r\n    }\r\n  }\r\n\r\n  handleTextInput (e: Event) {\r\n    if (this.properties.AutoSize) {\r\n      this.updateAutoSize()\r\n    }\r\n    if (e.target instanceof HTMLTextAreaElement) {\r\n      const tempEvent = e.target\r\n      this.eTargetValue = e.target.value\r\n      this.updateDataModel({ propertyName: 'Value', value: this.eTargetValue })\r\n      this.updateDataModel({ propertyName: 'Text', value: this.eTargetValue })\r\n      if (this.properties.RowSource !== '') {\r\n        if (this.properties.MatchEntry !== 0) {\r\n          this.textareaRef.focus()\r\n        }\r\n        if (this.properties.MatchEntry === 0) {\r\n          for (let i = 0; i < this.tempArray.length; i++) {\r\n            if (this.tempArray[i][0][0] === this.textareaRef.value[0]) {\r\n              this.textareaRef.value = this.tempArray[i][0]\r\n              this.updateDataModel({\r\n                propertyName: 'Text',\r\n                value: this.tempArray[i][0]\r\n              })\r\n              break\r\n            }\r\n          }\r\n          this.textareaRef.setSelectionRange(\r\n            0,\r\n            this.textareaRef.value.length,\r\n            'forward'\r\n          )\r\n        }\r\n      } else {\r\n        this.tempArray = []\r\n      }\r\n    } else {\r\n      throw new Error('target is not instance of div element')\r\n    }\r\n  }\r\n\r\n  setSelection () {\r\n    const setSelectionRef = this.textareaRef\r\n    setSelectionRef.focus()\r\n    setSelectionRef.select()\r\n  }\r\n  clearMatchEntry () {\r\n    this.updateDataModelExtraData({ propertyName: 'MatchData', value: '' })\r\n  }\r\n\r\n  protected get selectionSpanObj (): Partial<CSSStyleDeclaration> {\r\n    const controlProp = this.properties\r\n    return {\r\n      backgroundColor: controlProp.BackStyle\r\n        ? controlProp.BackColor\r\n        : 'transparent'\r\n    }\r\n  }\r\n\r\n  protected get colHeadsStyle (): Partial<CSSStyleDeclaration> {\r\n    const controlProp = this.properties\r\n    return {\r\n      backgroundColor: controlProp.BackColor,\r\n      width: '100%'\r\n    }\r\n  }\r\n\r\n  scrollingOnListItems (e: Event) {\r\n    this.isScrolling = true\r\n  }\r\n  /**\r\n   * @description  show selection when TextBox loses focus\r\n   * when HideSelection is false selection is show if user selects any text\r\n   * @function handleBlur\r\n   * @event blur\r\n   *\r\n   */\r\n  handleBlur (\r\n    event: TextEvent,\r\n    textareaRef: HTMLTextAreaElement,\r\n    hideSelectionDiv: HTMLDivElement\r\n  ) {\r\n    this.inBlur = false\r\n    if (this.isScrolling) {\r\n      this.open = true\r\n      this.textareaRef.focus()\r\n    } else if (this.open) {\r\n      this.inBlur = true\r\n      this.open = false\r\n    }\r\n    this.isScrolling = false\r\n    if (this.properties.ShowDropButtonWhen === 1) {\r\n      this.isVisible = false\r\n    }\r\n    if (\r\n      this.properties.EnterFieldBehavior === 1 &&\r\n      event.target instanceof HTMLTextAreaElement\r\n    ) {\r\n      const eventTarget = event.target\r\n      let tempField = this.tempInputValue.slice(\r\n        eventTarget.selectionStart - eventTarget.selectionEnd\r\n      )\r\n      this.selectionStart = eventTarget.selectionStart\r\n      this.selectionEnd = eventTarget.selectionEnd\r\n    }\r\n    if (\r\n      !this.properties.HideSelection &&\r\n      textareaRef &&\r\n      event.target instanceof HTMLTextAreaElement\r\n    ) {\r\n      const eventTarget = event.target\r\n\r\n      hideSelectionDiv.style.display = 'block'\r\n      hideSelectionDiv.style.height = this.properties.Height! + 'px'\r\n      hideSelectionDiv.style.width = this.properties.Width! + 'px'\r\n      textareaRef.style.display = 'none'\r\n      let textarea = eventTarget.value\r\n      let firstPart =\r\n        textarea.slice(0, eventTarget.selectionEnd) +\r\n        '</span>' +\r\n        textarea.slice(eventTarget.selectionEnd + Math.abs(0))\r\n      let text =\r\n        firstPart.slice(0, eventTarget.selectionStart) +\r\n        \"<span style='background-color:lightblue'>\" +\r\n        firstPart.slice(eventTarget.selectionStart + Math.abs(0))\r\n      hideSelectionDiv.innerHTML = text\r\n    }\r\n    if (this.properties.MatchRequired && textareaRef) {\r\n      const arrayCheck = this.extraDatas.RowSourceData!.findIndex(\r\n        (element) => element[0] === this.tempInputValue\r\n      )\r\n      if (arrayCheck === -1) {\r\n        this.textareaRef.focus()\r\n      } else {\r\n        return undefined\r\n      }\r\n    }\r\n  }\r\n  /**\r\n   *@description hides the div when focus comes to textarea when hideSelection\r\n   * properties is false\r\n   * @function handleClick\r\n   * @param event its of FocusEvent\r\n   * @event click\r\n   */\r\n  handleClick (\r\n    event: TextEvent,\r\n    textareaRef: HTMLTextAreaElement,\r\n    hideSelectionDiv: HTMLDivElement\r\n  ) {\r\n    if (!this.properties.HideSelection) {\r\n      hideSelectionDiv.style.display = 'none'\r\n    } else {\r\n      return undefined\r\n    }\r\n    if (this.properties.EnterFieldBehavior === 0) {\r\n      this.textareaRef.focus()\r\n      this.textareaRef.select()\r\n    } else if (this.properties.EnterFieldBehavior === 1) {\r\n    } else {\r\n      return undefined\r\n    }\r\n  }\r\n  /**\r\n   * @description hides div instead of textarea when hideSelection is false\r\n   * when hideSelection properties is true textarea is shown\r\n   * when hideSelection properties is false div is shown\r\n   * @function divHide\r\n   * @param event its of type MouseEvent\r\n   * @event click\r\n   */\r\n  divHide (event: MouseEvent, textareaRef: HTMLTextAreaElement) {\r\n    if (\r\n      event.target instanceof HTMLSpanElement ||\r\n      event.target instanceof HTMLDivElement\r\n    ) {\r\n      event.target.style.display = 'none'\r\n      textareaRef.style.display = 'block'\r\n      if (\r\n        event.target.tagName === 'SPAN' &&\r\n        event.target.parentNode!.nodeName === 'DIV'\r\n      ) {\r\n        (event.target.parentNode as HTMLElement).style.display = 'none'\r\n      }\r\n      textareaRef.focus()\r\n      textareaRef.selectionStart = textareaRef.selectionEnd\r\n    } else {\r\n      throw new Error('event.target is not an instance of Span or Div Element')\r\n    }\r\n  }\r\n  /**\r\n   * @description dragBehavior - if true when dragging\r\n   *  if false the cursor remains in same place\r\n   * @function dragBehavior\r\n   * @param event its of type KeyboardEvent\r\n   * @event dragStart\r\n   */\r\n  dragBehavior (e: Event) {\r\n    if (this.properties.DragBehavior) {\r\n      return true\r\n    }\r\n    e.preventDefault()\r\n  }\r\n\r\n  /**\r\n   * @override\r\n   */\r\n  @Watch('properties.AutoSize', { deep: true })\r\n  updateAutoSize () {\r\n    if (this.properties.AutoSize === true) {\r\n      this.updateDataModel({ propertyName: 'SelectionMargin', value: false })\r\n      this.$nextTick(() => {\r\n        const textareaRef: HTMLTextAreaElement = this.textareaRef\r\n        // replication of stype attribute to Label tag for autoSize property to work\r\n        let tempLabel: HTMLLabelElement = this.autoSizeTextarea\r\n        tempLabel.style.display = 'inline'\r\n        tempLabel.style.fontStyle = textareaRef.style.fontStyle\r\n        tempLabel.style.fontSize = parseInt(textareaRef.style.fontSize) + 'px'\r\n        tempLabel.style.fontFamily = textareaRef.style.fontFamily\r\n        tempLabel.style.fontStretch = textareaRef.style.fontStretch\r\n        tempLabel.style.whiteSpace = textareaRef.style.whiteSpace\r\n        tempLabel.style.wordBreak = textareaRef.style.wordBreak\r\n        tempLabel.style.fontWeight = textareaRef.style.fontWeight\r\n        tempLabel.style.width =\r\n          (this.textareaRef.value.length + 1) *\r\n            parseInt(textareaRef.style.fontSize) +\r\n          'px'\r\n        tempLabel.style.height = textareaRef.style.height\r\n        tempLabel.innerText = textareaRef.value\r\n        this.updateDataModel({\r\n          propertyName: 'Width',\r\n          value:\r\n            tempLabel.offsetWidth > 20\r\n              ? tempLabel.offsetWidth + 25\r\n              : tempLabel.offsetWidth + 29\r\n        })\r\n        this.updateDataModel({\r\n          propertyName: 'Height',\r\n          value: tempLabel.offsetHeight + 15\r\n        })\r\n        tempLabel.innerText = ''\r\n        tempLabel.style.display = 'none'\r\n        this.selectionData[0] = this.eTargetValue\r\n      })\r\n    } else {\r\n      return undefined\r\n    }\r\n  }\r\n\r\n  protected get listStyleObj () {\r\n    const controlProp = this.properties\r\n    if (this.properties.RowSource !== '') {\r\n      return {\r\n        height: !controlProp.ColumnHeads\r\n          ? controlProp.ListRows! > 0 &&\r\n            controlProp.ListRows! < this.extraDatas.RowSourceData!.length\r\n            ? controlProp.ListRows! * (controlProp.Font!.FontSize! + 9) + 'px'\r\n            : ''\r\n          : controlProp.ListRows! > 0 &&\r\n            controlProp.ListRows! < this.extraDatas.RowSourceData!.length\r\n            ? (controlProp.ListRows! + 1) * (controlProp.Font!.FontSize! + 9) +\r\n            'px'\r\n            : '',\r\n        backgroundColor: controlProp.BackColor\r\n      }\r\n    } else {\r\n      return {\r\n        backgroundColor: controlProp.BackColor,\r\n        border: '1px solid black',\r\n        width: 'calc(100% - 2px)',\r\n        height: 'calc(100% - 2px)',\r\n        minWidth: '100px'\r\n      }\r\n    }\r\n  }\r\n\r\n  protected get tableStyleObj () {\r\n    const controlProp = this.properties\r\n    const font: font = controlProp.Font\r\n      ? controlProp.Font\r\n      : {\r\n        FontName: 'Arial',\r\n        FontSize: 20,\r\n        FontItalic: true,\r\n        FontBold: true,\r\n        FontUnderline: true,\r\n        FontStrikethrough: true\r\n      }\r\n    return {\r\n      borderCollapse: 'collapse',\r\n      tableLayout: 'fixed',\r\n      backgroundColor: controlProp.BackStyle\r\n        ? controlProp.BackColor\r\n        : 'transparent',\r\n      color: controlProp.ForeColor,\r\n      fontFamily: font.FontStyle! !== '' ? this.setFontStyle : font.FontName!,\r\n      fontSize: `${font.FontSize}px`,\r\n      fontStyle: font.FontItalic || this.isItalic ? 'italic' : '',\r\n      textDecoration:\r\n        font.FontStrikethrough === true && font.FontUnderline === true\r\n          ? 'underline line-through'\r\n          : font.FontUnderline\r\n            ? 'underline'\r\n            : font.FontStrikethrough\r\n              ? 'line-through'\r\n              : '',\r\n      textDecorationSkipInk: 'none',\r\n      fontWeight: font.FontBold\r\n        ? 'bold'\r\n        : font.FontStyle !== ''\r\n          ? this.tempWeight\r\n          : '',\r\n      fontStretch: font.FontStyle !== '' ? this.tempStretch : '',\r\n      width: 'calc(100% - 2px)',\r\n      outline: 'none'\r\n    }\r\n  }\r\n\r\n  protected get cssStyleProperty () {\r\n    const controlProp = this.properties\r\n    const font: font = controlProp.Font\r\n      ? controlProp.Font\r\n      : {\r\n        FontName: 'Arial',\r\n        FontSize: 20,\r\n        FontItalic: true,\r\n        FontBold: true,\r\n        FontUnderline: true,\r\n        FontStrikethrough: true\r\n      }\r\n    return {\r\n      left: `${controlProp.Left}px`,\r\n      width:\r\n        controlProp.ShowDropButtonWhen === 0\r\n          ? `${controlProp.Width! - 4}px`\r\n          : controlProp.ShowDropButtonWhen === 1 && this.isVisible === false\r\n            ? `${controlProp.Width! - 4}px`\r\n            : controlProp.SelectionMargin\r\n              ? `${controlProp.Width! - 30}px`\r\n              : `${controlProp.Width! - 25}px`,\r\n      height: `${controlProp.Height! - 5}px`,\r\n      top: `${controlProp.Top}px`,\r\n      fontFamily: font.FontStyle! !== '' ? this.setFontStyle : font.FontName!,\r\n      fontSize: `${font.FontSize}px`,\r\n      fontStyle: font.FontItalic || this.isItalic ? 'italic' : '',\r\n      textDecoration:\r\n        font.FontStrikethrough === true && font.FontUnderline === true\r\n          ? 'underline line-through'\r\n          : font.FontUnderline\r\n            ? 'underline'\r\n            : font.FontStrikethrough\r\n              ? 'line-through'\r\n              : '',\r\n      textDecorationSkipInk: 'none',\r\n      fontWeight: font.FontBold\r\n        ? 'bold'\r\n        : font.FontStyle !== ''\r\n          ? this.tempWeight\r\n          : '',\r\n      fontStretch: font.FontStyle !== '' ? this.tempStretch : '',\r\n      backgroundColor: controlProp.BackStyle\r\n        ? controlProp.BackColor\r\n        : 'transparent',\r\n      color: controlProp.ForeColor,\r\n      textAlign:\r\n        controlProp.TextAlign === 0\r\n          ? 'left'\r\n          : controlProp.TextAlign === 1\r\n            ? 'center'\r\n            : 'right',\r\n      cursor:\r\n        controlProp.MousePointer !== 0 || controlProp.MouseIcon !== ''\r\n          ? this.isEditMode || !this.isActivated\r\n            ? this.getMouseCursorData\r\n            : 'default'\r\n          : 'default'\r\n    }\r\n  }\r\n  /**\r\n   * @description style object is passed to :style attribute in div tag\r\n   * dynamically changing the styles of the component based on cssStyleProperty of\r\n   * textarea\r\n   * @function divcssStyleProperty\r\n   *\r\n   */\r\n  get divcssStyleProperty () {\r\n    const styleObject = this.cssStyleProperty\r\n    return {\r\n      ...styleObject,\r\n      display: 'none',\r\n      whiteSpace: 'break-spaces',\r\n      width: `${this.properties.Width! - 10}px`,\r\n      height: `${this.properties.Height!}px`\r\n    }\r\n  }\r\n\r\n  protected get customSelectObj (): Partial<CSSStyleDeclaration> {\r\n    const controlProp = this.properties\r\n    let display = ''\r\n    if (this.isRunMode) {\r\n      display = controlProp.Visible ? 'inline-block' : 'none'\r\n    } else {\r\n      display = 'inline-block'\r\n    }\r\n    return {\r\n      display: display\r\n    }\r\n  }\r\n  protected get tdStyleObj (): Partial<CSSStyleDeclaration> {\r\n    const controlProp = this.properties\r\n    return {\r\n      textAlign:\r\n        controlProp.TextAlign === 0\r\n          ? 'left'\r\n          : controlProp.TextAlign === 2\r\n            ? 'right'\r\n            : 'center',\r\n      display: 'inline-block',\r\n      marginRight: controlProp.ListStyle === 1 ? '5px' : ''\r\n    }\r\n  }\r\n  setWidth () {\r\n    this.tempWidth = `${this.properties.Width! + 20}px`\r\n    return this.tempWidth\r\n  }\r\n  @Watch('properties.Value', { deep: true })\r\n  textAndValueUpdateProp (newVal: string, oldVal: string) {\r\n    if (this.properties.AutoSize) {\r\n      this.updateAutoSize()\r\n    }\r\n    if (this.properties.RowSource !== '') {\r\n      if (\r\n        this.properties.BoundColumn! > 0 &&\r\n        this.properties.BoundColumn! < this.extraDatas.RowSourceData!.length\r\n      ) {\r\n        let tempData = [...this.extraDatas.RowSourceData!]\r\n        if (tempData![0][this.properties.BoundColumn! - 1] === newVal) {\r\n          this.updateDataModel({ propertyName: 'Value', value: newVal })\r\n        } else {\r\n          if (newVal !== '' && this.properties.Value) {\r\n            this.updateDataModel({ propertyName: 'Text', value: newVal })\r\n          }\r\n        }\r\n      }\r\n      if (newVal !== '' && this.properties.Value) {\r\n        this.selectionData[0] = newVal\r\n        this.updateDataModel({ propertyName: 'Text', value: newVal })\r\n      }\r\n    } else {\r\n      if (newVal !== '') {\r\n        this.updateDataModel({ propertyName: 'Text', value: newVal })\r\n      }\r\n    }\r\n  }\r\n\r\n  @Watch('properties.SelectionMargin', { deep: true })\r\n  checkSelectionMargin (newVal: boolean, oldVal: boolean) {\r\n    this.selectionData[0] = this.eTargetValue\r\n  }\r\n  releaseEditMode (event: KeyboardEvent) {\r\n    this.$el.focus()\r\n    this.setContentEditable(event, false)\r\n  }\r\n\r\n  @Watch('properties.ListStyle')\r\n  listStyleValidate () {\r\n    this.updateColumns()\r\n  }\r\n\r\n  @Watch('data.extraDatas.zIndex')\r\n  setLocalZIndex () {\r\n    this.controlZIndex = this.data.extraDatas!.zIndex!\r\n  }\r\n\r\n  mounted () {\r\n    this.controlZIndex = this.data.extraDatas!.zIndex!\r\n    this.$el.focus()\r\n    if (this.properties.RowSource !== '') {\r\n      const initialRowSourceData = this.extraDatas.RowSourceData!\r\n      if (initialRowSourceData) {\r\n        this.tempArray = initialRowSourceData\r\n      }\r\n      this.updateDataModel({ propertyName: 'ControlSource', value: '' })\r\n      if (initialRowSourceData && initialRowSourceData.length === 0) {\r\n        this.updateDataModel({ propertyName: 'TopIndex', value: -1 })\r\n      } else {\r\n        this.updateDataModel({ propertyName: 'TopIndex', value: 0 })\r\n      }\r\n    }\r\n  }\r\n\r\n  @Watch('properties.ControlSource', { deep: true })\r\n  updateControlSourceValue (newVal: string, oldVal: string) {\r\n    const propData: controlData = this.data\r\n    if (propData.properties.ControlSource !== '') {\r\n      const controlSourceValue = propData.extraDatas!.ControlSourceValue\r\n      this.updateDataModel({\r\n        propertyName: 'Value',\r\n        value: controlSourceValue\r\n      })\r\n      this.updateDataModel({ propertyName: 'Text', value: controlSourceValue })\r\n    } else {\r\n      this.updateDataModel({\r\n        propertyName: 'Value',\r\n        value: ''\r\n      })\r\n      this.updateDataModel({ propertyName: 'Text', value: '' })\r\n    }\r\n  }\r\n  expandWidth () {\r\n    if (this.properties.ShowDropButtonWhen === 0) {\r\n      return 'hidden'\r\n    } else if (this.properties.ShowDropButtonWhen === 1) {\r\n      if (this.isVisible) {\r\n        return 'visible'\r\n      } else {\r\n        return 'hidden'\r\n      }\r\n    }\r\n  }\r\n\r\n  protected get labelStyleObj (): Partial<CSSStyleDeclaration> {\r\n    const controlProp = this.properties\r\n    const font: font = controlProp.Font\r\n      ? controlProp.Font\r\n      : {\r\n        FontName: 'Arial',\r\n        FontSize: 20,\r\n        FontItalic: true,\r\n        FontBold: true,\r\n        FontUnderline: true,\r\n        FontStrikethrough: true\r\n      }\r\n    return {\r\n      fontFamily: font.FontStyle! !== '' ? this.setFontStyle : font.FontName!,\r\n      fontSize: `${font.FontSize}px`,\r\n      fontStyle: font.FontItalic || this.isItalic ? 'italic' : '',\r\n      textDecoration:\r\n        font.FontStrikethrough === true && font.FontUnderline === true\r\n          ? 'underline line-through'\r\n          : font.FontUnderline\r\n            ? 'underline'\r\n            : font.FontStrikethrough\r\n              ? 'line-through'\r\n              : '',\r\n      fontWeight: font.FontBold\r\n        ? 'bold'\r\n        : font.FontStyle !== ''\r\n          ? this.tempWeight\r\n          : '',\r\n      fontStretch: font.FontStyle !== '' ? this.tempStretch : ''\r\n    }\r\n  }\r\n\r\n  protected get boxStyleObj (): Partial<CSSStyleDeclaration> {\r\n    const controlProp = this.properties\r\n    return {\r\n      display: 'grid',\r\n      gridTemplateColumns: `${controlProp.Width! - 20}px` + ' 21px',\r\n      gridTemplateRows: `${controlProp.Height! + 1}px`,\r\n      outline: 'none',\r\n      overflow: 'hidden'\r\n    }\r\n  }\r\n\r\n  protected get itemsStyleObj (): Partial<CSSStyleDeclaration> {\r\n    const controlProp = this.properties\r\n    return {\r\n      width:\r\n        parseInt(controlProp.ListWidth!) > 0\r\n          ? parseInt(controlProp.ListWidth!) + 'px'\r\n          : this.setdropDownWidth,\r\n      height:\r\n        controlProp.RowSource !== ''\r\n          ? ''\r\n          : controlProp.ColumnHeads\r\n            ? '30px'\r\n            : '15px',\r\n      border: controlProp.RowSource !== '' ? '1px solid black' : 'none',\r\n      cursor:\r\n        controlProp.MousePointer !== 0 || controlProp.MouseIcon !== ''\r\n          ? this.isEditMode || !this.isActivated\r\n            ? this.getMouseCursorData\r\n            : 'default'\r\n          : 'default',\r\n      position: 'relative',\r\n      zIndex: '999'\r\n    }\r\n  }\r\n\r\n  get setdropDownWidth () {\r\n    if (this.properties.Width! < 100) {\r\n      return '100px'\r\n    } else {\r\n      return `${this.properties.Width!}px`\r\n    }\r\n  }\r\n\r\n  protected get selectedStyleObj (): Partial<CSSStyleDeclaration> {\r\n    const controlProp = this.properties\r\n    return {\r\n      visibility:\r\n        controlProp.ShowDropButtonWhen === 2 ? 'visible' : this.expandWidth(),\r\n      backgroundPosition:\r\n        controlProp.DropButtonStyle === 1 ? 'center' : 'bottom',\r\n      backgroundSize:\r\n        controlProp.DropButtonStyle === 1\r\n          ? '12px 12px'\r\n          : controlProp.DropButtonStyle === 2\r\n            ? '8px 8px'\r\n            : controlProp.DropButtonStyle === 3\r\n              ? '9px 14px'\r\n              : '',\r\n      cursor:\r\n        controlProp.MousePointer !== 0 || controlProp.MouseIcon !== ''\r\n          ? this.isEditMode || !this.isActivated\r\n            ? this.getMouseCursorData\r\n            : 'default'\r\n          : 'default',\r\n      display: 'flex',\r\n      justifyContent: 'center',\r\n      alignItems: controlProp.DropButtonStyle === 1 ? 'center' : 'flex-end',\r\n      borderTop:\r\n        controlProp.BorderStyle === 1\r\n          ? '0.25px solid ' + controlProp.BorderColor\r\n          : controlProp.SpecialEffect === 2\r\n            ? '2px solid gray'\r\n            : controlProp.SpecialEffect === 3\r\n              ? '1.5px solid gray'\r\n              : controlProp.SpecialEffect === 4\r\n                ? '0.5px solid gray'\r\n                : '0px',\r\n      borderColor: controlProp.BorderStyle === 1 ? controlProp.BorderColor : '',\r\n      borderRight:\r\n        controlProp.BorderStyle === 1\r\n          ? '1px solid' + controlProp.BorderColor\r\n          : controlProp.SpecialEffect === 1\r\n            ? '2px solid gray'\r\n            : controlProp.SpecialEffect === 4\r\n              ? '1.5px solid gray'\r\n              : controlProp.SpecialEffect === 3\r\n                ? '0.5px solid gray'\r\n                : '',\r\n      borderBottom:\r\n        controlProp.BorderStyle === 1\r\n          ? '1px solid' + controlProp.BorderColor\r\n          : controlProp.SpecialEffect === 1\r\n            ? '2px solid gray'\r\n            : controlProp.SpecialEffect === 4\r\n              ? '1.5px solid gray'\r\n              : controlProp.SpecialEffect === 3\r\n                ? '0.5px solid gray'\r\n                : '0.5px solid gray'\r\n    }\r\n  }\r\n  enabledCheck (e: MouseEvent) {\r\n    if (this.isRunMode || this.isActivated || this.isEditMode) {\r\n      if (this.open) {\r\n        this.open = false\r\n        this.textareaRef.focus()\r\n      } else if (this.inBlur) {\r\n        this.open = false\r\n      } else {\r\n        this.open = true\r\n        this.textareaRef.focus()\r\n      }\r\n    }\r\n    this.inBlur = false\r\n  }\r\n\r\n  eventStoppers () {\r\n    const eventStop = (event: Event) => event.stopPropagation()\r\n    return this.isEditMode === false\r\n      ? null\r\n      : {\r\n        keydown: eventStop\r\n      }\r\n  }\r\n  comBoxClick (event: MouseEvent) {\r\n    if (this.toolBoxSelectControl === 'Select') {\r\n      event.stopPropagation()\r\n      this.selectedItem(event)\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.custom-select {\r\n  position: relative;\r\n  text-align: left;\r\n  outline: none;\r\n  box-sizing: border-box;\r\n}\r\n.selectionSpan {\r\n  width: 5px;\r\n}\r\n.selectionDiv {\r\n  display: grid;\r\n  grid-template-columns: 5px auto;\r\n}\r\n.selected {\r\n  background-color: rgb(238, 238, 238);\r\n  border: 1px solid #858586;\r\n  border-left: 0px;\r\n  color: black;\r\n  background-size: 40%;\r\n  background-position: center;\r\n  background-repeat: no-repeat;\r\n  cursor: pointer;\r\n  width: 20px;\r\n  height: calc(100% - 2px);\r\n}\r\n\r\n.items {\r\n  color: black;\r\n  background-color: white;\r\n  overflow: hidden;\r\n  left: 0;\r\n  right: 0;\r\n  width: calc(100% + 20px);\r\n  cursor: context-menu;\r\n}\r\n.item {\r\n  color: black;\r\n  cursor: pointer;\r\n  border-left: 1px solid black;\r\n  border-right: 1px solid black;\r\n}\r\n.item:hover {\r\n  background-color: #0380fc;\r\n  color: white;\r\n  border: 1px dotted black;\r\n}\r\n.selectHide {\r\n  display: none;\r\n}\r\n.combobox {\r\n  display: grid;\r\n  grid-template-columns: auto 20px;\r\n}\r\n.columnHeads {\r\n  height: 19.2px;\r\n  border: 1px solid black;\r\n  border-top: 0px;\r\n  display: grid;\r\n  grid-template-columns: 100%;\r\n}\r\n.listStyle {\r\n  width: 100%;\r\n  height: 100%;\r\n  background-color: lightgray;\r\n  border: 1px solid gray;\r\n  overflow: auto;\r\n}\r\n.list-outer {\r\n  border: 0.1px solid lightgray;\r\n  width: 164px;\r\n  height: 130px;\r\n  overflow-y: auto;\r\n  box-shadow: -1px -1px grey;\r\n}\r\n.tr {\r\n  outline: none;\r\n  display: inline-flex;\r\n}\r\n.tr:hover:not([disabled]) {\r\n  background-color: rgb(59, 122, 231);\r\n}\r\n.ul {\r\n  display: grid;\r\n  grid-template-columns: 100%;\r\n  list-style-type: none;\r\n  margin-block-start: 0em;\r\n  margin-block-end: 0em;\r\n  margin-inline-start: 0px;\r\n  margin-inline-end: 0px;\r\n  padding-inline-start: 0px;\r\n}\r\n.li {\r\n  margin: 1px;\r\n  text-align: left;\r\n  font-size: 14px;\r\n  height: 16px;\r\n  border: 0.5px solid white;\r\n  cursor: pointer;\r\n}\r\n.li:hover {\r\n  margin: 1px;\r\n  border-color: rgb(52, 52, 255);\r\n  border-radius: 2px;\r\n  background-color: rgb(59, 122, 231);\r\n}\r\n.fa {\r\n  margin-left: 4px;\r\n  margin-top: 3px;\r\n}\r\n.span {\r\n  margin-left: 7px;\r\n  margin-top: 0px;\r\n  font-family: Arial, Helvetica, sans-serif;\r\n}\r\n.labelStyle {\r\n  white-space: nowrap;\r\n}\r\n.div {\r\n  display: grid;\r\n  grid-template-columns: 1fr;\r\n}\r\n.listbox {\r\n  display: grid;\r\n  grid-template-columns: 100%;\r\n  height: 100px;\r\n  width: 300px;\r\n  background-color: lightgray;\r\n  border: 1px solid gray;\r\n}\r\n.columnHeads {\r\n  height: 19.2px;\r\n  border: 1px solid black;\r\n  display: grid;\r\n  grid-template-columns: 100%;\r\n}\r\n.optionsItems {\r\n  display: grid;\r\n  grid-template-columns: 100%;\r\n}\r\n.text-box-design {\r\n  resize: none;\r\n  overflow: hidden;\r\n  border: none;\r\n  font-family: monospace;\r\n}\r\n.text-box-design:focus {\r\n  outline: none;\r\n}\r\n.text-box-design::selection {\r\n  background: lightblue;\r\n}\r\n.table-style {\r\n  width: calc(100% - 2px);\r\n}\r\n.thClass {\r\n  position: sticky;\r\n  top: 0;\r\n  overflow: hidden;\r\n  text-decoration: underline;\r\n  white-space: nowrap;\r\n}\r\n.tdClass {\r\n  width: 15px;\r\n  border-right: 1px solid;\r\n}\r\n.tdClassIn {\r\n  width: 10px;\r\n  max-width: 10px !important;\r\n  min-width: 0px !important;\r\n}\r\n.inputClass {\r\n  margin: 0;\r\n}\r\n.hrStyle {\r\n  display: block !important;\r\n  margin: 0px;\r\n  width: 100% !important;\r\n}\r\n.forPlain {\r\n  background-image: none;\r\n}\r\n.tHeadStyle {\r\n  position: sticky;\r\n  top: 0px;\r\n  z-index: 1;\r\n}\r\n.column-item {\r\n  display: flex;\r\n}\r\n.colHeadsClass {\r\n  display: inline-block;\r\n}\r\n.bar {\r\n  font-size: 13px;\r\n  color: black;\r\n}\r\n</style>\r\n"]}]}