{"remainingRequest":"/home/mobiotics/Projects/hancom/FormcontrolLatest/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/mobiotics/Projects/hancom/FormcontrolLatest/src/FormDesigner/components/atoms/FDEditableText/index.vue?vue&type=script&lang=ts&","dependencies":[{"path":"/home/mobiotics/Projects/hancom/FormcontrolLatest/src/FormDesigner/components/atoms/FDEditableText/index.vue","mtime":1611296894000},{"path":"/home/mobiotics/Projects/hancom/FormcontrolLatest/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/mobiotics/Projects/hancom/FormcontrolLatest/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/mobiotics/Projects/hancom/FormcontrolLatest/node_modules/ts-loader/index.js","mtime":499162500000},{"path":"/home/mobiotics/Projects/hancom/FormcontrolLatest/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/mobiotics/Projects/hancom/FormcontrolLatest/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKDQppbXBvcnQgeyBFdmVudEJ1cyB9IGZyb20gJ0AvRm9ybURlc2lnbmVyL2V2ZW50LWJ1cycNCmltcG9ydCB7IENvbXBvbmVudCwgUHJvcCwgVnVlLCBSZWYgfSBmcm9tICd2dWUtcHJvcGVydHktZGVjb3JhdG9yJw0KDQpAQ29tcG9uZW50KHsNCiAgbmFtZTogJ0ZERWRpdGFibGVUZXh0Jw0KfSkNCmV4cG9ydCBkZWZhdWx0IGNsYXNzIEZERWRpdGFibGVUZXh0IGV4dGVuZHMgVnVlIHsNCiAgQFByb3AoKSBwcml2YXRlIGVkaXRhYmxlISA6IGJvb2xlYW4NCiAgQFByb3AoKSBwcml2YXRlIGNhcHRpb24hIDogc3RyaW5nDQoNCiAgQFJlZignbGFiZWxBcmVhJykgcmVhZG9ubHkgbGFiZWxBcmVhISA6IEhUTUxTcGFuRWxlbWVudA0KDQogIG1vdW50ZWQgKCkgew0KICAgIHRoaXMubGFiZWxBcmVhLmlubmVyVGV4dCA9IHRoaXMuY2FwdGlvbg0KICAgIHRoaXMubGFiZWxBcmVhLmZvY3VzKCkNCiAgfQ0KDQogIGV2ZW50U3RvcHBlcnMgKCkgew0KICAgIGNvbnN0IGV2ZW50U3RvcCA9IChldmVudDogRXZlbnQpID0+IGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpDQogICAgcmV0dXJuIHRoaXMuZWRpdGFibGUgPT09IGZhbHNlID8gbnVsbCA6IHsNCiAgICAgIG1vdXNlZG93bjogZXZlbnRTdG9wLA0KICAgICAga2V5ZG93bjogdGhpcy5rZXlkb3duSGFuZGxlLA0KICAgICAgY2xpY2s6IGV2ZW50U3RvcA0KICAgIH0NCiAgfQ0KDQogIGtleWRvd25IYW5kbGUgKGU6IEtleWJvYXJkRXZlbnQpIHsNCiAgICBlLnN0b3BQcm9wYWdhdGlvbigpDQogICAgaWYgKGUua2V5ID09PSAnRXNjYXBlJykgew0KICAgICAgdGhpcy4kZW1pdCgncmVsZWFzZUVkaXRNb2RlJykNCiAgICB9DQogICAgaWYgKGUua2V5ID09PSAnRW50ZXInKSB7DQogICAgICBlLnByZXZlbnREZWZhdWx0KCkNCiAgICB9DQogIH0NCg0KICBvbklucHV0ICgpIHsNCiAgICB0aGlzLiRlbWl0KCd1cGRhdGVDYXB0aW9uJywgdGhpcy5sYWJlbEFyZWEuaW5uZXJUZXh0KQ0KICB9DQogIGNyZWF0ZWQgKCkgew0KICAgIEV2ZW50QnVzLiRvbigndXBkYXRlVGV4dCcsICh1cGRhdGVWYWx1ZTogc3RyaW5nKSA9PiB7DQogICAgICB0aGlzLmxhYmVsQXJlYS5pbm5lclRleHQgPSB1cGRhdGVWYWx1ZQ0KICAgICAgdGhpcy5vbklucHV0KCkNCiAgICB9KQ0KICB9DQp9DQo="},{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;AAaA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"index.vue","sourceRoot":"src/FormDesigner/components/atoms/FDEditableText","sourcesContent":["<template>\r\n  <span\r\n    class=\"editText\"\r\n    ref=\"labelArea\"\r\n    role=\"textbox\"\r\n    contenteditable=\"true\"\r\n    :readonly=\"editable === false\"\r\n    @input=\"onInput\"\r\n    v-on=\"eventStoppers()\">\r\n  </span>\r\n</template>\r\n\r\n<script lang=\"ts\">\r\nimport { EventBus } from '@/FormDesigner/event-bus'\r\nimport { Component, Prop, Vue, Ref } from 'vue-property-decorator'\r\n\r\n@Component({\r\n  name: 'FDEditableText'\r\n})\r\nexport default class FDEditableText extends Vue {\r\n  @Prop() private editable! : boolean\r\n  @Prop() private caption! : string\r\n\r\n  @Ref('labelArea') readonly labelArea! : HTMLSpanElement\r\n\r\n  mounted () {\r\n    this.labelArea.innerText = this.caption\r\n    this.labelArea.focus()\r\n  }\r\n\r\n  eventStoppers () {\r\n    const eventStop = (event: Event) => event.stopPropagation()\r\n    return this.editable === false ? null : {\r\n      mousedown: eventStop,\r\n      keydown: this.keydownHandle,\r\n      click: eventStop\r\n    }\r\n  }\r\n\r\n  keydownHandle (e: KeyboardEvent) {\r\n    e.stopPropagation()\r\n    if (e.key === 'Escape') {\r\n      this.$emit('releaseEditMode')\r\n    }\r\n    if (e.key === 'Enter') {\r\n      e.preventDefault()\r\n    }\r\n  }\r\n\r\n  onInput () {\r\n    this.$emit('updateCaption', this.labelArea.innerText)\r\n  }\r\n  created () {\r\n    EventBus.$on('updateText', (updateValue: string) => {\r\n      this.labelArea.innerText = updateValue\r\n      this.onInput()\r\n    })\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n  .editText {\r\n    display: block;\r\n    text-align: inherit;\r\n    background: inherit;\r\n    font: inherit;\r\n    border: none;\r\n    outline: none;\r\n    padding: 0;\r\n    resize: none;\r\n    overflow: hidden;\r\n    text-decoration: inherit;\r\n    color: inherit;\r\n    white-space: inherit;\r\n    word-break: inherit;\r\n  }\r\n</style>\r\n"]}]}