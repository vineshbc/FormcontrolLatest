{"remainingRequest":"/home/mobiotics/Projects/hancom/FormcontrolLatest/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/mobiotics/Projects/hancom/FormcontrolLatest/src/FormDesigner/components/pages/FDPage/index.vue?vue&type=script&lang=ts&","dependencies":[{"path":"/home/mobiotics/Projects/hancom/FormcontrolLatest/src/FormDesigner/components/pages/FDPage/index.vue","mtime":1611296898000},{"path":"/home/mobiotics/Projects/hancom/FormcontrolLatest/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/mobiotics/Projects/hancom/FormcontrolLatest/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/mobiotics/Projects/hancom/FormcontrolLatest/node_modules/ts-loader/index.js","mtime":499162500000},{"path":"/home/mobiotics/Projects/hancom/FormcontrolLatest/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/mobiotics/Projects/hancom/FormcontrolLatest/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKDQppbXBvcnQgeyBDb21wb25lbnQsIFJlZiwgVnVlIH0gZnJvbSAndnVlLXByb3BlcnR5LWRlY29yYXRvcicNCmltcG9ydCBUb29sQm94IGZyb20gJ0AvRm9ybURlc2lnbmVyL2NvbXBvbmVudHMvb3JnYW5pc21zL0ZEVG9vbEJveC9pbmRleC52dWUnDQppbXBvcnQgUmVzaXplVXNlckZvcm0gZnJvbSAnQC9Gb3JtRGVzaWduZXIvY29tcG9uZW50cy9vcmdhbmlzbXMvRkRSZXNpemVVc2VyRm9ybS9pbmRleC52dWUnDQppbXBvcnQgUHJvcGVydGllc0xpc3QgZnJvbSAnQC9Gb3JtRGVzaWduZXIvY29tcG9uZW50cy9vcmdhbmlzbXMvRkRQcm9wZXJ0eUxpc3QvaW5kZXgudnVlJw0KaW1wb3J0IFRyZWVCcm93c2VyIGZyb20gJ0AvRm9ybURlc2lnbmVyL2NvbXBvbmVudHMvb3JnYW5pc21zL0ZEVHJlZUJyb3dzZXIvaW5kZXgudnVlJw0KaW1wb3J0IEhlYWRlciBmcm9tICdAL0Zvcm1EZXNpZ25lci9jb21wb25lbnRzL29yZ2FuaXNtcy9GREhlYWRlci9pbmRleC52dWUnDQppbXBvcnQgVXNlcmZvcm1UYWJPcmRlciBmcm9tICdAL0Zvcm1EZXNpZ25lci9jb21wb25lbnRzL21vbGVjdWxlcy9GRFVzZXJmb3JtVGFiT3JkZXIvaW5kZXgudnVlJw0KaW1wb3J0IFRhYlN0cmlwVGFiT3JkZXIgZnJvbSAnQC9Gb3JtRGVzaWduZXIvY29tcG9uZW50cy9vcmdhbmlzbXMvRkRUYWJTdHJpcFRhYk9yZGVyTW9kYWwvaW5kZXgudnVlJw0KaW1wb3J0IFJlbmFtZU11bHRpUGFnZURpYWxvZyBmcm9tICdAL0Zvcm1EZXNpZ25lci9jb21wb25lbnRzL29yZ2FuaXNtcy9GRFJlbmFtZU11bHRpUGFnZURpYWxvZy9pbmRleC52dWUnDQppbXBvcnQgRXJyb3JQb3B1cCBmcm9tICdAL0Zvcm1EZXNpZ25lci9jb21wb25lbnRzL2F0b21zL0ZERXJyb3JQb3B1cC9pbmRleC52dWUnDQppbXBvcnQgQ29udGV4dE1lbnUgZnJvbSAnQC9Gb3JtRGVzaWduZXIvY29tcG9uZW50cy9hdG9tcy9GRENvbnRleHRNZW51L2luZGV4LnZ1ZScNCg0KaW1wb3J0IFZpZXdDb2RlTG9nbyBmcm9tICcuLi8uLi8uLi8uLi9hc3NldHMvdmlldy1jb2RlLnN2ZycNCmltcG9ydCBWaWV3T2JqZWN0IGZyb20gJy4uLy4uLy4uLy4uL2Fzc2V0cy92aWV3LW9iamVjdC5zdmcnDQppbXBvcnQgQ2xvc2VGb2xkZXJMb2dvIGZyb20gJy4uLy4uLy4uLy4uL2Fzc2V0cy9jbG9zZS1mb2xkZXIuc3ZnJw0KaW1wb3J0IHsgU3RhdGUsIEFjdGlvbiB9IGZyb20gJ3Z1ZXgtY2xhc3MnDQppbXBvcnQgeyBQYXlsb2FkIH0gZnJvbSAndnVleCcNCmltcG9ydCB7DQogIEl1cGRhdGVDb250cm9sLA0KICBJZGVsZXRlQ29udHJvbCwNCiAgSXVwZGF0ZUNvbnRyb2xFeHRyYURhdGEsDQogIElzZWxlY3RDb250cm9sDQp9IGZyb20gJy4uLy4uLy4uLy4uL3N0b3JlTW9kdWxlcy9mZC9hY3Rpb25zJw0KaW1wb3J0IHsgRXZlbnRCdXMgfSBmcm9tICdAL0Zvcm1EZXNpZ25lci9ldmVudC1idXMnDQppbXBvcnQgRkRDb21tb25NZXRob2QgZnJvbSAnQC9hcGkvYWJzdHJhY3QvRm9ybURlc2lnbmVyL0ZEQ29tbW9uTWV0aG9kJw0KaW1wb3J0IHsgdXNlcmZvcm1Db250ZXh0TWVudSB9IGZyb20gJ0AvRm9ybURlc2lnbmVyL21vZGVscy91c2VyZm9ybUNvbnRleHRNZW51RGF0YScNCmltcG9ydCB7IGNvbnRyb2xDb250ZXh0TWVudSB9IGZyb20gJ0AvRm9ybURlc2lnbmVyL21vZGVscy9jb250cm9sQ29udGV4dE1lbnVEYXRhJw0KaW1wb3J0IHsgdGFic0NvbnRleHRNZW51IH0gZnJvbSAnLi4vLi4vLi4vbW9kZWxzL3RhYnNDb250ZXh0TWVudScNCmludGVyZmFjZSBJRGlhbG9nDQp7DQogIGRpYWxvZ1R5cGU6IHN0cmluZw0KICB2YWw6IGJvb2xlYW4NCn0NCkBDb21wb25lbnQoew0KICBuYW1lOiAnRkRQYWdlJywNCiAgY29tcG9uZW50czogew0KICAgIFRvb2xCb3gsDQogICAgUmVzaXplVXNlckZvcm0sDQogICAgVHJlZUJyb3dzZXIsDQogICAgUHJvcGVydGllc0xpc3QsDQogICAgSGVhZGVyLA0KICAgIFZpZXdDb2RlTG9nbywNCiAgICBWaWV3T2JqZWN0LA0KICAgIENsb3NlRm9sZGVyTG9nbywNCiAgICBVc2VyZm9ybVRhYk9yZGVyLA0KICAgIFRhYlN0cmlwVGFiT3JkZXIsDQogICAgUmVuYW1lTXVsdGlQYWdlRGlhbG9nLA0KICAgIEVycm9yUG9wdXAsDQogICAgQ29udGV4dE1lbnUNCiAgfQ0KfSkNCmV4cG9ydCBkZWZhdWx0IGNsYXNzIEZEUGFnZSBleHRlbmRzIFZ1ZSB7DQogIEBTdGF0ZSgoc3RhdGUpID0+IHN0YXRlLmZkLnVzZXJmb3JtRGF0YSkgdXNlcmZvcm1EYXRhITogdXNlcmZvcm1EYXRhOw0KICBAU3RhdGUoKHN0YXRlKSA9PiBzdGF0ZS5mZC5jb3BpZWRDb250cm9sKSBjb3BpZWRDb250cm9sITogdXNlcmZvcm1EYXRhOw0KICBAUmVmKCdjb250ZXh0bWVudScpIGNvbnRleHRtZW51OiBIVE1MRGl2RWxlbWVudA0KICBAUmVmKCdtYWluQ29uZXh0TWVudScpIG1haW5Db25leHRNZW51OiBDb250ZXh0TWVudQ0KICBAUmVmKCdyZW5hbWVEaWFsb2dSZWYnKSByZW5hbWVEaWFsb2dSZWY6IFJlbmFtZU11bHRpUGFnZURpYWxvZw0KICBAUmVmKCd1c2VyZm9ybVRhYk9yZGVyUmVmJykgdXNlcmZvcm1UYWJPcmRlclJlZjogVXNlcmZvcm1UYWJPcmRlcg0KICBAUmVmKCd0YWJzdHJpcFRhYk9yZGVyUmVmJykgdGFic3RyaXBUYWJPcmRlclJlZjogVGFiU3RyaXBUYWJPcmRlcg0KICBjb250YWluZXJJZDogc3RyaW5nID0gJycNCiAgY29udHJvbElkOiBzdHJpbmcgPSAnJw0KICBjb3BpZWRUZXh0ID0gJycNCiAgbGFiZWxBcmVhOiBhbnkgPSB7fQ0KICB0ZXh0TWVudTogYm9vbGVhbiA9IGZhbHNlDQoNCiAgdmVydGljYWw6IHN0cmluZyA9ICd2ZXJ0aWNhbCc7DQogIHJlbmFtZURpYWxvZzogYm9vbGVhbiA9IGZhbHNlDQogIHRhYnN0cmlwVGFiT3JkZXI6IGJvb2xlYW4gPSBmYWxzZQ0KICBkaXNwbGF5OiBzdHJpbmcgPSAnJzsNCiAgaGlkZVNob3dUcmVlOiBib29sZWFuID0gZmFsc2U7DQogIHZpZXdDb250ZXh0TWVudTogYm9vbGVhbiA9IGZhbHNlDQogIGhpZGVTaG93VHJlZUJyb3dzZXIgKCkgew0KICAgIHRoaXMuaGlkZVNob3dUcmVlID0gdHJ1ZQ0KICB9DQogIHVzZXJGb3JtSWQ6IHN0cmluZyA9ICdJRF9VU0VSRk9STTEnOw0KICBAU3RhdGUoKHN0YXRlOiByb290U3RhdGUpID0+IHN0YXRlLmZkLnNlbGVjdGVkQ29udHJvbHMpDQogIHNlbGVjdGVkQ29udHJvbHMhOiBmZFN0YXRlWydzZWxlY3RlZENvbnRyb2xzJ107DQogIEBBY3Rpb24oJ2ZkL3VwZGF0ZUNvbnRyb2wnKSB1cGRhdGVDb250cm9sITogKHBheWxvYWQ6IEl1cGRhdGVDb250cm9sKSA9PiB2b2lkOw0KICBAQWN0aW9uKCdmZC91cGRhdGVDb250cm9sRXh0cmFEYXRhJykgdXBkYXRlQ29udHJvbEV4dHJhRGF0YSE6IChwYXlsb2FkOiBJdXBkYXRlQ29udHJvbEV4dHJhRGF0YSkgPT4gdm9pZDsNCiAgQEFjdGlvbignZmQvZGVsZXRlQ29udHJvbCcpIGRlbGV0ZUNvbnRyb2whOiAocGF5bG9hZDogSWRlbGV0ZUNvbnRyb2wpID0+IHZvaWQ7DQogIEBBY3Rpb24oJ2ZkL3NlbGVjdENvbnRyb2wnKSBzZWxlY3RDb250cm9sITogKHBheWxvYWQ6IElzZWxlY3RDb250cm9sKSA9PiB2b2lkOw0KICB0ZXN0UHJvcE5hbWU6IGtleW9mIGNvbnRyb2xQcm9wZXJ0aWVzID0gJ1dpZHRoJzsNCiAgdGVzdFByb3BWYWx1ZSA9ICcxMDAnOw0KICB0b3AgPSAwOw0KICBsZWZ0ID0gMDsNCiAgdXNlcmZvcm1UYWJPcmRlcjogYm9vbGVhbiA9IGZhbHNlDQogIGNvbnRleHRNZW51VHlwZTogYm9vbGVhbiA9IGZhbHNlOw0KICB2aWV3TWVudTogYm9vbGVhbiA9IGZhbHNlDQogIGNvbnRyb2xDb250ZXh0TWVudTogQXJyYXk8SWNvbnRleHRNZW51PiA9IGNvbnRyb2xDb250ZXh0TWVudTsNCiAgdXNlcmZvcm1Db250ZXh0TWVudTogQXJyYXk8SWNvbnRleHRNZW51PiA9IHVzZXJmb3JtQ29udGV4dE1lbnU7DQogIGNvbnRleHRNZW51VmFsdWU6IEFycmF5PEljb250ZXh0TWVudT4gPSB0YWJzQ29udGV4dE1lbnU7DQogIGNvbnRleHRNZW51SGVpZ2h0OiBudW1iZXIgPSA4NA0KICBncm91cFN0eWxlQXJyYXk6IEFycmF5PElHcm91cFN0eWxlPiA9IFtdDQogIHVwZGF0ZWRWYWx1ZTogbnVtYmVyID0gMA0KICB0YWJEYXRhOiBjb250cm9sRGF0YQ0KICB0YWJzdHJpcENvbnRleHRNZW51OiBib29sZWFuID0gZmFsc2UNCg0KICBjbG9zZU1lbnUgKGV2ZW50OiBNb3VzZUV2ZW50KSB7DQogICAgdGhpcy50ZXh0TWVudSA9IGZhbHNlDQogICAgdGhpcy52aWV3TWVudSA9IGZhbHNlDQogICAgRXZlbnRCdXMuJGVtaXQoJ2ZvY3VzVXNlckZvcm0nKQ0KICB9DQogIG9uRHJhZyAoKSB7DQogICAgKHRoaXMuJGVsIGFzIEhUTUxEaXZFbGVtZW50KS5mb2N1cygpDQogICAgY29uc29sZS5sb2coJ2RyYWdnaW5nJykNCiAgfQ0KICBjcmVhdGVkICgpIHsNCiAgICB0aGlzLnRhYkRhdGEgPSB0aGlzLnVzZXJmb3JtRGF0YVt0aGlzLnVzZXJGb3JtSWRdW3RoaXMudXNlckZvcm1JZF0NCiAgICBFdmVudEJ1cy4kb24oJ2NvbnRleHRNZW51RGlzcGxheScsIChldmVudDogTW91c2VFdmVudCwgY29udGFpbmVySWQ6IHN0cmluZywgY29udHJvbElkOiBzdHJpbmcsIHR5cGU6IHN0cmluZywgbW9kZTogYm9vbGVhbikgPT4gew0KICAgICAgdGhpcy5jb250YWluZXJJZCA9IGNvbnRhaW5lcklkDQogICAgICB0aGlzLmNvbnRyb2xJZCA9IGNvbnRyb2xJZA0KICAgICAgdGhpcy5vcGVuTWVudShldmVudCwgY29udGFpbmVySWQsIGNvbnRyb2xJZCwgdHlwZSwgbW9kZSkNCiAgICB9KQ0KICAgIEV2ZW50QnVzLiRvbignZ3JvdXBBcnJheScsIChhcnJheTogQXJyYXk8SUdyb3VwU3R5bGU+KSA9PiB7DQogICAgICB0aGlzLmdyb3VwU3R5bGVBcnJheSA9IFsuLi5hcnJheV0NCiAgICB9KQ0KICAgIEV2ZW50QnVzLiRvbignZWRpdE1vZGVDb250ZXh0TWVudScsIChlOk1vdXNlRXZlbnQsIGNvbnRyb2xJZDogc3RyaW5nLCBkYXRhOiBjb250cm9sRGF0YSwgbW9kZTogYm9vbGVhbiwgc2VsZWN0ZWQ6IG51bWJlcikgPT4gew0KICAgICAgdGhpcy5jb250cm9sSWQgPSBjb250cm9sSWQNCiAgICAgIHRoaXMudGFiRGF0YSA9IGRhdGENCiAgICAgIHRoaXMudXBkYXRlZFZhbHVlID0gc2VsZWN0ZWQNCiAgICAgIHRoaXMudGFic3RyaXBDb250ZXh0TWVudSA9IHRydWUNCiAgICAgIHRoaXMuZWRpdE1vZGVDb250ZXh0TWVudShlLCBtb2RlLCBkYXRhKQ0KICAgIH0pDQogICAgRXZlbnRCdXMuJG9uKCdvcGVuVGV4dENvbnRleHRNZW51JywgKGV2ZW50OiBNb3VzZUV2ZW50LCBjb250cm9sSWQ6IHN0cmluZykgPT4gew0KICAgICAgdGhpcy5sYWJlbEFyZWEgPSAoZXZlbnQudGFyZ2V0IGFzIEhUTUxTcGFuRWxlbWVudCkNCiAgICAgIHRoaXMuY29udHJvbElkID0gY29udHJvbElkDQogICAgICB0aGlzLm9wZW5UZXh0Q29udGV4dE1lbnUoZXZlbnQpDQogICAgfSkNCiAgICBFdmVudEJ1cy4kb24oJ2hhbmRsZUtleURvd24nLCAoZXZlbnQ6IEtleWJvYXJkRXZlbnQsIGNvbnRhaW5lcklkOiBzdHJpbmcpID0+IHsNCiAgICAgIHRoaXMuY29udGFpbmVySWQgPSBjb250YWluZXJJZA0KICAgICAgdGhpcy5oYW5kbGVLZXlEb3duKGV2ZW50KQ0KICAgIH0pDQogIH0NCiAgZGVzdHJveWVkICgpIHsNCiAgICBFdmVudEJ1cy4kb2ZmKCdjb250ZXh0TWVudURpc3BsYXknKQ0KICAgIEV2ZW50QnVzLiRvZmYoJ2dyb3VwQXJyYXknKQ0KICAgIEV2ZW50QnVzLiRvZmYoJ2VkaXRNb2RlQ29udGV4dE1lbnUnKQ0KICAgIEV2ZW50QnVzLiRvZmYoJ29wZW5UZXh0Q29udGV4dE1lbnUnKQ0KICAgIEV2ZW50QnVzLiRvZmYoJ2hhbmRsZUtleURvd24nKQ0KICB9DQoNCiAgZWRpdE1vZGVDb250ZXh0TWVudSAoZTogTW91c2VFdmVudCwgbW9kZTogYm9vbGVhbiwgZGF0YTogY29udHJvbERhdGEpIHsNCiAgICBpZiAobW9kZSkgew0KICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpDQogICAgICBlLnN0b3BQcm9wYWdhdGlvbigpDQogICAgICB0aGlzLnRvcCA9IGUueQ0KICAgICAgdGhpcy5sZWZ0ID0gZS54DQogICAgICB0aGlzLmNvbnRleHRNZW51VmFsdWUgPSB0YWJzQ29udGV4dE1lbnUNCiAgICAgIHRoaXMuY29udGV4dE1lbnVIZWlnaHQgPSA4NA0KICAgICAgaWYgKGRhdGEudHlwZSA9PT0gJ1RhYlN0cmlwJykgew0KICAgICAgICBmb3IgKGNvbnN0IHZhbCBvZiB0aGlzLmNvbnRleHRNZW51VmFsdWUpIHsNCiAgICAgICAgICBpZiAodmFsLmlkID09PSAnSURfREVMRVRFUEFHRScgfHwgdmFsLmlkID09PSAnSURfUkVOQU1FJykgew0KICAgICAgICAgICAgdmFsLmRpc2FibGVkID0gZGF0YS5leHRyYURhdGFzIS5UYWJzIS5sZW5ndGggPT09IDANCiAgICAgICAgICB9IGVsc2UgaWYgKHZhbC5pZCA9PT0gJ0lEX01PVkUnKSB7DQogICAgICAgICAgICB2YWwuZGlzYWJsZWQgPSBkYXRhLmV4dHJhRGF0YXMhLlRhYnMhLmxlbmd0aCA8PSAxDQogICAgICAgICAgfQ0KICAgICAgICB9DQogICAgICB9DQogICAgICBpZiAoZGF0YS50eXBlID09PSAnTXVsdGlQYWdlJykgew0KICAgICAgICBmb3IgKGNvbnN0IHZhbCBvZiB0aGlzLmNvbnRleHRNZW51VmFsdWUpIHsNCiAgICAgICAgICBpZiAodmFsLmlkID09PSAnSURfREVMRVRFUEFHRScgfHwgdmFsLmlkID09PSAnSURfUkVOQU1FJykgew0KICAgICAgICAgICAgdmFsLmRpc2FibGVkID0gZGF0YS5jb250cm9scy5sZW5ndGggPT09IDANCiAgICAgICAgICB9IGVsc2UgaWYgKHZhbC5pZCA9PT0gJ0lEX01PVkUnKSB7DQogICAgICAgICAgICB2YWwuZGlzYWJsZWQgPSBkYXRhLmNvbnRyb2xzLmxlbmd0aCA8PSAxDQogICAgICAgICAgfQ0KICAgICAgICB9DQogICAgICB9DQogICAgICB0aGlzLnZpZXdNZW51ID0gdHJ1ZQ0KICAgICAgVnVlLm5leHRUaWNrKCgpID0+IHRoaXMuY29udGV4dG1lbnUuZm9jdXMoKSkNCiAgICB9IGVsc2Ugew0KICAgICAgcmV0dXJuIHVuZGVmaW5lZA0KICAgIH0NCiAgfQ0KDQogIGNsaWNrVXBkYXRlICgpIHsNCiAgICBjb25zdCBzZWxlY3RlZCA9IHRoaXMuc2VsZWN0ZWRDb250cm9sc1t0aGlzLnVzZXJGb3JtSWRdLnNlbGVjdGVkDQogICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzZWxlY3RlZC5sZW5ndGg7IGkrKykgew0KICAgICAgdGhpcy51cGRhdGVDb250cm9sKHsNCiAgICAgICAgdXNlckZvcm1JZDogdGhpcy51c2VyRm9ybUlkLA0KICAgICAgICBjb250cm9sSWQ6IHNlbGVjdGVkW2ldLA0KICAgICAgICBwcm9wZXJ0eU5hbWU6IHRoaXMudGVzdFByb3BOYW1lLA0KICAgICAgICB2YWx1ZTogdGhpcy50ZXN0UHJvcFZhbHVlDQogICAgICB9KQ0KICAgIH0NCiAgfQ0KICBjbGlja0RlbGV0ZSAoKSB7DQogICAgY29uc3Qgc2VsZWN0ZWQgPSB0aGlzLnNlbGVjdGVkQ29udHJvbHNbdGhpcy51c2VyRm9ybUlkXS5zZWxlY3RlZA0KICAgIGZvciAobGV0IGkgPSAwOyBpIDwgc2VsZWN0ZWQubGVuZ3RoOyBpKyspIHsNCiAgICAgIHRoaXMuZGVsZXRlQ29udHJvbCh7DQogICAgICAgIHVzZXJGb3JtSWQ6IHRoaXMudXNlckZvcm1JZCwNCiAgICAgICAgcGFyZW50SWQ6IHRoaXMuc2VsZWN0ZWRDb250cm9sc1t0aGlzLnVzZXJGb3JtSWRdLmNvbnRhaW5lclswXSwNCiAgICAgICAgdGFyZ2V0SWQ6IHNlbGVjdGVkW2ldDQogICAgICB9KQ0KICAgIH0NCiAgfQ0KICBzZXRVc2VyRm9ybSAodXNlcmZvcm1JZDogc3RyaW5nKSB7DQogICAgdGhpcy51c2VyRm9ybUlkID0gdXNlcmZvcm1JZA0KICAgIHRoaXMuc2VsZWN0Q29udHJvbCh7DQogICAgICB1c2VyRm9ybUlkOiB0aGlzLnVzZXJGb3JtSWQsDQogICAgICBzZWxlY3Q6IHsNCiAgICAgICAgY29udGFpbmVyOiBbdGhpcy51c2VyRm9ybUlkXSwNCiAgICAgICAgc2VsZWN0ZWQ6IFt0aGlzLnVzZXJGb3JtSWRdDQogICAgICB9DQogICAgfSkNCiAgfQ0KICBtb3VudGVkICgpIHsNCiAgICB0aGlzLnNldFVzZXJGb3JtKHRoaXMudXNlckZvcm1JZCkNCiAgfQ0KICBnZXQgY29udGV4dE1lbnVTdHlsZSAoKSB7DQogICAgY29uc3QgY29udGV4dE1lbnVUb3AgPSB3aW5kb3cuaW5uZXJIZWlnaHQgPiAodGhpcy50b3AgKyB0aGlzLmNvbnRleHRNZW51SGVpZ2h0KSA/IHRoaXMudG9wIDogdGhpcy50b3AgLSB0aGlzLmNvbnRleHRNZW51SGVpZ2h0DQogICAgcmV0dXJuIHsNCiAgICAgIHRvcDogYCR7Y29udGV4dE1lbnVUb3B9cHhgLA0KICAgICAgbGVmdDogYCR7dGhpcy5sZWZ0fXB4YCwNCiAgICAgIGRpc3BsYXk6IHRoaXMudmlld01lbnUgPyAnYmxvY2snIDogJ25vbmUnDQogICAgfQ0KICB9DQogIG9wZW5NZW51IChlOiBNb3VzZUV2ZW50LCBwYXJlbnRJRDogc3RyaW5nLCBjb250cm9sSUQ6IHN0cmluZywgdHlwZTogc3RyaW5nLCBtb2RlOiBib29sZWFuKSB7DQogICAgZS5wcmV2ZW50RGVmYXVsdCgpDQogICAgY29uc3QgaWQgPSAoZS50YXJnZXQhIGFzIEhUTUxEaXZFbGVtZW50KS5pZCA/IChlLnRhcmdldCEgYXMgSFRNTERpdkVsZW1lbnQpLmlkIDogJycNCiAgICBjb25zdCBzZWxlY3RlZCA9IHRoaXMuc2VsZWN0ZWRDb250cm9sc1t0aGlzLnVzZXJGb3JtSWRdLnNlbGVjdGVkDQogICAgY29uc3QgdXNlckRhdGEgPSB0aGlzLnVzZXJmb3JtRGF0YVt0aGlzLnVzZXJGb3JtSWRdDQogICAgbGV0IGdyb3VwSWQgPSAnJw0KICAgIGlmICghc2VsZWN0ZWQuaW5jbHVkZXMoY29udHJvbElEKSkgew0KICAgICAgZ3JvdXBJZCA9IHVzZXJEYXRhW2NvbnRyb2xJRF0udHlwZSA9PT0gJ011bHRpUGFnZScgPyBzZWxlY3RlZFswXSA6IGNvbnRyb2xJRA0KICAgICAgaWYgKCdHcm91cElEJyBpbiB1c2VyRGF0YVtjb250cm9sSURdLnByb3BlcnRpZXMgJiYgdXNlckRhdGFbY29udHJvbElEXS5wcm9wZXJ0aWVzLkdyb3VwSUQgIT09ICcnKSB7DQogICAgICAgIGdyb3VwSWQgPSB0aGlzLnVzZXJmb3JtRGF0YVt0aGlzLnVzZXJGb3JtSWRdW2NvbnRyb2xJRF0ucHJvcGVydGllcy5Hcm91cElEIQ0KICAgICAgfQ0KICAgICAgaWYgKGdyb3VwSWQgJiYgIXNlbGVjdGVkLmluY2x1ZGVzKGdyb3VwSWQpKSB7DQogICAgICAgIHRoaXMuc2VsZWN0Q29udHJvbCh7DQogICAgICAgICAgdXNlckZvcm1JZDogdGhpcy51c2VyRm9ybUlkLA0KICAgICAgICAgIHNlbGVjdDogeyBjb250YWluZXI6IHRoaXMuZ2V0Q29udGFpbmVyTGlzdChncm91cElkKSwgc2VsZWN0ZWQ6IFtncm91cElkXSB9DQogICAgICAgIH0pDQogICAgICB9DQogICAgfQ0KICAgIGNvbnN0IGNvbnRyb2xUeXBlID0gdGhpcy51c2VyZm9ybURhdGFbdGhpcy51c2VyRm9ybUlkXVtjb250cm9sSURdLnR5cGUNCiAgICBjb25zdCBjb250YWluZXJUeXBlID0gdGhpcy51c2VyZm9ybURhdGFbdGhpcy51c2VyRm9ybUlkXVt0aGlzLmNvbnRhaW5lcklkXS50eXBlDQogICAgaWYgKHR5cGUgPT09ICdjb250YWluZXInICYmICFncm91cElkLnN0YXJ0c1dpdGgoJ2dyb3VwJykgJiYgc2VsZWN0ZWQubGVuZ3RoIDw9IDEpIHsNCiAgICAgIHRoaXMuY29udGV4dE1lbnVUeXBlID0gdHJ1ZQ0KICAgIH0gZWxzZSB7DQogICAgICB0aGlzLmNvbnRleHRNZW51VHlwZSA9IGZhbHNlDQogICAgfQ0KICAgIGNvbnN0IHRhcmdldEVsZW1lbnQgPSAoZS50YXJnZXQhIGFzIEhUTUxEaXZFbGVtZW50KS5zdHlsZQ0KICAgIGNvbnN0IGNvbnRyb2xMZWZ0OiBudW1iZXIgfCB1bmRlZmluZWQgPSB0aGlzLnVzZXJmb3JtRGF0YVt0aGlzLnVzZXJGb3JtSWRdW2NvbnRyb2xJRF0ucHJvcGVydGllcy5MZWZ0IQ0KICAgIGNvbnN0IGNvbnRyb2xUb3A6IG51bWJlciB8IHVuZGVmaW5lZCA9IHRoaXMudXNlcmZvcm1EYXRhW3RoaXMudXNlckZvcm1JZF1bY29udHJvbElEXS5wcm9wZXJ0aWVzLlRvcCENCiAgICB0aGlzLnRvcCA9IGUueQ0KICAgIHRoaXMubGVmdCA9IGUueA0KICAgIHRoaXMuY29udGV4dE1lbnVWYWx1ZSA9IHRoaXMuY29udGV4dE1lbnVUeXBlID8gdXNlcmZvcm1Db250ZXh0TWVudSA6IGNvbnRyb2xDb250ZXh0TWVudQ0KICAgIHRoaXMuY29udGV4dE1lbnVIZWlnaHQgPSB0aGlzLmNvbnRleHRNZW51VHlwZSA/IDE0NSA6IDI3Ng0KICAgIHRoaXMudmlld01lbnUgPSB0cnVlDQogICAgY29uc3QgY29udHJvbExlbmd0aCA9IHNlbGVjdGVkWzBdLnN0YXJ0c1dpdGgoJ2dyb3VwJykgPyB0aGlzLnVzZXJmb3JtRGF0YVt0aGlzLnVzZXJGb3JtSWRdW3RoaXMuY29udHJvbElkXS5jb250cm9scy5sZW5ndGggOiB0aGlzLnVzZXJmb3JtRGF0YVt0aGlzLnVzZXJGb3JtSWRdW3NlbGVjdGVkWzBdXS5jb250cm9scy5sZW5ndGgNCiAgICBjb25zdCBjb250ZXh0TWVudURhdGEgPSAodHlwZSA9PT0gJ2NvbnRhaW5lcicgJiYgIWdyb3VwSWQuc3RhcnRzV2l0aCgnZ3JvdXAnKSAmJiBzZWxlY3RlZC5sZW5ndGggPD0gMSkNCiAgICAgID8gdGhpcy51c2VyZm9ybUNvbnRleHRNZW51DQogICAgICA6IHRoaXMuY29udHJvbENvbnRleHRNZW51DQogICAgaWYgKChjb250cm9sVHlwZSA9PT0gJ1NwaW5CdXR0b24nIHx8IGNvbnRyb2xUeXBlID09PSAnU2Nyb2xsQmFyJyB8fCBjb250cm9sVHlwZSA9PT0gJ0xpc3RCb3gnKSAmJiBtb2RlKSB7DQogICAgICBmb3IgKGNvbnN0IHZhbCBvZiBjb250ZXh0TWVudURhdGEpIHsNCiAgICAgICAgaWYgKHZhbC5pZCA9PT0gJ0lEX09CSkVDVFBST1AnKSB7DQogICAgICAgICAgdmFsLmRpc2FibGVkID0gZmFsc2UNCiAgICAgICAgfSBlbHNlIGlmICh2YWwuaWQgPT09ICdJRF9BTElHTicgfHwgdmFsLmlkID09PSAnSURfTUFLRVNBTUVTSVpFJykgew0KICAgICAgICAgIGZvciAobGV0IGluZGV4ID0gMDsgaW5kZXggPCB2YWwudmFsdWVzLmxlbmd0aDsgaW5kZXgrKykgew0KICAgICAgICAgICAgdmFsLnZhbHVlc1tpbmRleF0uZGlzYWJsZWQgPSB0cnVlDQogICAgICAgICAgfQ0KICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgIHZhbC5kaXNhYmxlZCA9IHRydWUNCiAgICAgICAgfQ0KICAgICAgfQ0KICAgIH0gZWxzZSB7DQogICAgICBmb3IgKGNvbnN0IHZhbCBvZiBjb250ZXh0TWVudURhdGEpIHsNCiAgICAgICAgaWYgKHZhbC5pZCA9PT0gJ0lEX1NFTEVDVEFMTCcpIHsNCiAgICAgICAgICB2YWwuZGlzYWJsZWQgPSBjb250cm9sTGVuZ3RoID09PSAwDQogICAgICAgIH0NCiAgICAgICAgaWYgKHZhbC5pZCA9PT0gJ0lEX0RFTEVURScpIHsNCiAgICAgICAgICBpZiAodGhpcy5jb250ZXh0TWVudVR5cGUpIHsNCiAgICAgICAgICAgIHZhbC5kaXNhYmxlZCA9ICEoc2VsZWN0ZWQubGVuZ3RoID09PSAxICYmICFzZWxlY3RlZFswXS5zdGFydHNXaXRoKCdncm91cCcpICYmDQogICAgICAgICAgICAodXNlckRhdGFbY29udHJvbElEXS50eXBlID09PSAnRnJhbWUnIHx8IHVzZXJEYXRhW3NlbGVjdGVkWzBdXS50eXBlID09PSAnUGFnZScpKQ0KICAgICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICB2YWwuZGlzYWJsZWQgPSAhKHNlbGVjdGVkLmxlbmd0aCA+PSAxKQ0KICAgICAgICAgIH0NCiAgICAgICAgfQ0KICAgICAgICBpZiAodmFsLmlkID09PSAnSURfUEFTVEUnKSB7DQogICAgICAgICAgdmFsLmRpc2FibGVkID0gT2JqZWN0LmtleXModGhpcy5jb3BpZWRDb250cm9sW3RoaXMudXNlckZvcm1JZF0pLmxlbmd0aCA9PT0gMQ0KICAgICAgICB9DQogICAgICAgIGlmICh2YWwuaWQgPT09ICdJRF9DVVQnIHx8IHZhbC5pZCA9PT0gJ0lEX0NPUFknIHx8IHZhbC5pZCA9PT0gJ0lEX09CSkVDVFBST1AnIHx8IHZhbC5pZCA9PT0gJ0lEX1ZJRVdDT0RFJykgew0KICAgICAgICAgIHZhbC5kaXNhYmxlZCA9IGZhbHNlDQogICAgICAgIH0NCiAgICAgICAgaWYgKHZhbC5pZCA9PT0gJ0lEX0dST1VQJyB8fCB2YWwuaWQgPT09ICdJRF9VTkdST1VQJykgew0KICAgICAgICAgIGNvbnN0IHNlbGVjdGVkID0gdGhpcy5zZWxlY3RlZENvbnRyb2xzW3RoaXMudXNlckZvcm1JZF0uc2VsZWN0ZWQNCiAgICAgICAgICBsZXQgZ3JvdXBJZDogYm9vbGVhbiA9IGZhbHNlDQogICAgICAgICAgZm9yIChjb25zdCBrZXkgb2Ygc2VsZWN0ZWQpIHsNCiAgICAgICAgICAgIGlmICgha2V5LnN0YXJ0c1dpdGgoJ2dyb3VwJykgJiYgIWtleS5zdGFydHNXaXRoKCdJRF9VU0VSRk9STScpKSB7DQogICAgICAgICAgICAgIGdyb3VwSWQgPQ0KICAgICAgICAgICAgICAgICAgdGhpcy51c2VyZm9ybURhdGFbdGhpcy51c2VyRm9ybUlkXVtrZXldLnByb3BlcnRpZXMuR3JvdXBJRCA9PT0gJycNCiAgICAgICAgICAgIH0NCiAgICAgICAgICB9DQogICAgICAgICAgY29uc3Qgc2VsZWN0ZWRHcm91cEFycmF5ID0gc2VsZWN0ZWQuZmlsdGVyKA0KICAgICAgICAgICAgKHZhbDogc3RyaW5nKSA9PiB2YWwuc3RhcnRzV2l0aCgnZ3JvdXAnKSAmJiB2YWwNCiAgICAgICAgICApDQogICAgICAgICAgaWYgKCFncm91cElkICYmIHNlbGVjdGVkR3JvdXBBcnJheS5sZW5ndGggPD0gMSkgew0KICAgICAgICAgICAgdmFsLnRleHQgPSAnPHU+VTwvdT5uZ3JvdXAnDQogICAgICAgICAgICB2YWwuaWQgPSAnSURfVU5HUk9VUCcNCiAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgdmFsLnRleHQgPSAnPHU+RzwvdT5yb3VwJw0KICAgICAgICAgICAgdmFsLmlkID0gJ0lEX0dST1VQJw0KICAgICAgICAgICAgdmFsLmRpc2FibGVkID0NCiAgICAgICAgICAgICAgICB0aGlzLnNlbGVjdGVkQ29udHJvbHNbdGhpcy51c2VyRm9ybUlkXS5zZWxlY3RlZC5sZW5ndGggPD0gMQ0KICAgICAgICAgIH0NCiAgICAgICAgfQ0KICAgICAgICBpZiAodmFsLmlkID09PSAnSURfQ09OVFJPTEZPUldBUkQnIHx8IHZhbC5pZCA9PT0gJ0lEX0NPTlRST0xCQUNLV0FSRCcpIHsNCiAgICAgICAgICBjb25zdCBzZWxlY3RlZENvbmF0aW5lciA9IHRoaXMuc2VsZWN0ZWRDb250cm9sc1t0aGlzLnVzZXJGb3JtSWRdLmNvbnRhaW5lclswXQ0KICAgICAgICAgIHZhbC5kaXNhYmxlZCA9IHVzZXJEYXRhW3NlbGVjdGVkQ29uYXRpbmVyXS5jb250cm9scy5sZW5ndGggPD0gMQ0KICAgICAgICB9DQogICAgICAgIGlmICh2YWwuaWQgPT09ICdJRF9BTElHTicgfHwgdmFsLmlkID09PSAnSURfTUFLRVNBTUVTSVpFJykgew0KICAgICAgICAgIGZvciAobGV0IGluZGV4ID0gMDsgaW5kZXggPCB2YWwudmFsdWVzLmxlbmd0aDsgaW5kZXgrKykgew0KICAgICAgICAgICAgaWYgKHZhbC52YWx1ZXNbaW5kZXhdLmlkID09PSAnSURfR1JJRCcpIHsNCiAgICAgICAgICAgICAgdmFsLnZhbHVlc1tpbmRleF0uZGlzYWJsZWQgPSAhKHRoaXMuc2VsZWN0ZWRDb250cm9sc1t0aGlzLnVzZXJGb3JtSWRdLnNlbGVjdGVkLmxlbmd0aCA+IDApDQogICAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgICB2YWwudmFsdWVzW2luZGV4XS5kaXNhYmxlZCA9IHRoaXMuc2VsZWN0ZWRDb250cm9sc1t0aGlzLnVzZXJGb3JtSWRdLnNlbGVjdGVkLmxlbmd0aCA8PSAxDQogICAgICAgICAgICB9DQogICAgICAgICAgfQ0KICAgICAgICB9DQogICAgICB9DQogICAgfQ0KICAgIFZ1ZS5uZXh0VGljaygoKSA9PiB0aGlzLmNvbnRleHRtZW51LmZvY3VzKCkpDQogIH0NCiAgZ2V0Q29udGFpbmVyTGlzdCAoc2VsZWN0VGFyZ2V0OiBzdHJpbmcpIHsNCiAgICBjb25zdCBjb250YWluZXJMaXN0OiBzdHJpbmdbXSA9IFtdDQogICAgY29uc3QgY29udHJvbENvbnRhaW5lciA9IChzZWxlY3RUYXJnZXQ6IHN0cmluZykgPT4gew0KICAgICAgaWYgKHRoaXMudXNlcmZvcm1EYXRhW3RoaXMudXNlckZvcm1JZF1bc2VsZWN0VGFyZ2V0XS50eXBlICE9PSAnVXNlcmZvcm0nKSB7DQogICAgICAgIGZvciAobGV0IGkgaW4gdGhpcy51c2VyZm9ybURhdGFbdGhpcy51c2VyRm9ybUlkXSkgew0KICAgICAgICAgIGNvbnN0IGNvbnRyb2xEYXRhID0gdGhpcy51c2VyZm9ybURhdGFbdGhpcy51c2VyRm9ybUlkXVtpXQ0KICAgICAgICAgIGlmIChjb250cm9sRGF0YS5jb250cm9scy5sZW5ndGggPiAwICYmIGNvbnRyb2xEYXRhLmNvbnRyb2xzLmluY2x1ZGVzKHNlbGVjdFRhcmdldCkpIHsNCiAgICAgICAgICAgIGNvbnRhaW5lckxpc3QucHVzaChpKQ0KICAgICAgICAgICAgY29udHJvbENvbnRhaW5lcihpKQ0KICAgICAgICAgICAgaWYgKHRoaXMudXNlcmZvcm1EYXRhW3RoaXMudXNlckZvcm1JZF1baV0udHlwZSAhPT0gJ1VzZXJmb3JtJykgew0KICAgICAgICAgICAgICBicmVhaw0KICAgICAgICAgICAgfQ0KICAgICAgICAgIH0NCiAgICAgICAgfQ0KICAgICAgfQ0KICAgIH0NCiAgICBjb25zdCBnZXRDb250cm9sSWQgPSAoc2VsZWN0VGFyZ2V0OiBzdHJpbmcpID0+IHsNCiAgICAgIGNvbnN0IHVzZXJEYXRhID0gdGhpcy51c2VyZm9ybURhdGFbdGhpcy51c2VyRm9ybUlkXQ0KICAgICAgZm9yIChsZXQgaSBpbiB1c2VyRGF0YSkgew0KICAgICAgICBjb25zdCBjb250cm9sRGF0YSA9IHVzZXJEYXRhW2ldDQogICAgICAgIGlmIChjb250cm9sRGF0YS5wcm9wZXJ0aWVzLkdyb3VwSUQgPT09IHNlbGVjdFRhcmdldCkgew0KICAgICAgICAgIHJldHVybiBpDQogICAgICAgIH0NCiAgICAgIH0NCiAgICB9DQogICAgaWYgKHNlbGVjdFRhcmdldCkgew0KICAgICAgY29uc3QgY29udHJvbElkID0gc2VsZWN0VGFyZ2V0LnN0YXJ0c1dpdGgoJ2dyb3VwJykgPyBnZXRDb250cm9sSWQoc2VsZWN0VGFyZ2V0KSA6IHNlbGVjdFRhcmdldA0KICAgICAgaWYgKGNvbnRyb2xJZCkgew0KICAgICAgICBjb250cm9sQ29udGFpbmVyKGNvbnRyb2xJZCkNCiAgICAgIH0NCiAgICB9DQogICAgcmV0dXJuIGNvbnRhaW5lckxpc3QubGVuZ3RoID4gMCA/IGNvbnRhaW5lckxpc3QgOiBbdGhpcy51c2VyRm9ybUlkXQ0KICB9DQogIGNyZWF0ZUdyb3VwIChncm91cElkOiBzdHJpbmcpIHsNCiAgICBFdmVudEJ1cy4kZW1pdCgnY3JlYXRlR3JvdXAnLCBncm91cElkKQ0KICB9DQogIG9wZW5UZXh0Q29udGV4dE1lbnUgKGV2ZW50OiBNb3VzZUV2ZW50KSB7DQogICAgdGhpcy50ZXh0TWVudSA9IHRydWUNCiAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpDQogICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCkNCiAgICBuYXZpZ2F0b3IuY2xpcGJvYXJkLnJlYWRUZXh0KCkNCiAgICAgIC50aGVuKHRleHQgPT4gew0KICAgICAgICB0aGlzLmNvcGllZFRleHQgPSB0ZXh0DQogICAgICAgIHRoaXMuY29udGV4dE1lbnVWYWx1ZSA9IGNvbnRyb2xDb250ZXh0TWVudQ0KICAgICAgICB0aGlzLmNvbnRleHRNZW51SGVpZ2h0ID0gMjc2DQogICAgICAgIGZvciAoY29uc3QgdmFsIG9mIGNvbnRyb2xDb250ZXh0TWVudSkgew0KICAgICAgICAgIGlmICh2YWwuaWQgPT09ICdJRF9ERUxFVEUnKSB7DQogICAgICAgICAgICB2YWwuZGlzYWJsZWQgPSB0aGlzLmdldEN1cnNvclBvcyhldmVudCkNCiAgICAgICAgICB9IGVsc2UgaWYgKHZhbC5pZCA9PT0gJ0lEX1BBU1RFJykgew0KICAgICAgICAgICAgdmFsLmRpc2FibGVkID0gdGhpcy5jb3BpZWRUZXh0ID09PSAnJw0KICAgICAgICAgIH0gZWxzZSBpZiAodmFsLmlkID09PSAnSURfQ1VUJykgew0KICAgICAgICAgICAgdmFsLmRpc2FibGVkID0gdGhpcy5nZXRDdXJzb3JQb3MoZXZlbnQpDQogICAgICAgICAgfSBlbHNlIGlmICh2YWwuaWQgPT09ICdJRF9DT1BZJykgew0KICAgICAgICAgICAgdmFsLmRpc2FibGVkID0gdGhpcy5nZXRDdXJzb3JQb3MoZXZlbnQpDQogICAgICAgICAgfSBlbHNlIGlmICh2YWwuaWQgPT09ICdJRF9BTElHTicgfHwgdmFsLmlkID09PSAnSURfTUFLRVNBTUVTSVpFJykgew0KICAgICAgICAgICAgZm9yIChsZXQgaW5kZXggPSAwOyBpbmRleCA8IHZhbC52YWx1ZXMubGVuZ3RoOyBpbmRleCsrKSB7DQogICAgICAgICAgICAgIHZhbC52YWx1ZXNbaW5kZXhdLmRpc2FibGVkID0gdHJ1ZQ0KICAgICAgICAgICAgfQ0KICAgICAgICAgIH0gZWxzZSBpZiAodmFsLmlkID09PSAnSURfT0JKRUNUUFJPUCcpIHsNCiAgICAgICAgICAgIHZhbC5kaXNhYmxlZCA9IGZhbHNlDQogICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgIHZhbC5kaXNhYmxlZCA9IHRydWUNCiAgICAgICAgICB9DQogICAgICAgIH0NCiAgICAgICAgVnVlLm5leHRUaWNrKCgpID0+IHRoaXMuY29udGV4dG1lbnUuZm9jdXMoKSkNCiAgICAgICAgdGhpcy50b3AgPSBldmVudC55DQogICAgICAgIHRoaXMubGVmdCA9IGV2ZW50LngNCiAgICAgICAgdGhpcy52aWV3TWVudSA9IHRydWUNCiAgICAgIH0pDQogICAgICAuY2F0Y2goZXJyID0+IHsNCiAgICAgICAgY29uc29sZS5lcnJvcignRmFpbGVkIHRvIHJlYWQgY2xpcGJvYXJkIGNvbnRlbnRzOiAnLCBlcnIpDQogICAgICB9KQ0KICB9DQogIGdldEN1cnNvclBvcyAoZXZlbnQ6IE1vdXNlRXZlbnQpIHsNCiAgICBjb25zdCBjb250cm9sVHlwZSA9IHRoaXMudXNlcmZvcm1EYXRhW3RoaXMudXNlckZvcm1JZF1bdGhpcy5jb250cm9sSWRdLnR5cGUNCiAgICBpZiAoY29udHJvbFR5cGUgPT09ICdDb21ib0JveCcgfHwgY29udHJvbFR5cGUgPT09ICdUZXh0Qm94Jykgew0KICAgICAgY29uc3QgZXZlbnRUYXJnZXQgPSBldmVudC50YXJnZXQgYXMgSFRNTFRleHRBcmVhRWxlbWVudA0KICAgICAgY29uc3QgZGlmZmVyZW5jZSA9IGV2ZW50VGFyZ2V0LnNlbGVjdGlvbkVuZCAtIGV2ZW50VGFyZ2V0LnNlbGVjdGlvblN0YXJ0DQogICAgICBpZiAoZGlmZmVyZW5jZSA+IDApIHsNCiAgICAgICAgcmV0dXJuIGZhbHNlDQogICAgICB9IGVsc2Ugew0KICAgICAgICByZXR1cm4gdHJ1ZQ0KICAgICAgfQ0KICAgIH0gZWxzZSB7DQogICAgICBjb25zdCBpc1N1cHBvcnRlZCA9IHR5cGVvZiB3aW5kb3cuZ2V0U2VsZWN0aW9uICE9PSAndW5kZWZpbmVkJw0KICAgICAgaWYgKGlzU3VwcG9ydGVkKSB7DQogICAgICAgIGNvbnN0IHNlbGVjdGlvbiA9IHdpbmRvdy5nZXRTZWxlY3Rpb24oKSENCiAgICAgICAgaWYgKHNlbGVjdGlvbi5hbmNob3JPZmZzZXQgPT09IHNlbGVjdGlvbi5mb2N1c09mZnNldCkgew0KICAgICAgICAgIHJldHVybiB0cnVlDQogICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgcmV0dXJuIGZhbHNlDQogICAgICAgIH0NCiAgICAgIH0NCiAgICAgIHJldHVybiB0cnVlDQogICAgfQ0KICB9DQogIGhhbmRsZUtleURvd24gKGV2ZW50OiBLZXlib2FyZEV2ZW50KSB7DQogICAgdGhpcy5tYWluQ29uZXh0TWVudS51cGRhdGVBY3Rpb24oZXZlbnQpDQogIH0NCiAgZ2V0Rm9jdXNFbGVtZW50IChkaWFsb2dEYXRhOiBJRGlhbG9nKSB7DQogICAgdGhpcy50YWJzdHJpcENvbnRleHRNZW51ID0gZmFsc2UNCiAgICBpZiAoZGlhbG9nRGF0YS5kaWFsb2dUeXBlID09PSAndXNlcmZvcm1UYWJvcmRlcicpIHsNCiAgICAgIHRoaXMudXNlcmZvcm1UYWJPcmRlciA9IGRpYWxvZ0RhdGEudmFsDQogICAgfSBlbHNlIGlmIChkaWFsb2dEYXRhLmRpYWxvZ1R5cGUgPT09ICdyZW5hbWVEaWFsb2cnKSB7DQogICAgICB0aGlzLnJlbmFtZURpYWxvZyA9IGRpYWxvZ0RhdGEudmFsDQogICAgfSBlbHNlIGlmIChkaWFsb2dEYXRhLmRpYWxvZ1R5cGUgPT09ICd0YWJzdHJpcFRhYk9yZGVyJykgew0KICAgICAgdGhpcy50YWJzdHJpcFRhYk9yZGVyID0gZGlhbG9nRGF0YS52YWwNCiAgICB9DQogICAgaWYgKCFkaWFsb2dEYXRhLnZhbCkgew0KICAgICAgdGhpcy51cGRhdGVmb2N1cygpDQogICAgfQ0KICB9DQogIHVwZGF0ZWZvY3VzICgpIHsNCiAgICBpZiAodGhpcy5yZW5hbWVEaWFsb2cpIHsNCiAgICAgIFZ1ZS5uZXh0VGljaygoKSA9PiB7ICh0aGlzLnJlbmFtZURpYWxvZ1JlZi4kZWwgYXMgSFRNTERpdkVsZW1lbnQpLmZvY3VzKCkgfSkNCiAgICB9IGVsc2UgaWYgKHRoaXMudGFic3RyaXBDb250ZXh0TWVudSAmJiAhdGhpcy50YWJzdHJpcFRhYk9yZGVyKSB7DQogICAgICBFdmVudEJ1cy4kZW1pdCgnZm9jdXNUYWJTdHJpcCcpDQogICAgfSBlbHNlIGlmICh0aGlzLnVzZXJmb3JtVGFiT3JkZXIpIHsNCiAgICAgIFZ1ZS5uZXh0VGljaygoKSA9PiB7ICh0aGlzLnVzZXJmb3JtVGFiT3JkZXJSZWYuJGVsIGFzIEhUTUxEaXZFbGVtZW50KS5mb2N1cygpIH0pDQogICAgfSBlbHNlIGlmICh0aGlzLnRhYnN0cmlwVGFiT3JkZXIpIHsNCiAgICAgIFZ1ZS5uZXh0VGljaygoKSA9PiB7ICh0aGlzLnRhYnN0cmlwVGFiT3JkZXJSZWYuJGVsIGFzIEhUTUxEaXZFbGVtZW50KS5mb2N1cygpIH0pDQogICAgfSBlbHNlIHsNCiAgICAgIEV2ZW50QnVzLiRlbWl0KCdmb2N1c1VzZXJGb3JtJykNCiAgICB9DQogIH0NCn0NCg=="},{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAuGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"index.vue","sourceRoot":"src/FormDesigner/components/pages/FDPage","sourcesContent":["<template>\r\n  <div id=\"app\" tabindex=\"0\" @focus=\"updatefocus\">\r\n    <div\r\n      id=\"right-click-menu\"\r\n      :style=\"contextMenuStyle\"\r\n      ref=\"contextmenu\"\r\n      tabindex=\"0\"\r\n      @blur.stop=\"closeMenu\"\r\n    >\r\n      <ContextMenu\r\n        ref=\"mainConextMenu\"\r\n        :userFormId=\"userFormId\"\r\n        :containerId=\"containerId\"\r\n        :controlId=\"controlId\"\r\n        :values=\"contextMenuValue\"\r\n        @closeMenu=\"closeMenu\"\r\n        :selectedTab=\"updatedValue\"\r\n        :data=\"tabData !== undefined ? tabData : '' \"\r\n        :groupStyleArray=\"groupStyleArray\"\r\n         @createGroup=\"createGroup\"\r\n        :editTextRef=\"labelArea\"\r\n        :copiedText=\"copiedText\"\r\n        :textMenu=\"textMenu\"\r\n      />\r\n    </div>\r\n    <div class=\"container\">\r\n      <div class=\"header\">\r\n        <Header :userFormId=\"userFormId\" />\r\n      </div>\r\n      <div class=\"mainbody\">\r\n        <Split class=\"outersplit\" @onDrag=\"onDrag\">\r\n          <SplitArea :size=\"20\" class=\"splitleft\">\r\n            <Split :direction=\"vertical\" @onDrag=\"onDrag\">\r\n              <SplitArea class=\"innersplit\">\r\n                <div v-if=\"hideShowTree === false\">\r\n                  <div class=\"sideheader\">\r\n                    <span class=\"sideheader1\">\r\n                      <span>Project - VBAProject</span>\r\n                      <div id=\"mdiv\" v-on:click=\"hideShowTreeBrowser\">\r\n                        <div class=\"mdiv\">\r\n                          <div class=\"md\"></div>\r\n                        </div>\r\n                      </div>\r\n                    </span>\r\n                  </div>\r\n\r\n                  <div>\r\n                    <ViewCodeLogo class=\"icon-style\" />\r\n                    <ViewObject class=\"icon-style\" />\r\n                    <CloseFolderLogo class=\"icon-style\" />\r\n                  </div>\r\n                  <hr />\r\n                  <div>\r\n                    <div\r\n                      v-for=\"(userform, userformId) in userformData\"\r\n                      :key=\"userformId\"\r\n                      @click=\"setUserForm(userformId)\"\r\n                    >\r\n                      <p>{{ userformId }}</p>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </SplitArea>\r\n              <SplitArea class=\"innersplit\">\r\n                <PropertiesList\r\n                :userFormId=\"userFormId\"/>\r\n                <!-- <label>Prop Name</label>\r\n                <input type=\"text\" v-model=\"testPropName\" />\r\n                <br />\r\n                <label>Prop Value</label>\r\n                <input type=\"text\" v-model=\"testPropValue\" />\r\n                <br />\r\n                <button @click=\"clickUpdate\">Update selected Control</button>\r\n                <br /><br />\r\n                <button @click=\"clickDelete\">Delete selected Control</button> -->\r\n              </SplitArea>\r\n            </Split>\r\n          </SplitArea>\r\n          <SplitArea :size=\"80\" class=\"splitAreaClass\">\r\n            <div class=\"splitAreaDiv\">\r\n              <ResizeUserForm\r\n                :userFormId=\"userFormId\"\r\n                :controlId=\"userFormId\"\r\n                :containerId=\"userFormId\"\r\n              />\r\n            </div>\r\n          </SplitArea>\r\n        </Split>\r\n      </div>\r\n      <div class=\"fixedSide\">\r\n        <ToolBox />\r\n      </div>\r\n      <div>\r\n        <UserformTabOrder @getFocusElement=\"getFocusElement\" ref=\"userformTabOrderRef\"/>\r\n        <TabStripTabOrder @getFocusElement=\"getFocusElement\" ref=\"tabstripTabOrderRef\"/>\r\n        <RenameMultiPageDialog @getFocusElement=\"getFocusElement\" ref=\"renameDialogRef\"/>\r\n        <ErrorPopup />\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script lang=\"ts\">\r\nimport { Component, Ref, Vue } from 'vue-property-decorator'\r\nimport ToolBox from '@/FormDesigner/components/organisms/FDToolBox/index.vue'\r\nimport ResizeUserForm from '@/FormDesigner/components/organisms/FDResizeUserForm/index.vue'\r\nimport PropertiesList from '@/FormDesigner/components/organisms/FDPropertyList/index.vue'\r\nimport TreeBrowser from '@/FormDesigner/components/organisms/FDTreeBrowser/index.vue'\r\nimport Header from '@/FormDesigner/components/organisms/FDHeader/index.vue'\r\nimport UserformTabOrder from '@/FormDesigner/components/molecules/FDUserformTabOrder/index.vue'\r\nimport TabStripTabOrder from '@/FormDesigner/components/organisms/FDTabStripTabOrderModal/index.vue'\r\nimport RenameMultiPageDialog from '@/FormDesigner/components/organisms/FDRenameMultiPageDialog/index.vue'\r\nimport ErrorPopup from '@/FormDesigner/components/atoms/FDErrorPopup/index.vue'\r\nimport ContextMenu from '@/FormDesigner/components/atoms/FDContextMenu/index.vue'\r\n\r\nimport ViewCodeLogo from '../../../../assets/view-code.svg'\r\nimport ViewObject from '../../../../assets/view-object.svg'\r\nimport CloseFolderLogo from '../../../../assets/close-folder.svg'\r\nimport { State, Action } from 'vuex-class'\r\nimport { Payload } from 'vuex'\r\nimport {\r\n  IupdateControl,\r\n  IdeleteControl,\r\n  IupdateControlExtraData,\r\n  IselectControl\r\n} from '../../../../storeModules/fd/actions'\r\nimport { EventBus } from '@/FormDesigner/event-bus'\r\nimport FDCommonMethod from '@/api/abstract/FormDesigner/FDCommonMethod'\r\nimport { userformContextMenu } from '@/FormDesigner/models/userformContextMenuData'\r\nimport { controlContextMenu } from '@/FormDesigner/models/controlContextMenuData'\r\nimport { tabsContextMenu } from '../../../models/tabsContextMenu'\r\ninterface IDialog\r\n{\r\n  dialogType: string\r\n  val: boolean\r\n}\r\n@Component({\r\n  name: 'FDPage',\r\n  components: {\r\n    ToolBox,\r\n    ResizeUserForm,\r\n    TreeBrowser,\r\n    PropertiesList,\r\n    Header,\r\n    ViewCodeLogo,\r\n    ViewObject,\r\n    CloseFolderLogo,\r\n    UserformTabOrder,\r\n    TabStripTabOrder,\r\n    RenameMultiPageDialog,\r\n    ErrorPopup,\r\n    ContextMenu\r\n  }\r\n})\r\nexport default class FDPage extends Vue {\r\n  @State((state) => state.fd.userformData) userformData!: userformData;\r\n  @State((state) => state.fd.copiedControl) copiedControl!: userformData;\r\n  @Ref('contextmenu') contextmenu: HTMLDivElement\r\n  @Ref('mainConextMenu') mainConextMenu: ContextMenu\r\n  @Ref('renameDialogRef') renameDialogRef: RenameMultiPageDialog\r\n  @Ref('userformTabOrderRef') userformTabOrderRef: UserformTabOrder\r\n  @Ref('tabstripTabOrderRef') tabstripTabOrderRef: TabStripTabOrder\r\n  containerId: string = ''\r\n  controlId: string = ''\r\n  copiedText = ''\r\n  labelArea: any = {}\r\n  textMenu: boolean = false\r\n\r\n  vertical: string = 'vertical';\r\n  renameDialog: boolean = false\r\n  tabstripTabOrder: boolean = false\r\n  display: string = '';\r\n  hideShowTree: boolean = false;\r\n  viewContextMenu: boolean = false\r\n  hideShowTreeBrowser () {\r\n    this.hideShowTree = true\r\n  }\r\n  userFormId: string = 'ID_USERFORM1';\r\n  @State((state: rootState) => state.fd.selectedControls)\r\n  selectedControls!: fdState['selectedControls'];\r\n  @Action('fd/updateControl') updateControl!: (payload: IupdateControl) => void;\r\n  @Action('fd/updateControlExtraData') updateControlExtraData!: (payload: IupdateControlExtraData) => void;\r\n  @Action('fd/deleteControl') deleteControl!: (payload: IdeleteControl) => void;\r\n  @Action('fd/selectControl') selectControl!: (payload: IselectControl) => void;\r\n  testPropName: keyof controlProperties = 'Width';\r\n  testPropValue = '100';\r\n  top = 0;\r\n  left = 0;\r\n  userformTabOrder: boolean = false\r\n  contextMenuType: boolean = false;\r\n  viewMenu: boolean = false\r\n  controlContextMenu: Array<IcontextMenu> = controlContextMenu;\r\n  userformContextMenu: Array<IcontextMenu> = userformContextMenu;\r\n  contextMenuValue: Array<IcontextMenu> = tabsContextMenu;\r\n  contextMenuHeight: number = 84\r\n  groupStyleArray: Array<IGroupStyle> = []\r\n  updatedValue: number = 0\r\n  tabData: controlData\r\n  tabstripContextMenu: boolean = false\r\n\r\n  closeMenu (event: MouseEvent) {\r\n    this.textMenu = false\r\n    this.viewMenu = false\r\n    EventBus.$emit('focusUserForm')\r\n  }\r\n  onDrag () {\r\n    (this.$el as HTMLDivElement).focus()\r\n    console.log('dragging')\r\n  }\r\n  created () {\r\n    this.tabData = this.userformData[this.userFormId][this.userFormId]\r\n    EventBus.$on('contextMenuDisplay', (event: MouseEvent, containerId: string, controlId: string, type: string, mode: boolean) => {\r\n      this.containerId = containerId\r\n      this.controlId = controlId\r\n      this.openMenu(event, containerId, controlId, type, mode)\r\n    })\r\n    EventBus.$on('groupArray', (array: Array<IGroupStyle>) => {\r\n      this.groupStyleArray = [...array]\r\n    })\r\n    EventBus.$on('editModeContextMenu', (e:MouseEvent, controlId: string, data: controlData, mode: boolean, selected: number) => {\r\n      this.controlId = controlId\r\n      this.tabData = data\r\n      this.updatedValue = selected\r\n      this.tabstripContextMenu = true\r\n      this.editModeContextMenu(e, mode, data)\r\n    })\r\n    EventBus.$on('openTextContextMenu', (event: MouseEvent, controlId: string) => {\r\n      this.labelArea = (event.target as HTMLSpanElement)\r\n      this.controlId = controlId\r\n      this.openTextContextMenu(event)\r\n    })\r\n    EventBus.$on('handleKeyDown', (event: KeyboardEvent, containerId: string) => {\r\n      this.containerId = containerId\r\n      this.handleKeyDown(event)\r\n    })\r\n  }\r\n  destroyed () {\r\n    EventBus.$off('contextMenuDisplay')\r\n    EventBus.$off('groupArray')\r\n    EventBus.$off('editModeContextMenu')\r\n    EventBus.$off('openTextContextMenu')\r\n    EventBus.$off('handleKeyDown')\r\n  }\r\n\r\n  editModeContextMenu (e: MouseEvent, mode: boolean, data: controlData) {\r\n    if (mode) {\r\n      e.preventDefault()\r\n      e.stopPropagation()\r\n      this.top = e.y\r\n      this.left = e.x\r\n      this.contextMenuValue = tabsContextMenu\r\n      this.contextMenuHeight = 84\r\n      if (data.type === 'TabStrip') {\r\n        for (const val of this.contextMenuValue) {\r\n          if (val.id === 'ID_DELETEPAGE' || val.id === 'ID_RENAME') {\r\n            val.disabled = data.extraDatas!.Tabs!.length === 0\r\n          } else if (val.id === 'ID_MOVE') {\r\n            val.disabled = data.extraDatas!.Tabs!.length <= 1\r\n          }\r\n        }\r\n      }\r\n      if (data.type === 'MultiPage') {\r\n        for (const val of this.contextMenuValue) {\r\n          if (val.id === 'ID_DELETEPAGE' || val.id === 'ID_RENAME') {\r\n            val.disabled = data.controls.length === 0\r\n          } else if (val.id === 'ID_MOVE') {\r\n            val.disabled = data.controls.length <= 1\r\n          }\r\n        }\r\n      }\r\n      this.viewMenu = true\r\n      Vue.nextTick(() => this.contextmenu.focus())\r\n    } else {\r\n      return undefined\r\n    }\r\n  }\r\n\r\n  clickUpdate () {\r\n    const selected = this.selectedControls[this.userFormId].selected\r\n    for (let i = 0; i < selected.length; i++) {\r\n      this.updateControl({\r\n        userFormId: this.userFormId,\r\n        controlId: selected[i],\r\n        propertyName: this.testPropName,\r\n        value: this.testPropValue\r\n      })\r\n    }\r\n  }\r\n  clickDelete () {\r\n    const selected = this.selectedControls[this.userFormId].selected\r\n    for (let i = 0; i < selected.length; i++) {\r\n      this.deleteControl({\r\n        userFormId: this.userFormId,\r\n        parentId: this.selectedControls[this.userFormId].container[0],\r\n        targetId: selected[i]\r\n      })\r\n    }\r\n  }\r\n  setUserForm (userformId: string) {\r\n    this.userFormId = userformId\r\n    this.selectControl({\r\n      userFormId: this.userFormId,\r\n      select: {\r\n        container: [this.userFormId],\r\n        selected: [this.userFormId]\r\n      }\r\n    })\r\n  }\r\n  mounted () {\r\n    this.setUserForm(this.userFormId)\r\n  }\r\n  get contextMenuStyle () {\r\n    const contextMenuTop = window.innerHeight > (this.top + this.contextMenuHeight) ? this.top : this.top - this.contextMenuHeight\r\n    return {\r\n      top: `${contextMenuTop}px`,\r\n      left: `${this.left}px`,\r\n      display: this.viewMenu ? 'block' : 'none'\r\n    }\r\n  }\r\n  openMenu (e: MouseEvent, parentID: string, controlID: string, type: string, mode: boolean) {\r\n    e.preventDefault()\r\n    const id = (e.target! as HTMLDivElement).id ? (e.target! as HTMLDivElement).id : ''\r\n    const selected = this.selectedControls[this.userFormId].selected\r\n    const userData = this.userformData[this.userFormId]\r\n    let groupId = ''\r\n    if (!selected.includes(controlID)) {\r\n      groupId = userData[controlID].type === 'MultiPage' ? selected[0] : controlID\r\n      if ('GroupID' in userData[controlID].properties && userData[controlID].properties.GroupID !== '') {\r\n        groupId = this.userformData[this.userFormId][controlID].properties.GroupID!\r\n      }\r\n      if (groupId && !selected.includes(groupId)) {\r\n        this.selectControl({\r\n          userFormId: this.userFormId,\r\n          select: { container: this.getContainerList(groupId), selected: [groupId] }\r\n        })\r\n      }\r\n    }\r\n    const controlType = this.userformData[this.userFormId][controlID].type\r\n    const containerType = this.userformData[this.userFormId][this.containerId].type\r\n    if (type === 'container' && !groupId.startsWith('group') && selected.length <= 1) {\r\n      this.contextMenuType = true\r\n    } else {\r\n      this.contextMenuType = false\r\n    }\r\n    const targetElement = (e.target! as HTMLDivElement).style\r\n    const controlLeft: number | undefined = this.userformData[this.userFormId][controlID].properties.Left!\r\n    const controlTop: number | undefined = this.userformData[this.userFormId][controlID].properties.Top!\r\n    this.top = e.y\r\n    this.left = e.x\r\n    this.contextMenuValue = this.contextMenuType ? userformContextMenu : controlContextMenu\r\n    this.contextMenuHeight = this.contextMenuType ? 145 : 276\r\n    this.viewMenu = true\r\n    const controlLength = selected[0].startsWith('group') ? this.userformData[this.userFormId][this.controlId].controls.length : this.userformData[this.userFormId][selected[0]].controls.length\r\n    const contextMenuData = (type === 'container' && !groupId.startsWith('group') && selected.length <= 1)\r\n      ? this.userformContextMenu\r\n      : this.controlContextMenu\r\n    if ((controlType === 'SpinButton' || controlType === 'ScrollBar' || controlType === 'ListBox') && mode) {\r\n      for (const val of contextMenuData) {\r\n        if (val.id === 'ID_OBJECTPROP') {\r\n          val.disabled = false\r\n        } else if (val.id === 'ID_ALIGN' || val.id === 'ID_MAKESAMESIZE') {\r\n          for (let index = 0; index < val.values.length; index++) {\r\n            val.values[index].disabled = true\r\n          }\r\n        } else {\r\n          val.disabled = true\r\n        }\r\n      }\r\n    } else {\r\n      for (const val of contextMenuData) {\r\n        if (val.id === 'ID_SELECTALL') {\r\n          val.disabled = controlLength === 0\r\n        }\r\n        if (val.id === 'ID_DELETE') {\r\n          if (this.contextMenuType) {\r\n            val.disabled = !(selected.length === 1 && !selected[0].startsWith('group') &&\r\n            (userData[controlID].type === 'Frame' || userData[selected[0]].type === 'Page'))\r\n          } else {\r\n            val.disabled = !(selected.length >= 1)\r\n          }\r\n        }\r\n        if (val.id === 'ID_PASTE') {\r\n          val.disabled = Object.keys(this.copiedControl[this.userFormId]).length === 1\r\n        }\r\n        if (val.id === 'ID_CUT' || val.id === 'ID_COPY' || val.id === 'ID_OBJECTPROP' || val.id === 'ID_VIEWCODE') {\r\n          val.disabled = false\r\n        }\r\n        if (val.id === 'ID_GROUP' || val.id === 'ID_UNGROUP') {\r\n          const selected = this.selectedControls[this.userFormId].selected\r\n          let groupId: boolean = false\r\n          for (const key of selected) {\r\n            if (!key.startsWith('group') && !key.startsWith('ID_USERFORM')) {\r\n              groupId =\r\n                  this.userformData[this.userFormId][key].properties.GroupID === ''\r\n            }\r\n          }\r\n          const selectedGroupArray = selected.filter(\r\n            (val: string) => val.startsWith('group') && val\r\n          )\r\n          if (!groupId && selectedGroupArray.length <= 1) {\r\n            val.text = '<u>U</u>ngroup'\r\n            val.id = 'ID_UNGROUP'\r\n          } else {\r\n            val.text = '<u>G</u>roup'\r\n            val.id = 'ID_GROUP'\r\n            val.disabled =\r\n                this.selectedControls[this.userFormId].selected.length <= 1\r\n          }\r\n        }\r\n        if (val.id === 'ID_CONTROLFORWARD' || val.id === 'ID_CONTROLBACKWARD') {\r\n          const selectedConatiner = this.selectedControls[this.userFormId].container[0]\r\n          val.disabled = userData[selectedConatiner].controls.length <= 1\r\n        }\r\n        if (val.id === 'ID_ALIGN' || val.id === 'ID_MAKESAMESIZE') {\r\n          for (let index = 0; index < val.values.length; index++) {\r\n            if (val.values[index].id === 'ID_GRID') {\r\n              val.values[index].disabled = !(this.selectedControls[this.userFormId].selected.length > 0)\r\n            } else {\r\n              val.values[index].disabled = this.selectedControls[this.userFormId].selected.length <= 1\r\n            }\r\n          }\r\n        }\r\n      }\r\n    }\r\n    Vue.nextTick(() => this.contextmenu.focus())\r\n  }\r\n  getContainerList (selectTarget: string) {\r\n    const containerList: string[] = []\r\n    const controlContainer = (selectTarget: string) => {\r\n      if (this.userformData[this.userFormId][selectTarget].type !== 'Userform') {\r\n        for (let i in this.userformData[this.userFormId]) {\r\n          const controlData = this.userformData[this.userFormId][i]\r\n          if (controlData.controls.length > 0 && controlData.controls.includes(selectTarget)) {\r\n            containerList.push(i)\r\n            controlContainer(i)\r\n            if (this.userformData[this.userFormId][i].type !== 'Userform') {\r\n              break\r\n            }\r\n          }\r\n        }\r\n      }\r\n    }\r\n    const getControlId = (selectTarget: string) => {\r\n      const userData = this.userformData[this.userFormId]\r\n      for (let i in userData) {\r\n        const controlData = userData[i]\r\n        if (controlData.properties.GroupID === selectTarget) {\r\n          return i\r\n        }\r\n      }\r\n    }\r\n    if (selectTarget) {\r\n      const controlId = selectTarget.startsWith('group') ? getControlId(selectTarget) : selectTarget\r\n      if (controlId) {\r\n        controlContainer(controlId)\r\n      }\r\n    }\r\n    return containerList.length > 0 ? containerList : [this.userFormId]\r\n  }\r\n  createGroup (groupId: string) {\r\n    EventBus.$emit('createGroup', groupId)\r\n  }\r\n  openTextContextMenu (event: MouseEvent) {\r\n    this.textMenu = true\r\n    event.preventDefault()\r\n    event.stopPropagation()\r\n    navigator.clipboard.readText()\r\n      .then(text => {\r\n        this.copiedText = text\r\n        this.contextMenuValue = controlContextMenu\r\n        this.contextMenuHeight = 276\r\n        for (const val of controlContextMenu) {\r\n          if (val.id === 'ID_DELETE') {\r\n            val.disabled = this.getCursorPos(event)\r\n          } else if (val.id === 'ID_PASTE') {\r\n            val.disabled = this.copiedText === ''\r\n          } else if (val.id === 'ID_CUT') {\r\n            val.disabled = this.getCursorPos(event)\r\n          } else if (val.id === 'ID_COPY') {\r\n            val.disabled = this.getCursorPos(event)\r\n          } else if (val.id === 'ID_ALIGN' || val.id === 'ID_MAKESAMESIZE') {\r\n            for (let index = 0; index < val.values.length; index++) {\r\n              val.values[index].disabled = true\r\n            }\r\n          } else if (val.id === 'ID_OBJECTPROP') {\r\n            val.disabled = false\r\n          } else {\r\n            val.disabled = true\r\n          }\r\n        }\r\n        Vue.nextTick(() => this.contextmenu.focus())\r\n        this.top = event.y\r\n        this.left = event.x\r\n        this.viewMenu = true\r\n      })\r\n      .catch(err => {\r\n        console.error('Failed to read clipboard contents: ', err)\r\n      })\r\n  }\r\n  getCursorPos (event: MouseEvent) {\r\n    const controlType = this.userformData[this.userFormId][this.controlId].type\r\n    if (controlType === 'ComboBox' || controlType === 'TextBox') {\r\n      const eventTarget = event.target as HTMLTextAreaElement\r\n      const difference = eventTarget.selectionEnd - eventTarget.selectionStart\r\n      if (difference > 0) {\r\n        return false\r\n      } else {\r\n        return true\r\n      }\r\n    } else {\r\n      const isSupported = typeof window.getSelection !== 'undefined'\r\n      if (isSupported) {\r\n        const selection = window.getSelection()!\r\n        if (selection.anchorOffset === selection.focusOffset) {\r\n          return true\r\n        } else {\r\n          return false\r\n        }\r\n      }\r\n      return true\r\n    }\r\n  }\r\n  handleKeyDown (event: KeyboardEvent) {\r\n    this.mainConextMenu.updateAction(event)\r\n  }\r\n  getFocusElement (dialogData: IDialog) {\r\n    this.tabstripContextMenu = false\r\n    if (dialogData.dialogType === 'userformTaborder') {\r\n      this.userformTabOrder = dialogData.val\r\n    } else if (dialogData.dialogType === 'renameDialog') {\r\n      this.renameDialog = dialogData.val\r\n    } else if (dialogData.dialogType === 'tabstripTabOrder') {\r\n      this.tabstripTabOrder = dialogData.val\r\n    }\r\n    if (!dialogData.val) {\r\n      this.updatefocus()\r\n    }\r\n  }\r\n  updatefocus () {\r\n    if (this.renameDialog) {\r\n      Vue.nextTick(() => { (this.renameDialogRef.$el as HTMLDivElement).focus() })\r\n    } else if (this.tabstripContextMenu && !this.tabstripTabOrder) {\r\n      EventBus.$emit('focusTabStrip')\r\n    } else if (this.userformTabOrder) {\r\n      Vue.nextTick(() => { (this.userformTabOrderRef.$el as HTMLDivElement).focus() })\r\n    } else if (this.tabstripTabOrder) {\r\n      Vue.nextTick(() => { (this.tabstripTabOrderRef.$el as HTMLDivElement).focus() })\r\n    } else {\r\n      EventBus.$emit('focusUserForm')\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n#app {\r\n  font-family: Tahoma;\r\n  -webkit-font-smoothing: antialiased;\r\n  -moz-osx-font-smoothing: grayscale;\r\n  color: #2c3e50;\r\n  font-size: 14px;\r\n}\r\n\r\n.splitleft {\r\n  width: auto;\r\n  z-index: 1;\r\n  top: 5;\r\n  left: 5;\r\n  background-color: white;\r\n  overflow-x: hidden;\r\n  border: 2px solid grey;\r\n}\r\n.outersplit {\r\n  height: 83%;\r\n  width: 85%;\r\n  position: fixed;\r\n}\r\n.innersplit {\r\n  border: 1px solid grey;\r\n  position: relative;\r\n  overflow: hidden;\r\n}\r\n.sideheader1 {\r\n  display: grid;\r\n  grid-template-columns: 1fr 25px;\r\n  /* width: 250px; */\r\n  background-color: rgb(142, 191, 231);\r\n  margin-bottom: 8px;\r\n  text-overflow: ellipsis;\r\n  overflow: hidden;\r\n  white-space: nowrap;\r\n}\r\n.sideheader {\r\n  height: 22px;\r\n  text-align: left;\r\n  background-color: rgb(142, 191, 231);\r\n}\r\n\r\n.right {\r\n  right: 0;\r\n  background-color: #80888e;\r\n  height: 100%;\r\n  width: 75%;\r\n  position: absolute;\r\n  z-index: 1;\r\n  overflow-x: hidden;\r\n  /* padding-top: 20px; */\r\n}\r\n.container {\r\n  width: 100%;\r\n  height: 600px;\r\n  max-height: 500px;\r\n}\r\n.header {\r\n  /* height: 40px; */\r\n  height: 10%;\r\n  border-bottom: 1px solid #eee;\r\n  background-color: #ffffff;\r\n}\r\n#mdiv {\r\n  float: right;\r\n  margin: auto;\r\n  position: relative;\r\n  top: 0px;\r\n  left: 0px;\r\n  width: 20px;\r\n  height: 16px;\r\n  background-color: lightgray;\r\n  border: outset;\r\n}\r\n\r\n.mdiv {\r\n  height: 17px;\r\n  width: 2px;\r\n  margin-left: 60px;\r\n  background-color: black;\r\n  transform: rotate(45deg);\r\n  z-index: 1;\r\n  position: absolute;\r\n  right: 8px;\r\n}\r\n\r\n.md {\r\n  height: 17px;\r\n  width: 2px;\r\n  background-color: black;\r\n  transform: rotate(90deg);\r\n  z-index: 2;\r\n  position: absolute;\r\n  right: 0px;\r\n}\r\n.commandbutton-element {\r\n  border: 1px solid gray;\r\n  border-radius: 3px;\r\n  background-color: white;\r\n  min-width: 50px;\r\n  max-width: 112px;\r\n  width: fit-content;\r\n  height: fit-content;\r\n  min-height: 20px;\r\n  padding: 0px 5px 0px 5px;\r\n  overflow: hidden;\r\n}\r\n.dialog-action-button {\r\n  background-color: #f2eded;\r\n  width: 79px;\r\n  height: 35px;\r\n  padding-left: 5px;\r\n  padding-right: 5px;\r\n  padding-top: 8px;\r\n  padding-bottom: 8px;\r\n  border: 1px solid gray;\r\n  border-radius: 3px;\r\n  overflow: hidden;\r\n}\r\n:focus {\r\n  outline: none;\r\n}\r\n.mainbody {\r\n  margin-top: 37px;\r\n}\r\n.fixedSide {\r\n  /*  position: relative; */\r\n  width: 13%;\r\n  float: right;\r\n}\r\n.icon-style {\r\n  margin-top: 7px;\r\n  margin-left: 5px;\r\n}\r\n.splitAreaClass {\r\n  background: gray;\r\n  overflow: auto;\r\n}\r\n.splitAreaDiv {\r\n  position: relative;\r\n  padding: 5px;\r\n}\r\n#right-click-menu {\r\n  background: #fafafa;\r\n  border: 1px solid #bdbdbd;\r\n  box-shadow: 0 2px 2px 0 rgba(0, 0, 0, 0.14), 0 3px 1px -2px rgba(0, 0, 0, 0.2),\r\n    0 1px 5px 0 rgba(0, 0, 0, 0.12);\r\n  list-style: none;\r\n  margin: 0;\r\n  padding: 0;\r\n  /* left:100px;\r\n  top:200px; */\r\n  position: absolute;\r\n  width: 100px;\r\n  z-index: 999999;\r\n}\r\n\r\n#right-click-menu li {\r\n  border-bottom: 1px solid #e0e0e0;\r\n  margin: 0;\r\n  padding: 5px 5px;\r\n}\r\n\r\n#right-click-menu li:last-child {\r\n  border-bottom: none;\r\n}\r\n\r\n#right-click-menu li:hover {\r\n  background: #1e88e5;\r\n  color: #fafafa;\r\n}\r\n</style>\r\n"]}]}