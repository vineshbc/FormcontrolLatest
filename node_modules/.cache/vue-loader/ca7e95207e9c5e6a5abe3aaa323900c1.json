{"remainingRequest":"/home/mobiotics/Projects/hancom/FormcontrolLatest/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/mobiotics/Projects/hancom/FormcontrolLatest/src/FormDesigner/components/atoms/FDListBox/index.vue?vue&type=script&lang=ts&","dependencies":[{"path":"/home/mobiotics/Projects/hancom/FormcontrolLatest/src/FormDesigner/components/atoms/FDListBox/index.vue","mtime":1612274136000},{"path":"/home/mobiotics/Projects/hancom/FormcontrolLatest/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/mobiotics/Projects/hancom/FormcontrolLatest/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/mobiotics/Projects/hancom/FormcontrolLatest/node_modules/ts-loader/index.js","mtime":499162500000},{"path":"/home/mobiotics/Projects/hancom/FormcontrolLatest/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/mobiotics/Projects/hancom/FormcontrolLatest/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCg0KaW1wb3J0IHsNCiAgQ29tcG9uZW50LA0KICBQcm9wLA0KICBWdWUsDQogIE1peGlucywNCiAgV2F0Y2gsDQogIFJlZg0KfSBmcm9tICd2dWUtcHJvcGVydHktZGVjb3JhdG9yJw0KaW1wb3J0IEZkQ29udHJvbFZ1ZSBmcm9tICdAL2FwaS9hYnN0cmFjdC9Gb3JtRGVzaWduZXIvRmRDb250cm9sVnVlJw0KaW1wb3J0IHsgRXZlbnRCdXMgfSBmcm9tICdAL0Zvcm1EZXNpZ25lci9ldmVudC1idXMnDQoNCkBDb21wb25lbnQoew0KICBuYW1lOiAnRkRMaXN0Qm94Jw0KfSkNCmV4cG9ydCBkZWZhdWx0IGNsYXNzIEZETGlzdEJveCBleHRlbmRzIE1peGlucyhGZENvbnRyb2xWdWUpIHsNCiAgQFJlZignbGlzdFN0eWxlUmVmJykgbGlzdFN0eWxlUmVmOiBIVE1MRGl2RWxlbWVudFtdOw0KICBAUmVmKCdsaXN0Qm94VGFibGVSZWYnKSBsaXN0Qm94VGFibGVSZWYhOiBIVE1MRGl2RWxlbWVudDsNCiAgQFJlZignbGlzdFN0eWxlT3V0ZXJSZWYnKSBsaXN0U3R5bGVPdXRlclJlZiE6IEhUTUxEaXZFbGVtZW50Ow0KICBAUHJvcCgpIGlzQWN0aXZhdGVkOiBib29sZWFuOw0KICBAUHJvcCgpIHRvb2xCb3hTZWxlY3RDb250cm9sOiBzdHJpbmcNCiAgY2hlY2tlZHZhbHVlOiBib29sZWFuOw0KICAkZWw6IEhUTUxEaXZFbGVtZW50Ow0KDQogIGdldCBlbXB0eUNvbEhlYWRzICgpIHsNCiAgICByZXR1cm4gew0KICAgICAgaGVpZ2h0OiAnMTVweCcNCiAgICB9DQogIH0NCiAgdXBkYXRlQ29sdW1uSGVhZHMgKGluZGV4OiBudW1iZXIpIHsNCiAgICBjb25zdCBjb250cm9sUHJvcCA9IHRoaXMucHJvcGVydGllcw0KICAgIHJldHVybiB7DQogICAgICB0ZXh0QWxpZ246IGNvbnRyb2xQcm9wLlRleHRBbGlnbiA9PT0gMCA/ICdsZWZ0JyA6IGNvbnRyb2xQcm9wLlRleHRBbGlnbiA9PT0gMiA/ICdyaWdodCcgOiAnY2VudGVyJywNCiAgICAgIGJvcmRlclJpZ2h0OiBpbmRleCA+PSB0aGlzLmV4dHJhRGF0YXMuQ29sdW1uSGVhZHNWYWx1ZXMhLmxlbmd0aCAtIDEgPyAnJyA6IChpbmRleCA8IGNvbnRyb2xQcm9wLkNvbHVtbkNvdW50ISAtIDEpID8gJzFweCBzb2xpZCcgOiBjb250cm9sUHJvcC5Db2x1bW5Db3VudCA9PT0gLTEgPyAoaW5kZXggPCB0aGlzLmV4dHJhRGF0YXMuUm93U291cmNlRGF0YSFbMF0ubGVuZ3RoIC0gMSkgPyAnMXB4IHNvbGlkJyA6ICcnIDogJycsDQogICAgICBvdmVyZmxvdzogJ2hpZGRlbicNCiAgICB9DQogIH0NCg0KICBwcm90ZWN0ZWQgZ2V0IGNvbEhlYWRzU3R5bGUgKCk6IFBhcnRpYWw8Q1NTU3R5bGVEZWNsYXJhdGlvbj4gew0KICAgIGNvbnN0IGNvbnRyb2xQcm9wID0gdGhpcy5wcm9wZXJ0aWVzDQogICAgdGhpcy51cGRhdGVDb2x1bW5zKCkNCiAgICByZXR1cm4gew0KICAgICAgYmFja2dyb3VuZENvbG9yOiBjb250cm9sUHJvcC5CYWNrQ29sb3IsDQogICAgICB3aWR0aDogJzEwMCUnDQogICAgfQ0KICB9DQoNCiAgQFdhdGNoKCdwcm9wZXJ0aWVzLkxpc3RTdHlsZScpDQogIGxpc3RTdHlsZVZhbGlkYXRlICgpIHsNCiAgICB0aGlzLnVwZGF0ZUNvbHVtbnMoKQ0KICB9DQogIEBXYXRjaCgncHJvcGVydGllcy5Db2x1bW5XaWR0aHMnKQ0KICBjb2x1bW5XaWR0aHNWYWxpZGF0ZSAoKSB7DQogICAgdGhpcy51cGRhdGVDb2x1bW5zKCkNCiAgfQ0KICBAV2F0Y2goJ3Byb3BlcnRpZXMuQ29sdW1uQ291bnQnKQ0KICBjb2x1bW5Db3VudFZhbGlkYXRlICgpIHsNCiAgICB0aGlzLnVwZGF0ZUNvbHVtbnMoKQ0KICB9DQogIEBXYXRjaCgncHJvcGVydGllcy5Db2x1bW5IZWFkcycpDQogIGNvbHVtbkhlYWRzVmFsaWRhdGUgKCkgew0KICAgIC8vIHRoaXMudXBkYXRlQ29sdW1ucygpDQogICAgVnVlLm5leHRUaWNrKCgpID0+IHsNCiAgICAgIGlmICh0aGlzLnByb3BlcnRpZXMuQ29sdW1uSGVhZHMgJiYgdGhpcy5saXN0Qm94VGFibGVSZWYpIHsNCiAgICAgICAgaWYgKHRoaXMubGlzdEJveFRhYmxlUmVmLmNoaWxkcmVuWzBdKSB7DQogICAgICAgICAgY29uc3QgaGVhZGVyID0gdGhpcy5saXN0Qm94VGFibGVSZWYuY2hpbGRyZW5bMF0gYXMgSFRNTERpdkVsZW1lbnQNCiAgICAgICAgICBpZiAodGhpcy5saXN0Qm94VGFibGVSZWYuY2hpbGRyZW5bMV0gJiYgdGhpcy5saXN0Qm94VGFibGVSZWYuY2hpbGRyZW5bMV0uY2hpbGRyZW5bMF0pIHsNCiAgICAgICAgICAgIGNvbnN0IGJvZHkgPSB0aGlzLmxpc3RCb3hUYWJsZVJlZi5jaGlsZHJlblsxXS5jaGlsZHJlblswXSBhcyBIVE1MRGl2RWxlbWVudA0KICAgICAgICAgICAgbGV0IHRvdGFsV2lkdGggPSAwDQogICAgICAgICAgICBmb3IgKGxldCBqID0gMDsgaiA8IGJvZHkuY2hpbGRyZW4ubGVuZ3RoOyBqKyspIHsNCiAgICAgICAgICAgICAgdG90YWxXaWR0aCArPSBib2R5LmNoaWxkcmVuW2pdLmNsaWVudFdpZHRoDQogICAgICAgICAgICB9DQogICAgICAgICAgICBoZWFkZXIuc3R5bGUud2lkdGggPSAodG90YWxXaWR0aCAtIDMpICsgJ3B4Jw0KICAgICAgICAgIH0NCiAgICAgICAgfQ0KICAgICAgfQ0KICAgIH0pDQogIH0NCg0KICBjb2x1bW5JdGVtT2JqIChpbmRleDogbnVtYmVyKSB7DQogICAgY29uc3QgY29udHJvbFByb3AgPSB0aGlzLnByb3BlcnRpZXMNCiAgICB0aGlzLnVwZGF0ZUNvbHVtbnMoKQ0KICAgIHJldHVybiB7DQogICAgICBwb3NpdGlvbjogJ3JlbGF0aXZlJywNCiAgICAgIGRpc3BsYXk6ICdpbmxpbmUtYmxvY2snLA0KICAgICAgd2lkdGg6ICdjYWxjKDEwMCUgLSAzcHgpJywNCiAgICAgIHRleHRBbGlnbjogY29udHJvbFByb3AuVGV4dEFsaWduID09PSAyID8gJ3JpZ2h0JyA6IGNvbnRyb2xQcm9wLlRleHRBbGlnbiA9PT0gMSA/ICdjZW50ZXInIDogJ2xlZnQnLA0KICAgICAgb3ZlcmZsb3c6ICdoaWRkZW4nLA0KICAgICAgcGFkZGluZ0JvdHRvbTogdGhpcy5kYXRhLnByb3BlcnRpZXMuRm9udCEuRm9udFNpemUhID4gNDggPyAnMTBweCcgOiAnNXB4Jw0KICAgIH0NCiAgfQ0KDQogIHVwZGF0ZUNvbHVtbnMgKCkgew0KICAgIHRoaXMuY29sdW1uSGVhZHNWYWxpZGF0ZSgpDQogICAgaWYgKHRoaXMucHJvcGVydGllcy5Sb3dTb3VyY2UgIT09ICcnKSB7DQogICAgICBsZXQgZmluYWxXaWR0aHM6QXJyYXk8bnVtYmVyPiA9IFtdDQogICAgICBpZiAodGhpcy5saXN0Qm94VGFibGVSZWYgJiYgdGhpcy5saXN0Qm94VGFibGVSZWYuY2hpbGRyZW5bMF0gJiYgdGhpcy5saXN0Qm94VGFibGVSZWYuY2hpbGRyZW5bMF0uY2xhc3NOYW1lICE9PSAndGFibGUtYm9keScpIHsNCiAgICAgICAgaWYgKHRoaXMubGlzdEJveFRhYmxlUmVmLmNoaWxkcmVuWzBdLmNoaWxkcmVuWzBdKSB7DQogICAgICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCB0aGlzLmxpc3RCb3hUYWJsZVJlZi5jaGlsZHJlblswXS5jaGlsZHJlblswXS5jaGlsZHJlbi5sZW5ndGg7IGorKykgew0KICAgICAgICAgICAgY29uc3QgaGVhZFdpZHRoID0gdGhpcy5saXN0Qm94VGFibGVSZWYuY2hpbGRyZW5bMF0uY2hpbGRyZW5bMF0uY2hpbGRyZW5bal0gYXMgSFRNTERpdkVsZW1lbnQNCiAgICAgICAgICAgIGlmICh0aGlzLnByb3BlcnRpZXMuQ29sdW1uQ291bnQhID09PSAtMSkgew0KICAgICAgICAgICAgICBpZiAoaiA+PSAwICYmIGogPCB0aGlzLmV4dHJhRGF0YXMuUm93U291cmNlRGF0YSEubGVuZ3RoKSB7DQogICAgICAgICAgICAgICAgaGVhZFdpZHRoLnN0eWxlLm1pbldpZHRoID0gJzEwMHB4Jw0KICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9DQogICAgICAgICAgfQ0KICAgICAgICB9DQogICAgICB9DQogICAgICBpZiAodGhpcy5wcm9wZXJ0aWVzLkNvbHVtbkhlYWRzKSB7DQogICAgICAgIGlmICh0aGlzLnByb3BlcnRpZXMuQ29sdW1uV2lkdGhzID09PSAnJyAmJiB0aGlzLmxpc3RCb3hUYWJsZVJlZiAmJiB0aGlzLmxpc3RCb3hUYWJsZVJlZi5jaGlsZHJlblsxXSkgew0KICAgICAgICAgIGlmICh0aGlzLmxpc3RCb3hUYWJsZVJlZi5jaGlsZHJlblsxXS5jaGlsZHJlblswXSkgew0KICAgICAgICAgICAgbGV0IHRlbXBXaWR0aA0KICAgICAgICAgICAgaWYgKHRoaXMucHJvcGVydGllcy5Db2x1bW5Db3VudCEgPD0gdGhpcy5leHRyYURhdGFzLlJvd1NvdXJjZURhdGEhWzBdLmxlbmd0aCkgew0KICAgICAgICAgICAgICBpZiAodGhpcy5wcm9wZXJ0aWVzLldpZHRoISA+IDEwMCkgew0KICAgICAgICAgICAgICAgIGlmICh0aGlzLnByb3BlcnRpZXMuQ29sdW1uQ291bnQhID09PSAtMSkgew0KICAgICAgICAgICAgICAgICAgdGVtcFdpZHRoID0gdGhpcy5wcm9wZXJ0aWVzLldpZHRoISAvIHRoaXMuZXh0cmFEYXRhcy5Sb3dTb3VyY2VEYXRhIVswXS5sZW5ndGgNCiAgICAgICAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgICAgICAgdGVtcFdpZHRoID0gdGhpcy5wcm9wZXJ0aWVzLldpZHRoISAvIHRoaXMucHJvcGVydGllcy5Db2x1bW5Db3VudCENCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICAgICAgdGVtcFdpZHRoID0gMTAwDQogICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICAgIGlmICh0aGlzLnByb3BlcnRpZXMuV2lkdGghID4gMTAwKSB7DQogICAgICAgICAgICAgICAgdGVtcFdpZHRoID0gdGhpcy5wcm9wZXJ0aWVzLldpZHRoISAvIHRoaXMuZXh0cmFEYXRhcy5Sb3dTb3VyY2VEYXRhIVswXS5sZW5ndGgNCiAgICAgICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgICAgICB0ZW1wV2lkdGggPSAxMDANCiAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLmxpc3RCb3hUYWJsZVJlZi5jaGlsZHJlblsxXS5jaGlsZHJlbi5sZW5ndGg7IGkrKykgew0KICAgICAgICAgICAgICBpZiAodGhpcy5wcm9wZXJ0aWVzLkxpc3RTdHlsZSA9PT0gMCkgew0KICAgICAgICAgICAgICAgIFZ1ZS5uZXh0VGljaygoKSA9PiB7DQogICAgICAgICAgICAgICAgICBpZiAodGhpcy5saXN0Qm94VGFibGVSZWYgJiYgdGhpcy5saXN0Qm94VGFibGVSZWYuY2hpbGRyZW5bMF0gJiYgdGhpcy5saXN0Qm94VGFibGVSZWYuY2hpbGRyZW5bMF0uY2hpbGRyZW5bMF0pIHsNCiAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCB0aGlzLmxpc3RCb3hUYWJsZVJlZi5jaGlsZHJlblswXS5jaGlsZHJlblswXS5jaGlsZHJlbi5sZW5ndGg7IGorKykgew0KICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmxpc3RCb3hUYWJsZVJlZiAmJiB0aGlzLmxpc3RCb3hUYWJsZVJlZi5jaGlsZHJlblswXSAmJiB0aGlzLmxpc3RCb3hUYWJsZVJlZi5jaGlsZHJlblswXS5jaGlsZHJlblswXSAmJiB0aGlzLmxpc3RCb3hUYWJsZVJlZi5jaGlsZHJlblswXS5jaGlsZHJlblswXS5jaGlsZHJlbltqXSkgew0KICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgaGVhZFdpZHRoID0gdGhpcy5saXN0Qm94VGFibGVSZWYuY2hpbGRyZW5bMF0uY2hpbGRyZW5bMF0uY2hpbGRyZW5bal0gYXMgSFRNTERpdkVsZW1lbnQNCiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLnByb3BlcnRpZXMuQ29sdW1uQ291bnQgIT09IC0xKSB7DQogICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChqID09PSB0aGlzLmxpc3RCb3hUYWJsZVJlZi5jaGlsZHJlblswXS5jaGlsZHJlblswXS5jaGlsZHJlbi5sZW5ndGggLSAxKSB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgaGVhZFdpZHRoLnN0eWxlLndpZHRoID0gZmluYWxXaWR0aHNbal0gLSA0ICsgJ3B4Jw0KICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhlYWRXaWR0aC5zdHlsZS53aWR0aCA9ICcxMDBweCcNCiAgICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIH0pDQogICAgICAgICAgICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCB0aGlzLmxpc3RCb3hUYWJsZVJlZi5jaGlsZHJlblsxXS5jaGlsZHJlbltpXS5jaGlsZHJlbi5sZW5ndGg7IGorKykgew0KICAgICAgICAgICAgICAgICAgY29uc3Qgd2lkdGggPSB0aGlzLmxpc3RCb3hUYWJsZVJlZi5jaGlsZHJlblsxXS5jaGlsZHJlbltpXS5jaGlsZHJlbltqXSBhcyBIVE1MRGl2RWxlbWVudA0KICAgICAgICAgICAgICAgICAgaWYgKHRoaXMucHJvcGVydGllcy5Db2x1bW5Db3VudCEgPT09IC0xKSB7DQogICAgICAgICAgICAgICAgICAgIGlmIChqID49IDAgJiYgaiA8IHRoaXMuZXh0cmFEYXRhcy5Sb3dTb3VyY2VEYXRhIS5sZW5ndGgpIHsNCiAgICAgICAgICAgICAgICAgICAgICB3aWR0aC5zdHlsZS53aWR0aCA9IHRlbXBXaWR0aCAtIDQgKyAncHgnDQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoaiArIDEgPiB0aGlzLnByb3BlcnRpZXMuQ29sdW1uQ291bnQhKSB7DQogICAgICAgICAgICAgICAgICAgIHdpZHRoLnN0eWxlLm1pbldpZHRoID0gJzBweCcNCiAgICAgICAgICAgICAgICAgICAgd2lkdGguc3R5bGUud2lkdGggPSAnMHB4Jw0KICAgICAgICAgICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgICAgICAgICAgaWYgKGogPCB0aGlzLmV4dHJhRGF0YXMuUm93U291cmNlRGF0YSEubGVuZ3RoKSB7DQogICAgICAgICAgICAgICAgICAgICAgd2lkdGguc3R5bGUubWluV2lkdGggPSAnMTAwcHgnDQogICAgICAgICAgICAgICAgICAgICAgd2lkdGguc3R5bGUud2lkdGggPSB0ZW1wV2lkdGggLSA0ICsgJ3B4Jw0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgICAgIFZ1ZS5uZXh0VGljaygoKSA9PiB7DQogICAgICAgICAgICAgICAgICBpZiAodGhpcy5saXN0Qm94VGFibGVSZWYgJiYgdGhpcy5saXN0Qm94VGFibGVSZWYuY2hpbGRyZW5bMF0gJiYgdGhpcy5saXN0Qm94VGFibGVSZWYuY2hpbGRyZW5bMF0uY2hpbGRyZW5bMF0pIHsNCiAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCB0aGlzLmxpc3RCb3hUYWJsZVJlZi5jaGlsZHJlblswXS5jaGlsZHJlblswXS5jaGlsZHJlbi5sZW5ndGg7IGorKykgew0KICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmxpc3RCb3hUYWJsZVJlZiAmJiB0aGlzLmxpc3RCb3hUYWJsZVJlZi5jaGlsZHJlblswXSAmJiB0aGlzLmxpc3RCb3hUYWJsZVJlZi5jaGlsZHJlblswXS5jaGlsZHJlblswXSAmJiB0aGlzLmxpc3RCb3hUYWJsZVJlZi5jaGlsZHJlblswXS5jaGlsZHJlblswXS5jaGlsZHJlbltqXSkgew0KICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgaGVhZFdpZHRoID0gdGhpcy5saXN0Qm94VGFibGVSZWYuY2hpbGRyZW5bMF0uY2hpbGRyZW5bMF0uY2hpbGRyZW5bal0gYXMgSFRNTERpdkVsZW1lbnQNCiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLnByb3BlcnRpZXMuQ29sdW1uQ291bnQgIT09IC0xKSB7DQogICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChqID09PSB0aGlzLmxpc3RCb3hUYWJsZVJlZi5jaGlsZHJlblswXS5jaGlsZHJlblswXS5jaGlsZHJlbi5sZW5ndGggLSAxKSB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgaGVhZFdpZHRoLnN0eWxlLndpZHRoID0gZmluYWxXaWR0aHNbal0gLSA0ICsgJ3B4Jw0KICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhlYWRXaWR0aC5zdHlsZS53aWR0aCA9ICcxMDBweCcNCiAgICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIH0pDQogICAgICAgICAgICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCB0aGlzLmxpc3RCb3hUYWJsZVJlZi5jaGlsZHJlblsxXS5jaGlsZHJlbltpXS5jaGlsZHJlbi5sZW5ndGg7IGorKykgew0KICAgICAgICAgICAgICAgICAgY29uc3Qgd2lkdGggPSB0aGlzLmxpc3RCb3hUYWJsZVJlZi5jaGlsZHJlblsxXS5jaGlsZHJlbltpXS5jaGlsZHJlbltqXSBhcyBIVE1MRGl2RWxlbWVudA0KICAgICAgICAgICAgICAgICAgaWYgKHRoaXMucHJvcGVydGllcy5Db2x1bW5Db3VudCEgPT09IC0xKSB7DQogICAgICAgICAgICAgICAgICAgIGlmIChqID49IDAgJiYgaiA8IHRoaXMuZXh0cmFEYXRhcy5Sb3dTb3VyY2VEYXRhIS5sZW5ndGgpIHsNCiAgICAgICAgICAgICAgICAgICAgICB3aWR0aC5zdHlsZS53aWR0aCA9ICcxMDBweCcNCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChqID09PSAxICYmIHRoaXMucHJvcGVydGllcy5Db2x1bW5Db3VudCEgPT09IDEpIHsNCiAgICAgICAgICAgICAgICAgICAgd2lkdGguc3R5bGUud2lkdGggPSB0aGlzLnByb3BlcnRpZXMuV2lkdGghIC0gNCArICdweCcNCiAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoaiA+IHRoaXMucHJvcGVydGllcy5Db2x1bW5Db3VudCEpIHsNCiAgICAgICAgICAgICAgICAgICAgd2lkdGguc3R5bGUubWluV2lkdGggPSAnMHB4Jw0KICAgICAgICAgICAgICAgICAgICB3aWR0aC5zdHlsZS53aWR0aCA9ICcwcHgnDQogICAgICAgICAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgICAgICAgICBpZiAoaiA8IHRoaXMuZXh0cmFEYXRhcy5Sb3dTb3VyY2VEYXRhIS5sZW5ndGgpIHsNCiAgICAgICAgICAgICAgICAgICAgICB3aWR0aC5zdHlsZS5taW5XaWR0aCA9ICcxMDBweCcNCiAgICAgICAgICAgICAgICAgICAgICB3aWR0aC5zdHlsZS53aWR0aCA9ICh0aGlzLnByb3BlcnRpZXMuV2lkdGghIC8gdGhpcy5wcm9wZXJ0aWVzLkNvbHVtbkNvdW50ISkgKyAncHgnDQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH0NCiAgICAgICAgICB9DQogICAgICAgIH0gZWxzZSBpZiAodGhpcy5saXN0Qm94VGFibGVSZWYgJiYgdGhpcy5saXN0Qm94VGFibGVSZWYuY2hpbGRyZW5bMV0pIHsNCiAgICAgICAgICBmaW5hbFdpZHRocyA9IHRoaXMuY2FsY3VsYXRlQ29sdW1uV2lkdGhzKCkNCiAgICAgICAgICBpZiAodGhpcy5saXN0Qm94VGFibGVSZWYuY2hpbGRyZW5bMV0uY2hpbGRyZW5bMF0pIHsNCiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5saXN0Qm94VGFibGVSZWYuY2hpbGRyZW5bMV0uY2hpbGRyZW4ubGVuZ3RoOyBpKyspIHsNCiAgICAgICAgICAgICAgaWYgKHRoaXMucHJvcGVydGllcy5MaXN0U3R5bGUgPT09IDApIHsNCiAgICAgICAgICAgICAgICBmb3IgKGxldCBqID0gMDsgaiA8IHRoaXMubGlzdEJveFRhYmxlUmVmLmNoaWxkcmVuWzFdLmNoaWxkcmVuW2ldLmNoaWxkcmVuLmxlbmd0aDsgaisrKSB7DQogICAgICAgICAgICAgICAgICBjb25zdCB3aWR0aCA9IHRoaXMubGlzdEJveFRhYmxlUmVmLmNoaWxkcmVuWzFdLmNoaWxkcmVuW2ldLmNoaWxkcmVuW2pdIGFzIEhUTUxEaXZFbGVtZW50DQogICAgICAgICAgICAgICAgICBpZiAoaiA+PSB0aGlzLnByb3BlcnRpZXMuQ29sdW1uQ291bnQhICYmIHRoaXMucHJvcGVydGllcy5Db2x1bW5Db3VudCAhPT0gLTEpIHsNCiAgICAgICAgICAgICAgICAgICAgd2lkdGguc3R5bGUuZGlzcGxheSA9ICdub25lJw0KICAgICAgICAgICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgICAgICAgICAgd2lkdGguc3R5bGUuZGlzcGxheSA9ICdpbmxpbmUtYmxvY2snDQogICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLnByb3BlcnRpZXMuQ29sdW1uQ291bnQgPT09IDEpIHsNCiAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5wcm9wZXJ0aWVzLldpZHRoISA+IGZpbmFsV2lkdGhzWzBdKSB7DQogICAgICAgICAgICAgICAgICAgICAgICB3aWR0aC5zdHlsZS53aWR0aCA9IHRoaXMucHJvcGVydGllcy5XaWR0aCEgLSA0ICsgJ3B4Jw0KICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICAgICAgICAgICAgICB3aWR0aC5zdHlsZS53aWR0aCA9IGZpbmFsV2lkdGhzWzBdIC0gNCArICdweCcNCiAgICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICAgICAgICAgICAgd2lkdGguc3R5bGUubWluV2lkdGggPSAnMHB4Jw0KICAgICAgICAgICAgICAgICAgICAgIHdpZHRoLnN0eWxlLndpZHRoID0gZmluYWxXaWR0aHNbal0gLSA0ICsgJ3B4Jw0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICBpZiAodGhpcy5saXN0Qm94VGFibGVSZWYgJiYgdGhpcy5saXN0Qm94VGFibGVSZWYuY2hpbGRyZW5bMF0gJiYgdGhpcy5saXN0Qm94VGFibGVSZWYuY2hpbGRyZW5bMF0uY2hpbGRyZW5bMF0gJiYgdGhpcy5saXN0Qm94VGFibGVSZWYuY2hpbGRyZW5bMF0uY2hpbGRyZW5bMF0uY2hpbGRyZW5bal0pIHsNCiAgICAgICAgICAgICAgICAgICAgY29uc3QgaGVhZFdpZHRoID0gdGhpcy5saXN0Qm94VGFibGVSZWYuY2hpbGRyZW5bMF0uY2hpbGRyZW5bMF0uY2hpbGRyZW5bal0gYXMgSFRNTERpdkVsZW1lbnQNCiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMucHJvcGVydGllcy5Db2x1bW5Db3VudCA9PT0gLTEpIHsNCiAgICAgICAgICAgICAgICAgICAgICBoZWFkV2lkdGguc3R5bGUuZGlzcGxheSA9ICdpbmxpbmUtYmxvY2snDQogICAgICAgICAgICAgICAgICAgICAgaGVhZFdpZHRoLnN0eWxlLm1pbldpZHRoID0gJzBweCcNCiAgICAgICAgICAgICAgICAgICAgICBoZWFkV2lkdGguc3R5bGUud2lkdGggPSBmaW5hbFdpZHRoc1tqXSAtIDQgKyAncHgnDQogICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoaiA+PSB0aGlzLnByb3BlcnRpZXMuQ29sdW1uQ291bnQhKSB7DQogICAgICAgICAgICAgICAgICAgICAgaGVhZFdpZHRoLnN0eWxlLmRpc3BsYXkgPSAnbm9uZScNCiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgICAgICAgICAgICBoZWFkV2lkdGguc3R5bGUuZGlzcGxheSA9ICdpbmxpbmUtYmxvY2snDQogICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMucHJvcGVydGllcy5Db2x1bW5Db3VudCA9PT0gMSkgew0KICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMucHJvcGVydGllcy5XaWR0aCEgPiBmaW5hbFdpZHRoc1swXSkgew0KICAgICAgICAgICAgICAgICAgICAgICAgICBoZWFkV2lkdGguc3R5bGUud2lkdGggPSB0aGlzLnByb3BlcnRpZXMuV2lkdGghIC0gNCArICdweCcNCiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICAgICAgICAgICAgICAgIGhlYWRXaWR0aC5zdHlsZS53aWR0aCA9IGZpbmFsV2lkdGhzWzBdIC0gNCArICdweCcNCiAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgICAgICAgICAgICAgaGVhZFdpZHRoLnN0eWxlLndpZHRoID0gZmluYWxXaWR0aHNbal0gLSA0ICsgJ3B4Jw0KICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgICAgICBmb3IgKGxldCBqID0gMDsgaiA8IHRoaXMubGlzdEJveFRhYmxlUmVmLmNoaWxkcmVuWzFdLmNoaWxkcmVuW2ldLmNoaWxkcmVuLmxlbmd0aDsgaisrKSB7DQogICAgICAgICAgICAgICAgICBjb25zdCB3aWR0aCA9IHRoaXMubGlzdEJveFRhYmxlUmVmLmNoaWxkcmVuWzFdLmNoaWxkcmVuW2ldLmNoaWxkcmVuW2pdIGFzIEhUTUxEaXZFbGVtZW50DQogICAgICAgICAgICAgICAgICBpZiAoaiA+IDApIHsNCiAgICAgICAgICAgICAgICAgICAgaWYgKGogPiB0aGlzLnByb3BlcnRpZXMuQ29sdW1uQ291bnQhICYmIGogPiB0aGlzLmV4dHJhRGF0YXMuUm93U291cmNlRGF0YSEubGVuZ3RoIC0gMSkgew0KICAgICAgICAgICAgICAgICAgICAgIHdpZHRoLnN0eWxlLmRpc3BsYXkgPSAnbm9uZScNCiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgICAgICAgICAgICB3aWR0aC5zdHlsZS5kaXNwbGF5ID0gJ2lubGluZS1ibG9jaycNCiAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5wcm9wZXJ0aWVzLkNvbHVtbkNvdW50ID09PSAxKSB7DQogICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5wcm9wZXJ0aWVzLldpZHRoISA+IGZpbmFsV2lkdGhzWzBdKSB7DQogICAgICAgICAgICAgICAgICAgICAgICAgIHdpZHRoLnN0eWxlLndpZHRoID0gdGhpcy5wcm9wZXJ0aWVzLldpZHRoISAtIDQgKyAncHgnDQogICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgICAgICAgICAgICAgICB3aWR0aC5zdHlsZS53aWR0aCA9IGZpbmFsV2lkdGhzWzBdIC0gNCArICdweCcNCiAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgICAgICAgICAgICAgd2lkdGguc3R5bGUubWluV2lkdGggPSAnMHB4Jw0KICAgICAgICAgICAgICAgICAgICAgICAgd2lkdGguc3R5bGUud2lkdGggPSBmaW5hbFdpZHRoc1tqIC0gMV0gLSA0ICsgJ3B4Jw0KICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5saXN0Qm94VGFibGVSZWYgJiYgdGhpcy5saXN0Qm94VGFibGVSZWYuY2hpbGRyZW5bMF0gJiYgdGhpcy5saXN0Qm94VGFibGVSZWYuY2hpbGRyZW5bMF0uY2hpbGRyZW5bMF0gJiYgdGhpcy5saXN0Qm94VGFibGVSZWYuY2hpbGRyZW5bMF0uY2hpbGRyZW5bMF0uY2hpbGRyZW5bal0pIHsNCiAgICAgICAgICAgICAgICAgICAgICBjb25zdCBoZWFkV2lkdGggPSB0aGlzLmxpc3RCb3hUYWJsZVJlZi5jaGlsZHJlblswXS5jaGlsZHJlblswXS5jaGlsZHJlbltqXSBhcyBIVE1MRGl2RWxlbWVudA0KICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLnByb3BlcnRpZXMuQ29sdW1uQ291bnQgPT09IC0xKSB7DQogICAgICAgICAgICAgICAgICAgICAgICBoZWFkV2lkdGguc3R5bGUuZGlzcGxheSA9ICdpbmxpbmUtYmxvY2snDQogICAgICAgICAgICAgICAgICAgICAgICBoZWFkV2lkdGguc3R5bGUubWluV2lkdGggPSAnMHB4Jw0KICAgICAgICAgICAgICAgICAgICAgICAgaGVhZFdpZHRoLnN0eWxlLndpZHRoID0gZmluYWxXaWR0aHNbal0gLSA0ICsgJ3B4Jw0KICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoaiA+PSB0aGlzLnByb3BlcnRpZXMuQ29sdW1uQ291bnQhKSB7DQogICAgICAgICAgICAgICAgICAgICAgICBoZWFkV2lkdGguc3R5bGUuZGlzcGxheSA9ICdub25lJw0KICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICAgICAgICAgICAgICBoZWFkV2lkdGguc3R5bGUuZGlzcGxheSA9ICdpbmxpbmUtYmxvY2snDQogICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5wcm9wZXJ0aWVzLkNvbHVtbkNvdW50ID09PSAxKSB7DQogICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLnByb3BlcnRpZXMuV2lkdGghID4gZmluYWxXaWR0aHNbMF0pIHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBoZWFkV2lkdGguc3R5bGUud2lkdGggPSB0aGlzLnByb3BlcnRpZXMuV2lkdGghIC0gNCArICdweCcNCiAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBoZWFkV2lkdGguc3R5bGUud2lkdGggPSBmaW5hbFdpZHRoc1swXSAtIDQgKyAncHgnDQogICAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICAgICAgICAgICAgICAgIGhlYWRXaWR0aC5zdHlsZS53aWR0aCA9IGZpbmFsV2lkdGhzW2pdIC0gNCArICdweCcNCiAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH0NCiAgICAgICAgICB9DQogICAgICAgIH0NCiAgICAgIH0gZWxzZSB7DQogICAgICAgIGlmICh0aGlzLnByb3BlcnRpZXMuQ29sdW1uV2lkdGhzID09PSAnJyAmJiB0aGlzLmxpc3RCb3hUYWJsZVJlZiAmJiB0aGlzLmxpc3RCb3hUYWJsZVJlZi5jaGlsZHJlblswXSkgew0KICAgICAgICAgIGlmICh0aGlzLmxpc3RCb3hUYWJsZVJlZi5jaGlsZHJlblswXS5jaGlsZHJlblswXSkgew0KICAgICAgICAgICAgbGV0IHRlbXBXaWR0aA0KICAgICAgICAgICAgaWYgKHRoaXMucHJvcGVydGllcy5Db2x1bW5Db3VudCEgPD0gdGhpcy5leHRyYURhdGFzLlJvd1NvdXJjZURhdGEhWzBdLmxlbmd0aCkgew0KICAgICAgICAgICAgICBpZiAodGhpcy5wcm9wZXJ0aWVzLldpZHRoISA+IDEwMCkgew0KICAgICAgICAgICAgICAgIGlmICh0aGlzLnByb3BlcnRpZXMuQ29sdW1uQ291bnQhID09PSAtMSkgew0KICAgICAgICAgICAgICAgICAgdGVtcFdpZHRoID0gdGhpcy5wcm9wZXJ0aWVzLldpZHRoISAvIHRoaXMuZXh0cmFEYXRhcy5Sb3dTb3VyY2VEYXRhIVswXS5sZW5ndGgNCiAgICAgICAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgICAgICAgdGVtcFdpZHRoID0gdGhpcy5wcm9wZXJ0aWVzLldpZHRoISAvIHRoaXMucHJvcGVydGllcy5Db2x1bW5Db3VudCENCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICAgICAgdGVtcFdpZHRoID0gMTAwDQogICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICAgIGlmICh0aGlzLnByb3BlcnRpZXMuV2lkdGghID4gMTAwKSB7DQogICAgICAgICAgICAgICAgdGVtcFdpZHRoID0gdGhpcy5wcm9wZXJ0aWVzLldpZHRoISAvIHRoaXMuZXh0cmFEYXRhcy5Sb3dTb3VyY2VEYXRhIVswXS5sZW5ndGgNCiAgICAgICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgICAgICB0ZW1wV2lkdGggPSAxMDANCiAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLmxpc3RCb3hUYWJsZVJlZi5jaGlsZHJlblswXS5jaGlsZHJlbi5sZW5ndGg7IGkrKykgew0KICAgICAgICAgICAgICBpZiAodGhpcy5wcm9wZXJ0aWVzLkxpc3RTdHlsZSA9PT0gMCkgew0KICAgICAgICAgICAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgdGhpcy5saXN0Qm94VGFibGVSZWYuY2hpbGRyZW5bMF0uY2hpbGRyZW5baV0uY2hpbGRyZW4ubGVuZ3RoOyBqKyspIHsNCiAgICAgICAgICAgICAgICAgIGNvbnN0IHdpZHRoID0gdGhpcy5saXN0Qm94VGFibGVSZWYuY2hpbGRyZW5bMF0uY2hpbGRyZW5baV0uY2hpbGRyZW5bal0gYXMgSFRNTERpdkVsZW1lbnQNCiAgICAgICAgICAgICAgICAgIGlmICh0aGlzLnByb3BlcnRpZXMuQ29sdW1uQ291bnQhID09PSAtMSkgew0KICAgICAgICAgICAgICAgICAgICBpZiAoaiA+PSAwICYmIGogPCB0aGlzLmV4dHJhRGF0YXMuUm93U291cmNlRGF0YSEubGVuZ3RoKSB7DQogICAgICAgICAgICAgICAgICAgICAgd2lkdGguc3R5bGUud2lkdGggPSB0ZW1wV2lkdGggLSA0ICsgJ3B4Jw0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGogKyAxID4gdGhpcy5wcm9wZXJ0aWVzLkNvbHVtbkNvdW50ISkgew0KICAgICAgICAgICAgICAgICAgICB3aWR0aC5zdHlsZS5taW5XaWR0aCA9ICcwcHgnDQogICAgICAgICAgICAgICAgICAgIHdpZHRoLnN0eWxlLndpZHRoID0gJzBweCcNCiAgICAgICAgICAgICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICAgICAgICAgIGlmIChqIDwgdGhpcy5leHRyYURhdGFzLlJvd1NvdXJjZURhdGEhLmxlbmd0aCkgew0KICAgICAgICAgICAgICAgICAgICAgIHdpZHRoLnN0eWxlLm1pbldpZHRoID0gJzEwMHB4Jw0KICAgICAgICAgICAgICAgICAgICAgIHdpZHRoLnN0eWxlLndpZHRoID0gdGVtcFdpZHRoIC0gNCArICdweCcNCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgICAgICBmb3IgKGxldCBqID0gMDsgaiA8IHRoaXMubGlzdEJveFRhYmxlUmVmLmNoaWxkcmVuWzBdLmNoaWxkcmVuW2ldLmNoaWxkcmVuLmxlbmd0aDsgaisrKSB7DQogICAgICAgICAgICAgICAgICBjb25zdCB3aWR0aCA9IHRoaXMubGlzdEJveFRhYmxlUmVmLmNoaWxkcmVuWzBdLmNoaWxkcmVuW2ldLmNoaWxkcmVuW2pdIGFzIEhUTUxEaXZFbGVtZW50DQogICAgICAgICAgICAgICAgICBpZiAodGhpcy5wcm9wZXJ0aWVzLkNvbHVtbkNvdW50ISA9PT0gLTEpIHsNCiAgICAgICAgICAgICAgICAgICAgaWYgKGogPj0gMCAmJiBqIDwgdGhpcy5leHRyYURhdGFzLlJvd1NvdXJjZURhdGEhLmxlbmd0aCkgew0KICAgICAgICAgICAgICAgICAgICAgIHdpZHRoLnN0eWxlLndpZHRoID0gJzEwMHB4Jw0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGogPT09IDEgJiYgdGhpcy5wcm9wZXJ0aWVzLkNvbHVtbkNvdW50ISA9PT0gMSkgew0KICAgICAgICAgICAgICAgICAgICB3aWR0aC5zdHlsZS53aWR0aCA9IHRoaXMucHJvcGVydGllcy5XaWR0aCEgLSA0ICsgJ3B4Jw0KICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChqID4gdGhpcy5wcm9wZXJ0aWVzLkNvbHVtbkNvdW50ISkgew0KICAgICAgICAgICAgICAgICAgICB3aWR0aC5zdHlsZS5taW5XaWR0aCA9ICcwcHgnDQogICAgICAgICAgICAgICAgICAgIHdpZHRoLnN0eWxlLndpZHRoID0gJzBweCcNCiAgICAgICAgICAgICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICAgICAgICAgIGlmIChqIDwgdGhpcy5leHRyYURhdGFzLlJvd1NvdXJjZURhdGEhLmxlbmd0aCkgew0KICAgICAgICAgICAgICAgICAgICAgIHdpZHRoLnN0eWxlLm1pbldpZHRoID0gJzEwMHB4Jw0KICAgICAgICAgICAgICAgICAgICAgIHdpZHRoLnN0eWxlLndpZHRoID0gKHRoaXMucHJvcGVydGllcy5XaWR0aCEgLyB0aGlzLnByb3BlcnRpZXMuQ29sdW1uQ291bnQhKSArICdweCcNCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfQ0KICAgICAgICAgIH0NCiAgICAgICAgfSBlbHNlIGlmICh0aGlzLmxpc3RCb3hUYWJsZVJlZiAmJiB0aGlzLmxpc3RCb3hUYWJsZVJlZi5jaGlsZHJlblswXSkgew0KICAgICAgICAgIGZpbmFsV2lkdGhzID0gdGhpcy5jYWxjdWxhdGVDb2x1bW5XaWR0aHMoKQ0KICAgICAgICAgIGlmICh0aGlzLmxpc3RCb3hUYWJsZVJlZi5jaGlsZHJlblswXS5jaGlsZHJlblswXSkgew0KICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLmxpc3RCb3hUYWJsZVJlZi5jaGlsZHJlblswXS5jaGlsZHJlbi5sZW5ndGg7IGkrKykgew0KICAgICAgICAgICAgICBpZiAodGhpcy5wcm9wZXJ0aWVzLkxpc3RTdHlsZSA9PT0gMCkgew0KICAgICAgICAgICAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgdGhpcy5saXN0Qm94VGFibGVSZWYuY2hpbGRyZW5bMF0uY2hpbGRyZW5baV0uY2hpbGRyZW4ubGVuZ3RoOyBqKyspIHsNCiAgICAgICAgICAgICAgICAgIGNvbnN0IHdpZHRoID0gdGhpcy5saXN0Qm94VGFibGVSZWYuY2hpbGRyZW5bMF0uY2hpbGRyZW5baV0uY2hpbGRyZW5bal0gYXMgSFRNTERpdkVsZW1lbnQNCiAgICAgICAgICAgICAgICAgIGlmIChqID49IHRoaXMucHJvcGVydGllcy5Db2x1bW5Db3VudCEgJiYgdGhpcy5wcm9wZXJ0aWVzLkNvbHVtbkNvdW50ICE9PSAtMSkgew0KICAgICAgICAgICAgICAgICAgICB3aWR0aC5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnDQogICAgICAgICAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgICAgICAgICB3aWR0aC5zdHlsZS5kaXNwbGF5ID0gJ2lubGluZS1ibG9jaycNCiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMucHJvcGVydGllcy5Db2x1bW5Db3VudCA9PT0gMSkgew0KICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLnByb3BlcnRpZXMuV2lkdGghID4gZmluYWxXaWR0aHNbMF0pIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIHdpZHRoLnN0eWxlLndpZHRoID0gdGhpcy5wcm9wZXJ0aWVzLldpZHRoISAtIDQgKyAncHgnDQogICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIHdpZHRoLnN0eWxlLndpZHRoID0gZmluYWxXaWR0aHNbMF0gLSA0ICsgJ3B4Jw0KICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgICAgICAgICAgICB3aWR0aC5zdHlsZS5taW5XaWR0aCA9ICcwcHgnDQogICAgICAgICAgICAgICAgICAgICAgd2lkdGguc3R5bGUud2lkdGggPSBmaW5hbFdpZHRoc1tqXSAtIDQgKyAncHgnDQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCB0aGlzLmxpc3RCb3hUYWJsZVJlZi5jaGlsZHJlblswXS5jaGlsZHJlbltpXS5jaGlsZHJlbi5sZW5ndGg7IGorKykgew0KICAgICAgICAgICAgICAgICAgY29uc3Qgd2lkdGggPSB0aGlzLmxpc3RCb3hUYWJsZVJlZi5jaGlsZHJlblswXS5jaGlsZHJlbltpXS5jaGlsZHJlbltqXSBhcyBIVE1MRGl2RWxlbWVudA0KICAgICAgICAgICAgICAgICAgaWYgKGogPiAwKSB7DQogICAgICAgICAgICAgICAgICAgIGlmIChqID4gdGhpcy5wcm9wZXJ0aWVzLkNvbHVtbkNvdW50ISAmJiBqID4gdGhpcy5leHRyYURhdGFzLlJvd1NvdXJjZURhdGEhLmxlbmd0aCAtIDEpIHsNCiAgICAgICAgICAgICAgICAgICAgICB3aWR0aC5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnDQogICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICAgICAgICAgICAgd2lkdGguc3R5bGUuZGlzcGxheSA9ICdpbmxpbmUtYmxvY2snDQogICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMucHJvcGVydGllcy5Db2x1bW5Db3VudCA9PT0gMSkgew0KICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMucHJvcGVydGllcy5XaWR0aCEgPiBmaW5hbFdpZHRoc1swXSkgew0KICAgICAgICAgICAgICAgICAgICAgICAgICB3aWR0aC5zdHlsZS53aWR0aCA9IHRoaXMucHJvcGVydGllcy5XaWR0aCEgLSA0ICsgJ3B4Jw0KICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgd2lkdGguc3R5bGUud2lkdGggPSBmaW5hbFdpZHRoc1swXSAtIDQgKyAncHgnDQogICAgICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIHdpZHRoLnN0eWxlLm1pbldpZHRoID0gJzBweCcNCiAgICAgICAgICAgICAgICAgICAgICAgIHdpZHRoLnN0eWxlLndpZHRoID0gZmluYWxXaWR0aHNbaiAtIDFdIC0gNCArICdweCcNCiAgICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH0NCiAgICAgICAgICB9DQogICAgICAgIH0NCiAgICAgIH0NCiAgICB9DQogIH0NCg0KICBjYWxjdWxhdGVDb2x1bW5XaWR0aHMgKCkgew0KICAgIGxldCBhID0gKHRoaXMucHJvcGVydGllcy5Db2x1bW5XaWR0aHMhLnNwbGl0KCc7JykpDQogICAgbGV0IGIgPSBbXQ0KICAgIGxldCB0ZW1wID0gMA0KICAgIGxldCB0b3RhbFdpZHRoID0gdGhpcy5wcm9wZXJ0aWVzLldpZHRoIQ0KICAgIGxldCB0b3RhbENvbHVtbldpZHRocyA9IDANCiAgICBsZXQgY29sV2lkdGhzID0gdGhpcy5wcm9wZXJ0aWVzLkNvbHVtbldpZHRocyENCiAgICBsZXQgY29sdW1uV2lkdGhDb3VudCA9IGNvbFdpZHRocy5zcGxpdCgnOycpLmxlbmd0aA0KICAgIGxldCB0b3RhbENvbHVtbkNvdW50ID0gdGhpcy5wcm9wZXJ0aWVzLkNvbHVtbkNvdW50ISA8IHRoaXMuZXh0cmFEYXRhcy5Sb3dTb3VyY2VEYXRhIVswXS5sZW5ndGggPyB0aGlzLnByb3BlcnRpZXMuQ29sdW1uQ291bnQhIDogdGhpcy5leHRyYURhdGFzLlJvd1NvdXJjZURhdGEhWzBdLmxlbmd0aA0KICAgIGxldCB3aWR0aHMgPSBbXQ0KICAgIGxldCBmaW5hbFdpZHRoczpBcnJheTxudW1iZXI+ID0gW10NCiAgICBsZXQgbGFzdENvbHVtV2lkdGggPSAwDQogICAgaWYgKHRoaXMucHJvcGVydGllcy5Db2x1bW5Db3VudCA9PT0gLTEpIHsNCiAgICAgIGlmIChjb2x1bW5XaWR0aENvdW50ID49IHRoaXMuZXh0cmFEYXRhcy5Sb3dTb3VyY2VEYXRhIVswXS5sZW5ndGgpIHsNCiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLmV4dHJhRGF0YXMuUm93U291cmNlRGF0YSFbMF0ubGVuZ3RoOyBpKyspIHsNCiAgICAgICAgICBpZiAoaSA8IHRoaXMuZXh0cmFEYXRhcy5Sb3dTb3VyY2VEYXRhIVswXS5sZW5ndGgpIHsNCiAgICAgICAgICAgIGxldCB0ZW1wV2lkdGggPSBwYXJzZUludChjb2xXaWR0aHMuc3BsaXQoJzsnKVtpXSwgMTApDQogICAgICAgICAgICB0b3RhbENvbHVtbldpZHRocyArPSB0ZW1wV2lkdGgNCiAgICAgICAgICAgIHdpZHRocy5wdXNoKHRlbXBXaWR0aCkNCiAgICAgICAgICB9DQogICAgICAgIH0NCiAgICAgIH0gZWxzZSB7DQogICAgICAgIGxldCBjb3VudCA9IDANCiAgICAgICAgbGV0IGNvbFdpZHRoQ2FsY3VsYXRlZENvdW50ID0gMA0KICAgICAgICBsZXQgY29sV2lkdGggPSAwDQogICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5leHRyYURhdGFzLlJvd1NvdXJjZURhdGEhWzBdLmxlbmd0aDsgaSsrKSB7DQogICAgICAgICAgaWYgKGkgPCBjb2x1bW5XaWR0aENvdW50KSB7DQogICAgICAgICAgICB3aWR0aHMucHVzaChwYXJzZUludChjb2xXaWR0aHMuc3BsaXQoJzsnKVtpXSwgMTApKQ0KICAgICAgICAgICAgY291bnQgPSBjb3VudCArIDENCiAgICAgICAgICAgIHRvdGFsQ29sdW1uV2lkdGhzICs9IHBhcnNlSW50KGNvbFdpZHRocy5zcGxpdCgnOycpW2ldLCAxMCkNCiAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgaWYgKHRvdGFsV2lkdGggPiB0b3RhbENvbHVtbldpZHRocykgew0KICAgICAgICAgICAgICBjb2xXaWR0aENhbGN1bGF0ZWRDb3VudCA9IGNvbFdpZHRoQ2FsY3VsYXRlZENvdW50ICsgMQ0KICAgICAgICAgICAgICBpZiAoY29sV2lkdGhDYWxjdWxhdGVkQ291bnQgPT09IDEpIHsNCiAgICAgICAgICAgICAgICBjb2xXaWR0aCA9ICgodG90YWxXaWR0aCAtIHRvdGFsQ29sdW1uV2lkdGhzKSAvICh0aGlzLmV4dHJhRGF0YXMuUm93U291cmNlRGF0YSFbMF0ubGVuZ3RoIC0gY291bnQpKQ0KICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgIHdpZHRocy5wdXNoKGNvbFdpZHRoKQ0KICAgICAgICAgICAgICB0b3RhbENvbHVtbldpZHRocyArPSBjb2xXaWR0aA0KICAgICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgICAgd2lkdGhzLnB1c2goMTAwKQ0KICAgICAgICAgICAgfQ0KICAgICAgICAgIH0NCiAgICAgICAgfQ0KICAgICAgfQ0KICAgICAgaWYgKHRvdGFsV2lkdGggPiB0b3RhbENvbHVtbldpZHRocykgew0KICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHdpZHRocy5sZW5ndGg7IGkrKykgew0KICAgICAgICAgIGlmICh3aWR0aHMubGVuZ3RoIC0gMSAhPT0gaSkgew0KICAgICAgICAgICAgbGFzdENvbHVtV2lkdGggPSB0b3RhbFdpZHRoIC0gd2lkdGhzW2ldIQ0KICAgICAgICAgICAgZmluYWxXaWR0aHMucHVzaCh3aWR0aHNbaV0pDQogICAgICAgICAgICB0b3RhbFdpZHRoID0gbGFzdENvbHVtV2lkdGgNCiAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgZmluYWxXaWR0aHMucHVzaChsYXN0Q29sdW1XaWR0aCkNCiAgICAgICAgICB9DQogICAgICAgIH0NCiAgICAgIH0gZWxzZSBpZiAodG90YWxXaWR0aCA8PSB0b3RhbENvbHVtbldpZHRocykgew0KICAgICAgICBmb3IgKGxldCBqID0gMDsgaiA8IHdpZHRocy5sZW5ndGg7IGorKykgew0KICAgICAgICAgIGZpbmFsV2lkdGhzLnB1c2god2lkdGhzW2pdKQ0KICAgICAgICB9DQogICAgICB9DQogICAgfSBlbHNlIHsNCiAgICAgIGlmIChjb2x1bW5XaWR0aENvdW50ID49IHRvdGFsQ29sdW1uQ291bnQpIHsNCiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0b3RhbENvbHVtbkNvdW50OyBpKyspIHsNCiAgICAgICAgICBpZiAoaSA8IHRoaXMucHJvcGVydGllcy5Db2x1bW5Db3VudCEpIHsNCiAgICAgICAgICAgIGxldCB0ZW1wV2lkdGggPSBwYXJzZUludChjb2xXaWR0aHMuc3BsaXQoJzsnKVtpXSwgMTApDQogICAgICAgICAgICB0b3RhbENvbHVtbldpZHRocyArPSB0ZW1wV2lkdGgNCiAgICAgICAgICAgIHdpZHRocy5wdXNoKHRlbXBXaWR0aCkNCiAgICAgICAgICB9DQogICAgICAgIH0NCiAgICAgIH0gZWxzZSB7DQogICAgICAgIGxldCBjb3VudCA9IDANCiAgICAgICAgbGV0IGNvbFdpZHRoQ2FsY3VsYXRlZENvdW50ID0gMA0KICAgICAgICBsZXQgY29sV2lkdGggPSAwDQogICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdG90YWxDb2x1bW5Db3VudDsgaSsrKSB7DQogICAgICAgICAgaWYgKGkgPCBjb2x1bW5XaWR0aENvdW50KSB7DQogICAgICAgICAgICB3aWR0aHMucHVzaChwYXJzZUludChjb2xXaWR0aHMuc3BsaXQoJzsnKVtpXSwgMTApKQ0KICAgICAgICAgICAgY291bnQgPSBjb3VudCArIDENCiAgICAgICAgICAgIHRvdGFsQ29sdW1uV2lkdGhzICs9IHBhcnNlSW50KGNvbFdpZHRocy5zcGxpdCgnOycpW2ldLCAxMCkNCiAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgaWYgKHRvdGFsV2lkdGggPiB0b3RhbENvbHVtbldpZHRocykgew0KICAgICAgICAgICAgICBjb2xXaWR0aENhbGN1bGF0ZWRDb3VudCA9IGNvbFdpZHRoQ2FsY3VsYXRlZENvdW50ICsgMQ0KICAgICAgICAgICAgICBpZiAoY29sV2lkdGhDYWxjdWxhdGVkQ291bnQgPT09IDEpIHsNCiAgICAgICAgICAgICAgICBjb2xXaWR0aCA9ICgodG90YWxXaWR0aCAtIHRvdGFsQ29sdW1uV2lkdGhzKSAvICh0b3RhbENvbHVtbkNvdW50IC0gY291bnQpKQ0KICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgIHdpZHRocy5wdXNoKGNvbFdpZHRoKQ0KICAgICAgICAgICAgICB0b3RhbENvbHVtbldpZHRocyArPSBjb2xXaWR0aA0KICAgICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgICAgd2lkdGhzLnB1c2goMTAwKQ0KICAgICAgICAgICAgfQ0KICAgICAgICAgIH0NCiAgICAgICAgfQ0KICAgICAgfQ0KICAgICAgaWYgKHRvdGFsV2lkdGggPiB0b3RhbENvbHVtbldpZHRocykgew0KICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHdpZHRocy5sZW5ndGg7IGkrKykgew0KICAgICAgICAgIGlmICh3aWR0aHMubGVuZ3RoIC0gMSAhPT0gaSkgew0KICAgICAgICAgICAgbGFzdENvbHVtV2lkdGggPSB0b3RhbFdpZHRoIC0gd2lkdGhzW2ldIQ0KICAgICAgICAgICAgZmluYWxXaWR0aHMucHVzaCh3aWR0aHNbaV0pDQogICAgICAgICAgICB0b3RhbFdpZHRoID0gbGFzdENvbHVtV2lkdGgNCiAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgZmluYWxXaWR0aHMucHVzaChsYXN0Q29sdW1XaWR0aCkNCiAgICAgICAgICB9DQogICAgICAgIH0NCiAgICAgIH0gZWxzZSBpZiAodG90YWxXaWR0aCA8PSB0b3RhbENvbHVtbldpZHRocykgew0KICAgICAgICBmb3IgKGxldCBqID0gMDsgaiA8IHdpZHRocy5sZW5ndGg7IGorKykgew0KICAgICAgICAgIGZpbmFsV2lkdGhzLnB1c2god2lkdGhzW2pdKQ0KICAgICAgICB9DQogICAgICB9DQogICAgfQ0KICAgIHJldHVybiBmaW5hbFdpZHRocw0KICB9DQogIGhhbmRsZU1vdXNlZG93biAoZTogTW91c2VFdmVudCkgew0KICAgIGlmICh0aGlzLnRvb2xCb3hTZWxlY3RDb250cm9sID09PSAnU2VsZWN0Jykgew0KICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKQ0KICAgICAgaWYgKHRoaXMucHJvcGVydGllcy5Sb3dTb3VyY2UgIT09ICcnKSB7DQogICAgICAgIGlmICgNCiAgICAgICAgICBlLnRhcmdldCBpbnN0YW5jZW9mIEhUTUxEaXZFbGVtZW50IHx8DQogICAgICBlLnRhcmdldCBpbnN0YW5jZW9mIEhUTUxUYWJsZVJvd0VsZW1lbnQgfHwNCiAgICAgIGUudGFyZ2V0IGluc3RhbmNlb2YgSFRNTElucHV0RWxlbWVudA0KICAgICAgICApIHsNCiAgICAgICAgICB0aGlzLnRlbXBMaXN0Qm94Q29tYm9Cb3hFdmVudCA9IGUNCiAgICAgICAgICBjb25zdCB0YXJnZXRFbGVtZW50ID0gZS50YXJnZXQNCiAgICAgICAgICBjb25zdCB0ZW1wRGF0YSA9IHRhcmdldEVsZW1lbnQhLnBhcmVudEVsZW1lbnQhDQogICAgICAgICAgICAuY2hpbGRyZW5bMF0gYXMgSFRNTERpdkVsZW1lbnQNCiAgICAgICAgICBjb25zdCB0ZW1wRGF0YU9wdGlvbiA9IHRhcmdldEVsZW1lbnQucGFyZW50RWxlbWVudCENCiAgICAgICAgICAgIC5jaGlsZHJlblsxXSBhcyBIVE1MRGl2RWxlbWVudA0KICAgICAgICAgIGNvbnN0IHRlbXBQYXRoID0gZS5jb21wb3NlZFBhdGgoKQ0KICAgICAgICAgIHRhcmdldEVsZW1lbnQuZm9jdXMoKQ0KICAgICAgICAgIGxldCBkYXRhID0gdGFyZ2V0RWxlbWVudC5pbm5lclRleHQNCiAgICAgICAgICBsZXQgc3BsaXREYXRhID0gZGF0YS5yZXBsYWNlKC9cdC9nLCAnICcpLnNwbGl0KCcgJykNCg0KICAgICAgICAgIHRhcmdldEVsZW1lbnQuZm9jdXMoKQ0KICAgICAgICAgIGlmICh0aGlzLnByb3BlcnRpZXMuRW5hYmxlZCAmJiB0aGlzLnByb3BlcnRpZXMuTG9ja2VkID09PSBmYWxzZSkgew0KICAgICAgICAgICAgaWYgKHRoaXMucHJvcGVydGllcy5NdWx0aVNlbGVjdCA9PT0gMCkgew0KICAgICAgICAgICAgICB0aGlzLmNsZWFyT3B0aW9uQkdDb2xvckFuZENoZWNrZWQoZSkNCiAgICAgICAgICAgICAgdGhpcy5zZXRPcHRpb25CR0NvbG9yQW5kQ2hlY2tlZChlKQ0KICAgICAgICAgICAgfSBlbHNlIGlmICh0aGlzLnByb3BlcnRpZXMuTXVsdGlTZWxlY3QgPT09IDEpIHsNCiAgICAgICAgICAgICAgdGhpcy5zZXRPcHRpb25CR0NvbG9yQW5kQ2hlY2tlZChlKQ0KICAgICAgICAgICAgfSBlbHNlIGlmICh0aGlzLnByb3BlcnRpZXMuTXVsdGlTZWxlY3QgPT09IDIpIHsNCiAgICAgICAgICAgICAgaWYgKGUuY3RybEtleSA9PT0gdHJ1ZSkgew0KICAgICAgICAgICAgICAgIGlmICh0YXJnZXRFbGVtZW50LnRhZ05hbWUgPT09ICdJTlBVVCcpIHsNCiAgICAgICAgICAgICAgICAgIHRoaXMuc2V0T3B0aW9uQkdDb2xvckFuZENoZWNrZWQoZSkNCiAgICAgICAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgICAgICAgdGhpcy5zZXRPcHRpb25CR0NvbG9yQW5kQ2hlY2tlZChlKQ0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgfSBlbHNlIGlmIChlLnNoaWZ0S2V5ID09PSB0cnVlICYmIHRoaXMucHJvcGVydGllcy5WYWx1ZSAhPT0gJycpIHsNCiAgICAgICAgICAgICAgICBsZXQgc3RhcnRQb2ludCA9IDANCiAgICAgICAgICAgICAgICBsZXQgZW5kUG9pbnQgPSAwDQogICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0ZW1wUGF0aC5sZW5ndGg7IGkrKykgew0KICAgICAgICAgICAgICAgICAgY29uc3QgZWxlID0gdGVtcFBhdGhbaV0gYXMgSFRNTERpdkVsZW1lbnQNCiAgICAgICAgICAgICAgICAgIGlmIChlbGUuY2xhc3NOYW1lID09PSAndGFibGUtYm9keScpIHsNCiAgICAgICAgICAgICAgICAgICAgLy8gZXh0ZW5kIHBvaW50cyBzdGFydCBhbmQgZW5kDQogICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgZWxlLmNoaWxkTm9kZXMubGVuZ3RoOyBqKyspIHsNCiAgICAgICAgICAgICAgICAgICAgICBjb25zdCBjZCA9IGVsZS5jaGlsZE5vZGVzW2pdIGFzIEhUTUxEaXZFbGVtZW50DQogICAgICAgICAgICAgICAgICAgICAgaWYgKGNkLmlubmVyVGV4dCA9PT0gdGhpcy5wcm9wZXJ0aWVzLlZhbHVlKSB7DQogICAgICAgICAgICAgICAgICAgICAgICBzdGFydFBvaW50ID0gaiArIDENCiAgICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgICAgaWYgKGNkLmlubmVyVGV4dCA9PT0gdGFyZ2V0RWxlbWVudC5pbm5lclRleHQpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIGVuZFBvaW50ID0gag0KICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICAvLyB1cHdhcmQgc2VsZWN0aW9uIHN0YXJ0IGFuZCBlbmQgc3dhcA0KICAgICAgICAgICAgICAgICAgICBpZiAoc3RhcnRQb2ludCA+IGVuZFBvaW50KSB7DQogICAgICAgICAgICAgICAgICAgICAgbGV0IHRlbXAgPSBzdGFydFBvaW50DQogICAgICAgICAgICAgICAgICAgICAgc3RhcnRQb2ludCA9IGVuZFBvaW50DQogICAgICAgICAgICAgICAgICAgICAgZW5kUG9pbnQgPSB0ZW1wDQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgLy8gc2V0dGluZyBzZWxlY3Rpb24NCiAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgayA9IHN0YXJ0UG9pbnQ7IGsgPD0gZW5kUG9pbnQ7IGsrKykgew0KICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IG5vZGUgPSBlbGUuY2hpbGROb2Rlc1trXSBhcyBIVE1MRGl2RWxlbWVudA0KICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHRlbXBOb2RlID0gbm9kZS5jaGlsZE5vZGVzWzBdDQogICAgICAgICAgICAgICAgICAgICAgICAuY2hpbGROb2Rlc1swXSBhcyBIVE1MSW5wdXRFbGVtZW50DQogICAgICAgICAgICAgICAgICAgICAgbm9kZS5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSAncmdiKDU5LCAxMjIsIDIzMSknDQogICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMucHJvcGVydGllcy5MaXN0U3R5bGUgPT09IDEgJiYgIXRlbXBOb2RlLmNoZWNrZWQpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIC8vIHRlbXBOb2RlLmNoZWNrZWQgPSAhdGVtcE5vZGUuY2hlY2tlZA0KICAgICAgICAgICAgICAgICAgICAgICAgdGVtcE5vZGUuY2hlY2tlZCA9IHRydWUNCiAgICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgYnJlYWsNCiAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgIH0NCg0KICAgICAgICAgICAgICBpZiAodGhpcy5wcm9wZXJ0aWVzLkNvbnRyb2xTb3VyY2UgIT09ICcnKSB7DQogICAgICAgICAgICAgICAgdGhpcy51cGRhdGVEYXRhTW9kZWwoew0KICAgICAgICAgICAgICAgICAgcHJvcGVydHlOYW1lOiAnVGV4dCcsDQogICAgICAgICAgICAgICAgICB2YWx1ZTogdGhpcy5zZWxlY3Rpb25EYXRhWzBdDQogICAgICAgICAgICAgICAgfSkNCiAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZURhdGFNb2RlbCh7DQogICAgICAgICAgICAgICAgICBwcm9wZXJ0eU5hbWU6ICdWYWx1ZScsDQogICAgICAgICAgICAgICAgICB2YWx1ZTogdGhpcy5zZWxlY3Rpb25EYXRhWzBdDQogICAgICAgICAgICAgICAgfSkNCiAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICB0aGlzLmNsZWFyT3B0aW9uQkdDb2xvckFuZENoZWNrZWQoZSkNCiAgICAgICAgICAgICAgdGhpcy5zZXRPcHRpb25CR0NvbG9yQW5kQ2hlY2tlZChlKQ0KICAgICAgICAgICAgfQ0KICAgICAgICAgIH0NCiAgICAgICAgICBpZiAodGhpcy5wcm9wZXJ0aWVzLk11bHRpU2VsZWN0ID09PSAwKSB7DQogICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuZXh0cmFEYXRhcy5Sb3dTb3VyY2VEYXRhIS5sZW5ndGg7IGkrKykgew0KICAgICAgICAgICAgICBpZiAodGhpcy5saXN0U3R5bGVSZWZbaV0uc3R5bGUuYmFja2dyb3VuZENvbG9yICE9PSAnJykgew0KICAgICAgICAgICAgICAgIGNvbnN0IHRleHQgPSB0aGlzLmV4dHJhRGF0YXMuUm93U291cmNlRGF0YSFbaV1bMF0NCiAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZURhdGFNb2RlbCh7IHByb3BlcnR5TmFtZTogJ1RleHQnLCB2YWx1ZTogdGV4dCB9KQ0KICAgICAgICAgICAgICAgIGNvbnN0IHggPSB0aGlzLmV4dHJhRGF0YXMuUm93U291cmNlRGF0YSFbaV1bdGhpcy5wcm9wZXJ0aWVzLkJvdW5kQ29sdW1uISAtIDFdDQogICAgICAgICAgICAgICAgdGhpcy51cGRhdGVEYXRhTW9kZWwoeyBwcm9wZXJ0eU5hbWU6ICdWYWx1ZScsIHZhbHVlOiB4IH0pDQogICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH0NCiAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgdGhpcy51cGRhdGVEYXRhTW9kZWwoeyBwcm9wZXJ0eU5hbWU6ICdUZXh0JywgdmFsdWU6ICcnIH0pDQogICAgICAgICAgICB0aGlzLnVwZGF0ZURhdGFNb2RlbCh7IHByb3BlcnR5TmFtZTogJ1ZhbHVlJywgdmFsdWU6ICcnIH0pDQogICAgICAgICAgfQ0KICAgICAgICAgIHRoaXMuZ2V0U2VsZWN0ZWRTdHlsZSgpDQogICAgICAgIH0NCiAgICAgIH0NCiAgICB9DQogIH0NCiAgY2xlYXJNYXRjaEVudHJ5ICgpIHsNCiAgICB0aGlzLnVwZGF0ZURhdGFNb2RlbEV4dHJhRGF0YSh7IHByb3BlcnR5TmFtZTogJ01hdGNoRGF0YScsIHZhbHVlOiAnJyB9KQ0KICB9DQoNCiAgZ2V0U2VsZWN0ZWRTdHlsZSAoKSB7DQogICAgaWYgKHRoaXMubGlzdFN0eWxlUmVmKSB7DQogICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMubGlzdFN0eWxlUmVmLmxlbmd0aDsgaSsrKSB7DQogICAgICAgIGlmICh0aGlzLmxpc3RTdHlsZVJlZltpXS5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPT09ICdyZ2IoNTksIDEyMiwgMjMxKScpIHsNCiAgICAgICAgICBmb3IgKGxldCBqID0gMDsgaiA8IHRoaXMubGlzdFN0eWxlUmVmW2ldLmNoaWxkcmVuLmxlbmd0aDsgaisrKSB7DQogICAgICAgICAgICBjb25zdCBhID0gdGhpcy5saXN0U3R5bGVSZWZbaV0uY2hpbGRyZW5bal0gYXMgSFRNTERpdkVsZW1lbnQNCiAgICAgICAgICAgIGEuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gJ3JnYig1OSwgMTIyLCAyMzEpJw0KICAgICAgICAgIH0NCiAgICAgICAgfSBlbHNlIGlmICh0aGlzLmxpc3RTdHlsZVJlZltpXS5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPT09ICcnKSB7DQogICAgICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCB0aGlzLmxpc3RTdHlsZVJlZltpXS5jaGlsZHJlbi5sZW5ndGg7IGorKykgew0KICAgICAgICAgICAgY29uc3QgYSA9IHRoaXMubGlzdFN0eWxlUmVmW2ldLmNoaWxkcmVuW2pdIGFzIEhUTUxEaXZFbGVtZW50DQogICAgICAgICAgICBhLnN0eWxlLmJhY2tncm91bmRDb2xvciA9ICcnDQogICAgICAgICAgfQ0KICAgICAgICB9DQogICAgICB9DQogICAgfQ0KICB9DQogIC8qKg0KICAgKiBAZGVzY3JpcHRpb24gc3R5bGUgb2JqZWN0IGlzIHBhc3NlZCB0byA6c3R5bGUgYXR0cmlidXRlIGluIGRpdiB0YWcNCiAgICogZHluYW1pY2FsbHkgY2hhbmdpbmcgdGhlIHN0eWxlcyBvZiB0aGUgY29tcG9uZW50IGJhc2VkIG9uIHByb3BlcnRpZXMNCiAgICogQGZ1bmN0aW9uIGxpc3RTdHlsZU9iag0KICAgKi8NCiAgcHJvdGVjdGVkIGdldCBsaXN0U3R5bGVPYmogKCk6IFBhcnRpYWw8Q1NTU3R5bGVEZWNsYXJhdGlvbj4gew0KICAgIGNvbnN0IGNvbnRyb2xQcm9wID0gdGhpcy5wcm9wZXJ0aWVzDQogICAgbGV0IGRpc3BsYXkgPSAnJw0KICAgIGlmICh0aGlzLmlzUnVuTW9kZSkgew0KICAgICAgZGlzcGxheSA9IGNvbnRyb2xQcm9wLlZpc2libGUgPyAnaW5saW5lLWJsb2NrJyA6ICdub25lJw0KICAgIH0gZWxzZSB7DQogICAgICBkaXNwbGF5ID0gJ2lubGluZS1ibG9jaycNCiAgICB9DQogICAgcmV0dXJuIHsNCiAgICAgIGJhY2tncm91bmRDb2xvcjogY29udHJvbFByb3AuQmFja0NvbG9yLA0KICAgICAgYm9yZGVyQ29sb3I6IGNvbnRyb2xQcm9wLkJvcmRlclN0eWxlID09PSAxID8gY29udHJvbFByb3AuQm9yZGVyQ29sb3IgOiAnJywNCiAgICAgIGN1cnNvcjoNCiAgICAgICAgY29udHJvbFByb3AuTW91c2VQb2ludGVyICE9PSAwIHx8IGNvbnRyb2xQcm9wLk1vdXNlSWNvbiAhPT0gJycNCiAgICAgICAgICA/IHRoaXMuZ2V0TW91c2VDdXJzb3JEYXRhDQogICAgICAgICAgOiAnZGVmYXVsdCcsDQogICAgICBib3JkZXJMZWZ0Og0KICAgICAgICBjb250cm9sUHJvcC5Cb3JkZXJTdHlsZSA9PT0gMQ0KICAgICAgICAgID8gJzFweCBzb2xpZCAnICsgY29udHJvbFByb3AuQm9yZGVyQ29sb3INCiAgICAgICAgICA6IGNvbnRyb2xQcm9wLlNwZWNpYWxFZmZlY3QgPT09IDINCiAgICAgICAgICAgID8gJzJweCBzb2xpZCBncmF5Jw0KICAgICAgICAgICAgOiBjb250cm9sUHJvcC5TcGVjaWFsRWZmZWN0ID09PSAzDQogICAgICAgICAgICAgID8gJzEuNXB4IHNvbGlkIGdyYXknDQogICAgICAgICAgICAgIDogY29udHJvbFByb3AuU3BlY2lhbEVmZmVjdCA9PT0gNA0KICAgICAgICAgICAgICAgID8gJzAuNXB4IHNvbGlkIGdyYXknDQogICAgICAgICAgICAgICAgOiAnJywNCiAgICAgIGJvcmRlclJpZ2h0Og0KICAgICAgICBjb250cm9sUHJvcC5Cb3JkZXJTdHlsZSA9PT0gMQ0KICAgICAgICAgID8gJzFweCBzb2xpZCAnICsgY29udHJvbFByb3AuQm9yZGVyQ29sb3INCiAgICAgICAgICA6IGNvbnRyb2xQcm9wLlNwZWNpYWxFZmZlY3QgPT09IDENCiAgICAgICAgICAgID8gJzJweCBzb2xpZCBncmF5Jw0KICAgICAgICAgICAgOiBjb250cm9sUHJvcC5TcGVjaWFsRWZmZWN0ID09PSA0DQogICAgICAgICAgICAgID8gJzEuNXB4IHNvbGlkIGdyYXknDQogICAgICAgICAgICAgIDogY29udHJvbFByb3AuU3BlY2lhbEVmZmVjdCA9PT0gMw0KICAgICAgICAgICAgICAgID8gJzAuNXB4IHNvbGlkIGdyYXknDQogICAgICAgICAgICAgICAgOiAnJywNCiAgICAgIGJvcmRlclRvcDoNCiAgICAgICAgY29udHJvbFByb3AuQm9yZGVyU3R5bGUgPT09IDENCiAgICAgICAgICA/ICcxcHggc29saWQgJyArIGNvbnRyb2xQcm9wLkJvcmRlckNvbG9yDQogICAgICAgICAgOiBjb250cm9sUHJvcC5TcGVjaWFsRWZmZWN0ID09PSAyDQogICAgICAgICAgICA/ICcycHggc29saWQgZ3JheScNCiAgICAgICAgICAgIDogY29udHJvbFByb3AuU3BlY2lhbEVmZmVjdCA9PT0gMw0KICAgICAgICAgICAgICA/ICcxLjVweCBzb2xpZCBncmF5Jw0KICAgICAgICAgICAgICA6IGNvbnRyb2xQcm9wLlNwZWNpYWxFZmZlY3QgPT09IDQNCiAgICAgICAgICAgICAgICA/ICcwLjVweCBzb2xpZCBncmF5Jw0KICAgICAgICAgICAgICAgIDogJycsDQogICAgICBib3JkZXJCb3R0b206DQogICAgICAgIGNvbnRyb2xQcm9wLkJvcmRlclN0eWxlID09PSAxDQogICAgICAgICAgPyAnMXB4IHNvbGlkICcgKyBjb250cm9sUHJvcC5Cb3JkZXJDb2xvcg0KICAgICAgICAgIDogY29udHJvbFByb3AuU3BlY2lhbEVmZmVjdCA9PT0gMQ0KICAgICAgICAgICAgPyAnMnB4IHNvbGlkIGdyYXknDQogICAgICAgICAgICA6IGNvbnRyb2xQcm9wLlNwZWNpYWxFZmZlY3QgPT09IDQNCiAgICAgICAgICAgICAgPyAnMS41cHggc29saWQgZ3JheScNCiAgICAgICAgICAgICAgOiBjb250cm9sUHJvcC5TcGVjaWFsRWZmZWN0ID09PSAzDQogICAgICAgICAgICAgICAgPyAnMC41cHggc29saWQgZ3JheScNCiAgICAgICAgICAgICAgICA6ICcnLA0KICAgICAgbGVmdDogYCR7Y29udHJvbFByb3AuTGVmdH1weGAsDQogICAgICB3aWR0aDogYCR7Y29udHJvbFByb3AuV2lkdGh9cHhgLA0KICAgICAgaGVpZ2h0OiBgJHtjb250cm9sUHJvcC5IZWlnaHR9cHhgLA0KICAgICAgdG9wOiBgJHtjb250cm9sUHJvcC5Ub3B9cHhgLA0KICAgICAgZGlzcGxheTogZGlzcGxheSwNCiAgICAgIG92ZXJmbG93OiBjb250cm9sUHJvcC5Sb3dTb3VyY2UgPT09ICcnID8gJ2hpZGRlbicgOiB0aGlzLiRlbCAmJiB0aGlzLiRlbC5zY3JvbGxXaWR0aCA+IHRoaXMucHJvcGVydGllcy5XaWR0aCEgKyAzID8gJ2F1dG8nIDogJ2hpZGRlbicNCiAgICB9DQogIH0NCg0KICBnZXQgc3R5bGVDb2x1bW5PYmogKCkgew0KICAgIGNvbnN0IGNvbnRyb2xQcm9wID0gdGhpcy5wcm9wZXJ0aWVzDQogICAgY29uc3QgZm9udDogZm9udCA9IGNvbnRyb2xQcm9wLkZvbnQNCiAgICAgID8gY29udHJvbFByb3AuRm9udA0KICAgICAgOiB7DQogICAgICAgIEZvbnROYW1lOiAnQXJpYWwnLA0KICAgICAgICBGb250U2l6ZTogMTAsDQogICAgICAgIEZvbnRJdGFsaWM6IHRydWUsDQogICAgICAgIEZvbnRCb2xkOiB0cnVlLA0KICAgICAgICBGb250VW5kZXJsaW5lOiB0cnVlLA0KICAgICAgICBGb250U3RyaWtldGhyb3VnaDogdHJ1ZQ0KICAgICAgfQ0KICAgIHJldHVybiB7DQogICAgICBmb250RmFtaWx5OiBmb250LkZvbnRTdHlsZSEgIT09ICcnID8gdGhpcy5zZXRGb250U3R5bGUgOiBmb250LkZvbnROYW1lISwNCiAgICAgIGZvbnRTaXplOiBgJHtmb250LkZvbnRTaXplfXB4YCwNCiAgICAgIGZvbnRTdHlsZTogZm9udC5Gb250SXRhbGljIHx8IHRoaXMuaXNJdGFsaWMgPyAnaXRhbGljJyA6ICcnLA0KICAgICAgdGV4dERlY29yYXRpb246DQogICAgICAgIGZvbnQuRm9udFN0cmlrZXRocm91Z2ggPT09IHRydWUgJiYgZm9udC5Gb250VW5kZXJsaW5lID09PSB0cnVlDQogICAgICAgICAgPyAndW5kZXJsaW5lIGxpbmUtdGhyb3VnaCcNCiAgICAgICAgICA6IGZvbnQuRm9udFVuZGVybGluZQ0KICAgICAgICAgICAgPyAndW5kZXJsaW5lJw0KICAgICAgICAgICAgOiBmb250LkZvbnRTdHJpa2V0aHJvdWdoDQogICAgICAgICAgICAgID8gJ2xpbmUtdGhyb3VnaCcNCiAgICAgICAgICAgICAgOiAnJywNCiAgICAgIHRleHREZWNvcmF0aW9uU2tpcEluazogJ25vbmUnLA0KICAgICAgZm9udFdlaWdodDogZm9udC5Gb250Qm9sZA0KICAgICAgICA/ICdib2xkJw0KICAgICAgICA6IGZvbnQuRm9udFN0eWxlICE9PSAnJw0KICAgICAgICAgID8gdGhpcy50ZW1wV2VpZ2h0DQogICAgICAgICAgOiAnJywNCiAgICAgIGZvbnRTdHJldGNoOiBmb250LkZvbnRTdHlsZSAhPT0gJycgPyB0aGlzLnRlbXBTdHJldGNoIDogJycNCg0KICAgIH0NCiAgfQ0KICAvKioNCiAgICogQGRlc2NyaXB0aW9uIHN0eWxlIG9iamVjdCBpcyBwYXNzZWQgdG8gOnN0eWxlIGF0dHJpYnV0ZSBpbiB0YWJsZSB0YWcNCiAgICogZHluYW1pY2FsbHkgY2hhbmdpbmcgdGhlIHN0eWxlcyBvZiB0aGUgY29tcG9uZW50IGJhc2VkIG9uIHByb3BlcnRpZXMNCiAgICogQGZ1bmN0aW9uIHRhYmxlU3R5bGVPYmoNCiAgICovDQogIHByb3RlY3RlZCBnZXQgdGFibGVTdHlsZU9iaiAoKSB7DQogICAgY29uc3QgY29udHJvbFByb3AgPSB0aGlzLnByb3BlcnRpZXMNCiAgICBjb25zdCBmb250OiBmb250ID0gY29udHJvbFByb3AuRm9udA0KICAgICAgPyBjb250cm9sUHJvcC5Gb250DQogICAgICA6IHsNCiAgICAgICAgRm9udE5hbWU6ICdBcmlhbCcsDQogICAgICAgIEZvbnRTaXplOiAxMCwNCiAgICAgICAgRm9udEl0YWxpYzogdHJ1ZSwNCiAgICAgICAgRm9udEJvbGQ6IHRydWUsDQogICAgICAgIEZvbnRVbmRlcmxpbmU6IHRydWUsDQogICAgICAgIEZvbnRTdHJpa2V0aHJvdWdoOiB0cnVlDQogICAgICB9DQogICAgcmV0dXJuIHsNCiAgICAgIGJvcmRlckNvbGxhcHNlOiAnY29sbGFwc2UnLA0KICAgICAgdGFibGVMYXlvdXQ6ICdmaXhlZCcsDQogICAgICBjb2xvcjogY29udHJvbFByb3AuRm9yZUNvbG9yLA0KICAgICAgZm9udEZhbWlseTogZm9udC5Gb250U3R5bGUhICE9PSAnJyA/IHRoaXMuc2V0Rm9udFN0eWxlIDogZm9udC5Gb250TmFtZSEsDQogICAgICBmb250U2l6ZTogYCR7Zm9udC5Gb250U2l6ZX1weGAsDQogICAgICBmb250U3R5bGU6IGZvbnQuRm9udEl0YWxpYyB8fCB0aGlzLmlzSXRhbGljID8gJ2l0YWxpYycgOiAnJywNCiAgICAgIHRleHREZWNvcmF0aW9uOg0KICAgICAgICBmb250LkZvbnRTdHJpa2V0aHJvdWdoID09PSB0cnVlICYmIGZvbnQuRm9udFVuZGVybGluZSA9PT0gdHJ1ZQ0KICAgICAgICAgID8gJ3VuZGVybGluZSBsaW5lLXRocm91Z2gnDQogICAgICAgICAgOiBmb250LkZvbnRVbmRlcmxpbmUNCiAgICAgICAgICAgID8gJ3VuZGVybGluZScNCiAgICAgICAgICAgIDogZm9udC5Gb250U3RyaWtldGhyb3VnaA0KICAgICAgICAgICAgICA/ICdsaW5lLXRocm91Z2gnDQogICAgICAgICAgICAgIDogJycsDQogICAgICB0ZXh0RGVjb3JhdGlvblNraXBJbms6ICdub25lJywNCiAgICAgIGZvbnRXZWlnaHQ6IGZvbnQuRm9udEJvbGQNCiAgICAgICAgPyAnYm9sZCcNCiAgICAgICAgOiBmb250LkZvbnRTdHlsZSAhPT0gJycNCiAgICAgICAgICA/IHRoaXMudGVtcFdlaWdodA0KICAgICAgICAgIDogJycsDQogICAgICBmb250U3RyZXRjaDogZm9udC5Gb250U3R5bGUgIT09ICcnID8gdGhpcy50ZW1wU3RyZXRjaCA6ICcnLA0KICAgICAgd2lkdGg6ICcxMDAlJw0KICAgICAgLy8gZGlzcGxheTogdGhpcy5wcm9wZXJ0aWVzLkNvbHVtbkNvdW50ID09PSAwID8gJ25vbmUnIDogJycNCiAgICB9DQogIH0NCg0KICAvKioNCiAgICogQGRlc2NyaXB0aW9uIHN0eWxlIG9iamVjdCBpcyBwYXNzZWQgdG8gOnN0eWxlIGF0dHJpYnV0ZSBpbiB0ZCB0YWcNCiAgICogZHluYW1pY2FsbHkgY2hhbmdpbmcgdGhlIHN0eWxlcyBvZiB0aGUgY29tcG9uZW50IGJhc2VkIG9uIHByb3BlcnRpZXMNCiAgICogQGZ1bmN0aW9uIHRkU3R5bGVPYmoNCiAgICovDQogIHByb3RlY3RlZCBnZXQgdGRTdHlsZU9iaiAoKTogUGFydGlhbDxDU1NTdHlsZURlY2xhcmF0aW9uPiB7DQogICAgY29uc3QgY29udHJvbFByb3AgPSB0aGlzLnByb3BlcnRpZXMNCiAgICByZXR1cm4gew0KICAgICAgdGV4dEFsaWduOg0KICAgICAgICBjb250cm9sUHJvcC5UZXh0QWxpZ24gPT09IDANCiAgICAgICAgICA/ICdsZWZ0Jw0KICAgICAgICAgIDogY29udHJvbFByb3AuVGV4dEFsaWduID09PSAyDQogICAgICAgICAgICA/ICdyaWdodCcNCiAgICAgICAgICAgIDogJ2NlbnRlcicNCiAgICB9DQogIH0NCg0KICAvKioNCiAgICogQGRlc2NyaXB0aW9uIHdhdGNoZXMgY2hhbmdlcyBpbiBwcm9wZXJ0aWVzIGZvciBWYWx1ZQ0KICAgKiBAZnVuY3Rpb24gVmFsdWVEYXRhDQogICAqIEBwYXJhbSBvbGRWYWwgcHJldmlvdXMgcHJvcGVydGllcyBkYXRhDQogICAqIEBwYXJhbSBuZXdWYWwgIG5ldy9jaGFuZ2VkIHByb3BlcnRpZXMgZGF0YQ0KICAgKi8NCiAgQFdhdGNoKCdwcm9wZXJ0aWVzLlZhbHVlJywgeyBkZWVwOiB0cnVlIH0pDQogIFZhbHVlRGF0YSAobmV3VmFsOiBzdHJpbmcsIG9sZFZhbDogc3RyaW5nKSB7DQogICAgaWYgKHRoaXMucHJvcGVydGllcy5Sb3dTb3VyY2UgIT09ICcnKSB7DQogICAgICBpZiAobmV3VmFsICE9PSAnJyAmJiB0aGlzLnByb3BlcnRpZXMuTXVsdGlTZWxlY3QgPT09IDApIHsNCiAgICAgICAgaWYgKA0KICAgICAgICB0aGlzLnByb3BlcnRpZXMuQm91bmRDb2x1bW4hID4gMCAmJg0KICAgICAgICB0aGlzLnByb3BlcnRpZXMuQm91bmRDb2x1bW4hIDwgdGhpcy5leHRyYURhdGFzLlJvd1NvdXJjZURhdGEhLmxlbmd0aA0KICAgICAgICApIHsNCiAgICAgICAgICBsZXQgdGVtcERhdGEgPSBbLi4udGhpcy5leHRyYURhdGFzLlJvd1NvdXJjZURhdGEhXQ0KICAgICAgICAgIGxldCB0ZW1wQm91bmRDb2x1bW4gPSB0aGlzLnByb3BlcnRpZXMuQm91bmRDb2x1bW4hIC0gMQ0KICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5leHRyYURhdGFzLlJvd1NvdXJjZURhdGEhLmxlbmd0aDsgaSsrKSB7DQogICAgICAgICAgICBpZiAodGVtcERhdGFbaV1bdGVtcEJvdW5kQ29sdW1uXSA9PT0gbmV3VmFsKSB7DQogICAgICAgICAgICAgIGNvbnN0IHggPSB0aGlzLmxpc3RTdHlsZVJlZltpXSBhcyBIVE1MSW5wdXRFbGVtZW50DQogICAgICAgICAgICAgIHguY2hlY2tlZCA9IHRydWUNCiAgICAgICAgICAgIH0gaWYgKHRlbXBEYXRhW2ldW3RlbXBCb3VuZENvbHVtbl0gIT09IG5ld1ZhbCkgew0KICAgICAgICAgICAgICBjb25zdCB4ID0gdGhpcy5saXN0U3R5bGVSZWZbaV0gYXMgSFRNTElucHV0RWxlbWVudA0KICAgICAgICAgICAgICB4LmNoZWNrZWQgPSBmYWxzZQ0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgY29uc3QgeCA9IHRoaXMubGlzdFN0eWxlUmVmW2ldIGFzIEhUTUxJbnB1dEVsZW1lbnQNCiAgICAgICAgICAgIGlmICh4LmNoZWNrZWQpIHsNCiAgICAgICAgICAgICAgdGhpcy5saXN0U3R5bGVSZWZbaV0uc3R5bGUuYmFja2dyb3VuZENvbG9yID0gJ3JnYig1OSwgMTIyLCAyMzEpJw0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgaWYgKCF4LmNoZWNrZWQpIHsNCiAgICAgICAgICAgICAgdGhpcy5saXN0U3R5bGVSZWZbaV0uc3R5bGUuYmFja2dyb3VuZENvbG9yID0gJycNCiAgICAgICAgICAgICAgaWYgKHRoaXMubGlzdFN0eWxlUmVmW2ldICYmIHRoaXMubGlzdFN0eWxlUmVmW2ldLmNoaWxkcmVuLmxlbmd0aCA+IDApIHsNCiAgICAgICAgICAgICAgICBjb25zdCB5ID0gdGhpcy5saXN0U3R5bGVSZWZbaV0gYXMgSFRNTERpdkVsZW1lbnQNCiAgICAgICAgICAgICAgICBmb3IgKGxldCBqID0gMDsgaiA8IHkuY2hpbGRyZW4ubGVuZ3RoOyBqKyspIHsNCiAgICAgICAgICAgICAgICAgIGNvbnN0IHogPSB0aGlzLmxpc3RTdHlsZVJlZltpXS5jaGlsZHJlbltqXSBhcyBIVE1MRGl2RWxlbWVudA0KICAgICAgICAgICAgICAgICAgei5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSAnJw0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfQ0KICAgICAgICAgIH0NCiAgICAgICAgICBpZiAodGVtcERhdGEhWzBdW3RoaXMucHJvcGVydGllcy5Cb3VuZENvbHVtbiEgLSAxXSA9PT0gbmV3VmFsKSB7DQogICAgICAgICAgICB0aGlzLnVwZGF0ZURhdGFNb2RlbCh7IHByb3BlcnR5TmFtZTogJ1ZhbHVlJywgdmFsdWU6IG5ld1ZhbCB9KQ0KICAgICAgICAgICAgdGhpcy51cGRhdGVEYXRhTW9kZWwoeyBwcm9wZXJ0eU5hbWU6ICdUZXh0JywgdmFsdWU6IG5ld1ZhbCB9KQ0KICAgICAgICAgIH0NCiAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkDQogICAgICAgIH0NCiAgICAgIH0gZWxzZSB7DQogICAgICAgIHRoaXMudXBkYXRlRGF0YU1vZGVsKHsgcHJvcGVydHlOYW1lOiAnVmFsdWUnLCB2YWx1ZTogJycgfSkNCiAgICAgIH0NCiAgICB9IGVsc2Ugew0KICAgICAgdGhpcy51cGRhdGVEYXRhTW9kZWwoeyBwcm9wZXJ0eU5hbWU6ICdWYWx1ZScsIHZhbHVlOiAnJyB9KQ0KICAgIH0NCiAgfQ0KDQogIC8qKg0KICAgKiBAZGVzY3JpcHRpb24gbW91bnRlZCBpbml0aWFsaXplcyB0aGUgdmFsdWVzIHdoaWNoIGFyZSByZXF1aXJlZCBmb3IgdGhlIGNvbXBvbmVudA0KICAgKi8NCiAgbW91bnRlZCAoKSB7DQogICAgdGhpcy4kZWwuZm9jdXMoKQ0KICAgIHZhciBldmVudCA9IG5ldyBNb3VzZUV2ZW50KCdtb3VzZWRvd24uc3RvcCcpDQogICAgaWYgKHRoaXMucHJvcGVydGllcy5Sb3dTb3VyY2UgIT09ICcnKSB7DQogICAgICBjb25zdCBpbml0aWFsUm93U291cmNlRGF0YSA9IHRoaXMuZXh0cmFEYXRhcy5Sb3dTb3VyY2VEYXRhIQ0KICAgICAgdGhpcy51cGRhdGVEYXRhTW9kZWwoeyBwcm9wZXJ0eU5hbWU6ICdDb250cm9sU291cmNlJywgdmFsdWU6ICcnIH0pDQogICAgICBpZiAoaW5pdGlhbFJvd1NvdXJjZURhdGEgJiYgaW5pdGlhbFJvd1NvdXJjZURhdGEubGVuZ3RoID09PSAwKSB7DQogICAgICAgIHRoaXMudXBkYXRlRGF0YU1vZGVsKHsgcHJvcGVydHlOYW1lOiAnVG9wSW5kZXgnLCB2YWx1ZTogLTEgfSkNCiAgICAgIH0gZWxzZSB7DQogICAgICAgIHRoaXMudXBkYXRlRGF0YU1vZGVsKHsgcHJvcGVydHlOYW1lOiAnVG9wSW5kZXgnLCB2YWx1ZTogMCB9KQ0KICAgICAgfQ0KICAgIH0NCiAgfQ0KDQogIC8qKg0KICAgKiBAZGVzY3JpcHRpb24gd2F0Y2hlcyBjaGFuZ2VzIGluIHByb3BlcnRpZXMgZm9yIE11bHRpU2VsZWN0DQogICAqIEBmdW5jdGlvbiBtdWx0aVNlbGVjdENoZWNrDQogICAqIEBwYXJhbSBvbGRWYWwgcHJldmlvdXMgcHJvcGVydGllcyBkYXRhDQogICAqIEBwYXJhbSBuZXdWYWwgIG5ldy9jaGFuZ2VkIHByb3BlcnRpZXMgZGF0YQ0KICAgKi8NCiAgQFdhdGNoKCdwcm9wZXJ0aWVzLk11bHRpU2VsZWN0JywgeyBkZWVwOiB0cnVlIH0pDQogIG11bHRpU2VsZWN0Q2hlY2sgKG5ld1ZhbDogbnVtYmVyLCBvbGRWYWw6IG51bWJlcikgew0KICAgIGlmIChuZXdWYWwgPT09IDEgfHwgbmV3VmFsID09PSAyKSB7DQogICAgICB0aGlzLnVwZGF0ZURhdGFNb2RlbCh7IHByb3BlcnR5TmFtZTogJ1ZhbHVlJywgdmFsdWU6ICcnIH0pDQogICAgICB0aGlzLnVwZGF0ZURhdGFNb2RlbCh7IHByb3BlcnR5TmFtZTogJ1RleHQnLCB2YWx1ZTogJycgfSkNCiAgICB9DQogICAgaWYgKHRoaXMudGVtcExpc3RCb3hDb21ib0JveEV2ZW50KSB7DQogICAgICB0aGlzLmNsZWFyT3B0aW9uQkdDb2xvckFuZENoZWNrZWQodGhpcy50ZW1wTGlzdEJveENvbWJvQm94RXZlbnQpDQogICAgfQ0KICB9DQoNCiAgLyoqDQogICAqIEBkZXNjcmlwdGlvbiB3YXRjaGVzIGNoYW5nZXMgaW4gcHJvcGVydGllcyBmb3IgTGlzdFN0eWxlDQogICAqIEBmdW5jdGlvbiBsaXN0Q2hlY2sNCiAgICogQHBhcmFtIG9sZFZhbCBwcmV2aW91cyBwcm9wZXJ0aWVzIGRhdGENCiAgICogQHBhcmFtIG5ld1ZhbCAgbmV3L2NoYW5nZWQgcHJvcGVydGllcyBkYXRhDQogICAqLw0KICBAV2F0Y2goJ3Byb3BlcnRpZXMuTGlzdFN0eWxlJywgeyBkZWVwOiB0cnVlIH0pDQogIGxpc3RDaGVjayAobmV3VmFsOiBudW1iZXIsIG9sZFZhbDogbnVtYmVyKSB7DQogICAgdGhpcy5jbGVhck9wdGlvbkJHQ29sb3JBbmRDaGVja2VkKHRoaXMudGVtcExpc3RCb3hDb21ib0JveEV2ZW50KQ0KICB9DQoNCiAgQFdhdGNoKCdpc0VkaXRNb2RlJywgeyBkZWVwOiB0cnVlIH0pDQogIGlzRWRpdENoZWNrIChuZXdWYWw6IGJvb2xlYW4sIG9sZFZhbDogYm9vbGVhbikgew0KICAgIGlmICh0aGlzLmlzRWRpdE1vZGUpIHsNCiAgICAgIHRoaXMuJGVsLmNsaWNrKCkNCiAgICB9DQogIH0NCg0KICBmb3JNYXRjaEVudHJ5IChldmVudDogS2V5Ym9hcmRFdmVudCkgew0KICAgIGlmIChldmVudC5rZXkgPT09ICdFbnRlcicgJiYgZXZlbnQua2V5Q29kZSA9PT0gMTMpIHsNCiAgICAgIHRoaXMuc2V0Q29udGVudEVkaXRhYmxlKGV2ZW50LCB0cnVlKQ0KICAgIH0NCiAgICBpZiAodGhpcy5pc0VkaXRNb2RlKSB7DQogICAgICB0aGlzLmxpc3RTdHlsZVJlZlswXS5jbGljaygpDQogICAgfQ0KICAgIGlmIChldmVudC5rZXkgPT09ICdFc2NhcGUnICYmIGV2ZW50LmtleUNvZGUgPT09IDI3KSB7DQogICAgICB0aGlzLnJlbGVhc2VFZGl0TW9kZShldmVudCkNCiAgICB9DQogICAgaWYgKGV2ZW50LmtleSA9PT0gJ0RlbGV0ZScpIHsNCiAgICAgIHRoaXMuZGVsZXRlSXRlbShldmVudCkNCiAgICB9DQogIH0NCg0KICBAV2F0Y2goJ3Byb3BlcnRpZXMuUm93U291cmNlJykNCiAgcm93U291cmNlVmFsaWRhdGUgKCkgew0KICAgIGlmICh0aGlzLnByb3BlcnRpZXMuUm93U291cmNlICE9PSAnJykgew0KICAgICAgVnVlLm5leHRUaWNrKCgpID0+IHsNCiAgICAgICAgdGhpcy51cGRhdGVDb2x1bW5zKCkNCiAgICAgIH0pDQogICAgICBjb25zdCBpbml0aWFsUm93U291cmNlRGF0YSA9IHRoaXMuZXh0cmFEYXRhcy5Sb3dTb3VyY2VEYXRhIQ0KICAgICAgdGhpcy51cGRhdGVEYXRhTW9kZWwoeyBwcm9wZXJ0eU5hbWU6ICdDb250cm9sU291cmNlJywgdmFsdWU6ICcnIH0pDQogICAgICBpZiAoaW5pdGlhbFJvd1NvdXJjZURhdGEgJiYgaW5pdGlhbFJvd1NvdXJjZURhdGEubGVuZ3RoID09PSAwKSB7DQogICAgICAgIHRoaXMudXBkYXRlRGF0YU1vZGVsKHsgcHJvcGVydHlOYW1lOiAnVG9wSW5kZXgnLCB2YWx1ZTogLTEgfSkNCiAgICAgIH0gZWxzZSB7DQogICAgICAgIHRoaXMudXBkYXRlRGF0YU1vZGVsKHsgcHJvcGVydHlOYW1lOiAnVG9wSW5kZXgnLCB2YWx1ZTogMCB9KQ0KICAgICAgfQ0KICAgIH0NCiAgfQ0KDQogIEBXYXRjaCgncHJvcGVydGllcy5Db250cm9sU291cmNlJykNCiAgY29udHJvbFNvdXJjZVVwZGF0ZSAoKSB7DQogICAgaWYgKHRoaXMucHJvcGVydGllcy5Db250cm9sU291cmNlICE9PSAnJykgew0KICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLmV4dHJhRGF0YXMuUm93U291cmNlRGF0YSEubGVuZ3RoOyBpKyspIHsNCiAgICAgICAgdGhpcy5saXN0U3R5bGVSZWZbaV0uc3R5bGUuYmFja2dyb3VuZENvbG9yID0gJycNCiAgICAgICAgaWYgKA0KICAgICAgICAgIHRoaXMuZXh0cmFEYXRhcy5Sb3dTb3VyY2VEYXRhIVtpXVt0aGlzLnByb3BlcnRpZXMuQm91bmRDb2x1bW4hIC0gMV0gPT09IHRoaXMuZXh0cmFEYXRhcy5Db250cm9sU291cmNlVmFsdWUhDQogICAgICAgICkgew0KICAgICAgICAgIGNvbnN0IGxpc3RSb3cgPSB0aGlzLmxpc3RTdHlsZVJlZltpXQ0KICAgICAgICAgIGxpc3RSb3cuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gJ3JnYig1OSwgMTIyLCAyMzEpJw0KICAgICAgICB9DQogICAgICB9DQogICAgfQ0KICB9DQogIHJlbGVhc2VFZGl0TW9kZSAoZXZlbnQ6IEtleWJvYXJkRXZlbnQpIHsNCiAgICB0aGlzLiRlbC5mb2N1cygpDQogICAgdGhpcy5zZXRDb250ZW50RWRpdGFibGUoZXZlbnQsIGZhbHNlKQ0KICB9DQogIGV2ZW50U3RvcHBlcnMgKCkgew0KICAgIGNvbnN0IGV2ZW50U3RvcCA9IChldmVudDogRXZlbnQpID0+IGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpDQogICAgcmV0dXJuIHRoaXMuaXNFZGl0TW9kZSA9PT0gZmFsc2UNCiAgICAgID8gbnVsbA0KICAgICAgOiB7DQogICAgICAgIGtleWRvd246IGV2ZW50U3RvcA0KICAgICAgfQ0KICB9DQogIGxpc3RCb3hDbGljayAoZTogTW91c2VFdmVudCkgew0KICAgIGlmICh0aGlzLmxpc3RTdHlsZU91dGVyUmVmICYmICF0aGlzLmlzRWRpdE1vZGUpIHsNCiAgICAgIHRoaXMubGlzdFN0eWxlT3V0ZXJSZWYuc2Nyb2xsTGVmdCA9IC0xDQogICAgfQ0KICAgIGlmICh0aGlzLnRvb2xCb3hTZWxlY3RDb250cm9sID09PSAnU2VsZWN0Jykgew0KICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKQ0KICAgICAgdGhpcy5zZWxlY3RlZEl0ZW0oZSkNCiAgICAgIGlmICghdGhpcy5pc0FjdGl2YXRlZCkgew0KICAgICAgICBFdmVudEJ1cy4kZW1pdCgnZm9jdXNVc2VyRm9ybScpDQogICAgICB9DQogICAgfQ0KICB9DQogIHN0b3BNb3VzZWRvd24gKGV2ZW50OiBNb3VzZUV2ZW50KSB7DQogICAgaWYgKHRoaXMudG9vbEJveFNlbGVjdENvbnRyb2wgPT09ICdTZWxlY3QnKSB7DQogICAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKQ0KICAgIH0NCiAgfQ0KfQ0K"},{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAiHA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"index.vue","sourceRoot":"src/FormDesigner/components/atoms/FDListBox","sourcesContent":["<template>\r\n  <div\r\n    class=\"listStyle\"\r\n    ref=\"listStyleOuterRef\"\r\n    :style=\"listStyleObj\"\r\n    :title=\"properties.ControlTipText\"\r\n    @click=\"listBoxClick\"\r\n    @mousedown=\"controlEditMode\"\r\n    :tabindex=\"properties.TabIndex\"\r\n    @keydown=\"forMatchEntry\"\r\n    v-on=\"eventStoppers()\"\r\n    @keydown.esc=\"setContentEditable($event, false)\"\r\n  >\r\n    <div class=\"table-style\" :style=\"tableStyleObj\" ref=\"listBoxTableRef\" v-if=\"properties.RowSource !== ''\">\r\n      <div v-if=\"properties.ColumnHeads === true\" class=\"theadClass\">\r\n        <div class=\"thead\" :style=\"colHeadsStyle\">\r\n          <template\r\n            :style=\"tdStyleObj\"\r\n            v-if=\"properties.ListStyle === 1\"\r\n            class=\"tdClass\"\r\n          ></template>\r\n          <template v-for=\"(a, columnIndex) in extraDatas.ColumnHeadsValues\">\r\n            <div\r\n              v-if=\"\r\n                columnIndex < properties.ColumnCount ||\r\n                properties.ColumnCount === -1\r\n              \"\r\n              :key=\"columnIndex\"\r\n              :style=\"updateColumnHeads(columnIndex)\"\r\n              class=\"colHeadsClass\"\r\n            >\r\n              {{ a }}\r\n            </div>\r\n          </template>\r\n        </div>\r\n        <hr v-if=\"properties.ColumnHeads\" class=\"hrStyle\"/>\r\n      </div>\r\n      <div class=\"table-body\">\r\n        <div\r\n          :tabindex=\"index\"\r\n          class=\"tr\"\r\n          ref=\"listStyleRef\"\r\n          v-for=\"(item, index) of extraDatas.RowSourceData\"\r\n          :key=\"index\"\r\n          @mouseenter.stop=\"handleDrag\"\r\n          @keydown.esc=\"releaseEditMode\"\r\n          @blur.stop=\"clearMatchEntry\"\r\n          @keydown.stop=\"handleExtendArrowKeySelect\"\r\n          @mousedown=\"\r\n            isRunMode || isEditMode ? handleMousedown($event) : stopMousedown($event)\r\n          \"\r\n        >\r\n          <div\r\n            :style=\"tdStyleObj\"\r\n            class=\"tdClassIn\"\r\n            v-if=\"\r\n              (properties.ListStyle === 1 && properties.ColumnCount > 0) ||\r\n              (properties.ListStyle === 1 && properties.ColumnCount === -1)\r\n            \"\r\n          >\r\n            <input\r\n              :name=\"properties.MultiSelect === 2 ? 'checkbox' : 'radio'\"\r\n              :type=\"\r\n                properties.MultiSelect === 1 || properties.MultiSelect === 2\r\n                  ? 'checkbox'\r\n                  : 'radio'\r\n              \"\r\n              @click.prevent.stop\r\n              class=\"inputClass\"\r\n            />\r\n          </div>\r\n          <div\r\n            class=\"column-item\"\r\n            v-for=\"(i, index) in item\"\r\n            :key=\"index\"\r\n            :style=\"[columnItemObj(index),styleColumnObj]\"\r\n          >\r\n            <template\r\n              v-if=\"\r\n                index < properties.ColumnCount || properties.ColumnCount === -1\r\n              \"\r\n              >{{ i }}</template\r\n            >\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <div v-else>\r\n        <div v-if=\"properties.ColumnHeads === true\" class=\"theadClass\">\r\n                <div\r\n                  v-if=\"properties.RowSource === '' && properties.ColumnCount !== -1\"\r\n                  :style=\"emptyColHeads\"\r\n                >\r\n                <div v-if=\"properties.ListStyle === 1\" :style=\"{display:'inline-block', width:'20px'}\">\r\n                  <span class=\"bar\" :style=\"{float:'right'}\">|</span>\r\n                </div>\r\n                <div v-for=\"(a, i) in properties.ColumnCount\" :key=\"i\" :style=\"{display:'inline-block', width:'100px'}\">\r\n                  <span v-if=\"a>1\" class=\"bar\" :key=\"i\">|</span>\r\n                </div>\r\n                </div>\r\n                <div v-else-if=\"properties.ColumnCount === -1\">\r\n                <div v-for=\"i in 10\" :key=\"i\" :style=\"{display:'inline-block', width:'100px'}\">\r\n                  <span v-if=\"i < 10\" class=\"bar\" :key=\"i\" :style=\"{float:'right'}\">|</span>\r\n                </div>\r\n                </div>\r\n        <hr v-if=\"properties.ColumnHeads && properties.ColumnCount !== 0\" class=\"hrStyle\"/>\r\n        <div></div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script lang=\"ts\">\r\nimport {\r\n  Component,\r\n  Prop,\r\n  Vue,\r\n  Mixins,\r\n  Watch,\r\n  Ref\r\n} from 'vue-property-decorator'\r\nimport FdControlVue from '@/api/abstract/FormDesigner/FdControlVue'\r\nimport { EventBus } from '@/FormDesigner/event-bus'\r\n\r\n@Component({\r\n  name: 'FDListBox'\r\n})\r\nexport default class FDListBox extends Mixins(FdControlVue) {\r\n  @Ref('listStyleRef') listStyleRef: HTMLDivElement[];\r\n  @Ref('listBoxTableRef') listBoxTableRef!: HTMLDivElement;\r\n  @Ref('listStyleOuterRef') listStyleOuterRef!: HTMLDivElement;\r\n  @Prop() isActivated: boolean;\r\n  @Prop() toolBoxSelectControl: string\r\n  checkedvalue: boolean;\r\n  $el: HTMLDivElement;\r\n\r\n  get emptyColHeads () {\r\n    return {\r\n      height: '15px'\r\n    }\r\n  }\r\n  updateColumnHeads (index: number) {\r\n    const controlProp = this.properties\r\n    return {\r\n      textAlign: controlProp.TextAlign === 0 ? 'left' : controlProp.TextAlign === 2 ? 'right' : 'center',\r\n      borderRight: index >= this.extraDatas.ColumnHeadsValues!.length - 1 ? '' : (index < controlProp.ColumnCount! - 1) ? '1px solid' : controlProp.ColumnCount === -1 ? (index < this.extraDatas.RowSourceData![0].length - 1) ? '1px solid' : '' : '',\r\n      overflow: 'hidden'\r\n    }\r\n  }\r\n\r\n  protected get colHeadsStyle (): Partial<CSSStyleDeclaration> {\r\n    const controlProp = this.properties\r\n    this.updateColumns()\r\n    return {\r\n      backgroundColor: controlProp.BackColor,\r\n      width: '100%'\r\n    }\r\n  }\r\n\r\n  @Watch('properties.ListStyle')\r\n  listStyleValidate () {\r\n    this.updateColumns()\r\n  }\r\n  @Watch('properties.ColumnWidths')\r\n  columnWidthsValidate () {\r\n    this.updateColumns()\r\n  }\r\n  @Watch('properties.ColumnCount')\r\n  columnCountValidate () {\r\n    this.updateColumns()\r\n  }\r\n  @Watch('properties.ColumnHeads')\r\n  columnHeadsValidate () {\r\n    // this.updateColumns()\r\n    Vue.nextTick(() => {\r\n      if (this.properties.ColumnHeads && this.listBoxTableRef) {\r\n        if (this.listBoxTableRef.children[0]) {\r\n          const header = this.listBoxTableRef.children[0] as HTMLDivElement\r\n          if (this.listBoxTableRef.children[1] && this.listBoxTableRef.children[1].children[0]) {\r\n            const body = this.listBoxTableRef.children[1].children[0] as HTMLDivElement\r\n            let totalWidth = 0\r\n            for (let j = 0; j < body.children.length; j++) {\r\n              totalWidth += body.children[j].clientWidth\r\n            }\r\n            header.style.width = (totalWidth - 3) + 'px'\r\n          }\r\n        }\r\n      }\r\n    })\r\n  }\r\n\r\n  columnItemObj (index: number) {\r\n    const controlProp = this.properties\r\n    this.updateColumns()\r\n    return {\r\n      position: 'relative',\r\n      display: 'inline-block',\r\n      width: 'calc(100% - 3px)',\r\n      textAlign: controlProp.TextAlign === 2 ? 'right' : controlProp.TextAlign === 1 ? 'center' : 'left',\r\n      overflow: 'hidden',\r\n      paddingBottom: this.data.properties.Font!.FontSize! > 48 ? '10px' : '5px'\r\n    }\r\n  }\r\n\r\n  updateColumns () {\r\n    this.columnHeadsValidate()\r\n    if (this.properties.RowSource !== '') {\r\n      let finalWidths:Array<number> = []\r\n      if (this.listBoxTableRef && this.listBoxTableRef.children[0] && this.listBoxTableRef.children[0].className !== 'table-body') {\r\n        if (this.listBoxTableRef.children[0].children[0]) {\r\n          for (let j = 0; j < this.listBoxTableRef.children[0].children[0].children.length; j++) {\r\n            const headWidth = this.listBoxTableRef.children[0].children[0].children[j] as HTMLDivElement\r\n            if (this.properties.ColumnCount! === -1) {\r\n              if (j >= 0 && j < this.extraDatas.RowSourceData!.length) {\r\n                headWidth.style.minWidth = '100px'\r\n              }\r\n            }\r\n          }\r\n        }\r\n      }\r\n      if (this.properties.ColumnHeads) {\r\n        if (this.properties.ColumnWidths === '' && this.listBoxTableRef && this.listBoxTableRef.children[1]) {\r\n          if (this.listBoxTableRef.children[1].children[0]) {\r\n            let tempWidth\r\n            if (this.properties.ColumnCount! <= this.extraDatas.RowSourceData![0].length) {\r\n              if (this.properties.Width! > 100) {\r\n                if (this.properties.ColumnCount! === -1) {\r\n                  tempWidth = this.properties.Width! / this.extraDatas.RowSourceData![0].length\r\n                } else {\r\n                  tempWidth = this.properties.Width! / this.properties.ColumnCount!\r\n                }\r\n              } else {\r\n                tempWidth = 100\r\n              }\r\n            } else {\r\n              if (this.properties.Width! > 100) {\r\n                tempWidth = this.properties.Width! / this.extraDatas.RowSourceData![0].length\r\n              } else {\r\n                tempWidth = 100\r\n              }\r\n            }\r\n            for (let i = 0; i < this.listBoxTableRef.children[1].children.length; i++) {\r\n              if (this.properties.ListStyle === 0) {\r\n                Vue.nextTick(() => {\r\n                  if (this.listBoxTableRef && this.listBoxTableRef.children[0] && this.listBoxTableRef.children[0].children[0]) {\r\n                    for (let j = 0; j < this.listBoxTableRef.children[0].children[0].children.length; j++) {\r\n                      if (this.listBoxTableRef && this.listBoxTableRef.children[0] && this.listBoxTableRef.children[0].children[0] && this.listBoxTableRef.children[0].children[0].children[j]) {\r\n                        const headWidth = this.listBoxTableRef.children[0].children[0].children[j] as HTMLDivElement\r\n                        if (this.properties.ColumnCount !== -1) {\r\n                          if (j === this.listBoxTableRef.children[0].children[0].children.length - 1) {\r\n                            headWidth.style.width = finalWidths[j] - 4 + 'px'\r\n                          } else {\r\n                            headWidth.style.width = '100px'\r\n                          }\r\n                        }\r\n                      }\r\n                    }\r\n                  }\r\n                })\r\n                for (let j = 0; j < this.listBoxTableRef.children[1].children[i].children.length; j++) {\r\n                  const width = this.listBoxTableRef.children[1].children[i].children[j] as HTMLDivElement\r\n                  if (this.properties.ColumnCount! === -1) {\r\n                    if (j >= 0 && j < this.extraDatas.RowSourceData!.length) {\r\n                      width.style.width = tempWidth - 4 + 'px'\r\n                    }\r\n                  } else if (j + 1 > this.properties.ColumnCount!) {\r\n                    width.style.minWidth = '0px'\r\n                    width.style.width = '0px'\r\n                  } else {\r\n                    if (j < this.extraDatas.RowSourceData!.length) {\r\n                      width.style.minWidth = '100px'\r\n                      width.style.width = tempWidth - 4 + 'px'\r\n                    }\r\n                  }\r\n                }\r\n              } else {\r\n                Vue.nextTick(() => {\r\n                  if (this.listBoxTableRef && this.listBoxTableRef.children[0] && this.listBoxTableRef.children[0].children[0]) {\r\n                    for (let j = 0; j < this.listBoxTableRef.children[0].children[0].children.length; j++) {\r\n                      if (this.listBoxTableRef && this.listBoxTableRef.children[0] && this.listBoxTableRef.children[0].children[0] && this.listBoxTableRef.children[0].children[0].children[j]) {\r\n                        const headWidth = this.listBoxTableRef.children[0].children[0].children[j] as HTMLDivElement\r\n                        if (this.properties.ColumnCount !== -1) {\r\n                          if (j === this.listBoxTableRef.children[0].children[0].children.length - 1) {\r\n                            headWidth.style.width = finalWidths[j] - 4 + 'px'\r\n                          } else {\r\n                            headWidth.style.width = '100px'\r\n                          }\r\n                        }\r\n                      }\r\n                    }\r\n                  }\r\n                })\r\n                for (let j = 0; j < this.listBoxTableRef.children[1].children[i].children.length; j++) {\r\n                  const width = this.listBoxTableRef.children[1].children[i].children[j] as HTMLDivElement\r\n                  if (this.properties.ColumnCount! === -1) {\r\n                    if (j >= 0 && j < this.extraDatas.RowSourceData!.length) {\r\n                      width.style.width = '100px'\r\n                    }\r\n                  } else if (j === 1 && this.properties.ColumnCount! === 1) {\r\n                    width.style.width = this.properties.Width! - 4 + 'px'\r\n                  } else if (j > this.properties.ColumnCount!) {\r\n                    width.style.minWidth = '0px'\r\n                    width.style.width = '0px'\r\n                  } else {\r\n                    if (j < this.extraDatas.RowSourceData!.length) {\r\n                      width.style.minWidth = '100px'\r\n                      width.style.width = (this.properties.Width! / this.properties.ColumnCount!) + 'px'\r\n                    }\r\n                  }\r\n                }\r\n              }\r\n            }\r\n          }\r\n        } else if (this.listBoxTableRef && this.listBoxTableRef.children[1]) {\r\n          finalWidths = this.calculateColumnWidths()\r\n          if (this.listBoxTableRef.children[1].children[0]) {\r\n            for (let i = 0; i < this.listBoxTableRef.children[1].children.length; i++) {\r\n              if (this.properties.ListStyle === 0) {\r\n                for (let j = 0; j < this.listBoxTableRef.children[1].children[i].children.length; j++) {\r\n                  const width = this.listBoxTableRef.children[1].children[i].children[j] as HTMLDivElement\r\n                  if (j >= this.properties.ColumnCount! && this.properties.ColumnCount !== -1) {\r\n                    width.style.display = 'none'\r\n                  } else {\r\n                    width.style.display = 'inline-block'\r\n                    if (this.properties.ColumnCount === 1) {\r\n                      if (this.properties.Width! > finalWidths[0]) {\r\n                        width.style.width = this.properties.Width! - 4 + 'px'\r\n                      } else {\r\n                        width.style.width = finalWidths[0] - 4 + 'px'\r\n                      }\r\n                    } else {\r\n                      width.style.minWidth = '0px'\r\n                      width.style.width = finalWidths[j] - 4 + 'px'\r\n                    }\r\n                  }\r\n                  if (this.listBoxTableRef && this.listBoxTableRef.children[0] && this.listBoxTableRef.children[0].children[0] && this.listBoxTableRef.children[0].children[0].children[j]) {\r\n                    const headWidth = this.listBoxTableRef.children[0].children[0].children[j] as HTMLDivElement\r\n                    if (this.properties.ColumnCount === -1) {\r\n                      headWidth.style.display = 'inline-block'\r\n                      headWidth.style.minWidth = '0px'\r\n                      headWidth.style.width = finalWidths[j] - 4 + 'px'\r\n                    } else if (j >= this.properties.ColumnCount!) {\r\n                      headWidth.style.display = 'none'\r\n                    } else {\r\n                      headWidth.style.display = 'inline-block'\r\n                      if (this.properties.ColumnCount === 1) {\r\n                        if (this.properties.Width! > finalWidths[0]) {\r\n                          headWidth.style.width = this.properties.Width! - 4 + 'px'\r\n                        } else {\r\n                          headWidth.style.width = finalWidths[0] - 4 + 'px'\r\n                        }\r\n                      } else {\r\n                        headWidth.style.width = finalWidths[j] - 4 + 'px'\r\n                      }\r\n                    }\r\n                  }\r\n                }\r\n              } else {\r\n                for (let j = 0; j < this.listBoxTableRef.children[1].children[i].children.length; j++) {\r\n                  const width = this.listBoxTableRef.children[1].children[i].children[j] as HTMLDivElement\r\n                  if (j > 0) {\r\n                    if (j > this.properties.ColumnCount! && j > this.extraDatas.RowSourceData!.length - 1) {\r\n                      width.style.display = 'none'\r\n                    } else {\r\n                      width.style.display = 'inline-block'\r\n                      if (this.properties.ColumnCount === 1) {\r\n                        if (this.properties.Width! > finalWidths[0]) {\r\n                          width.style.width = this.properties.Width! - 4 + 'px'\r\n                        } else {\r\n                          width.style.width = finalWidths[0] - 4 + 'px'\r\n                        }\r\n                      } else {\r\n                        width.style.minWidth = '0px'\r\n                        width.style.width = finalWidths[j - 1] - 4 + 'px'\r\n                      }\r\n                    }\r\n                    if (this.listBoxTableRef && this.listBoxTableRef.children[0] && this.listBoxTableRef.children[0].children[0] && this.listBoxTableRef.children[0].children[0].children[j]) {\r\n                      const headWidth = this.listBoxTableRef.children[0].children[0].children[j] as HTMLDivElement\r\n                      if (this.properties.ColumnCount === -1) {\r\n                        headWidth.style.display = 'inline-block'\r\n                        headWidth.style.minWidth = '0px'\r\n                        headWidth.style.width = finalWidths[j] - 4 + 'px'\r\n                      } else if (j >= this.properties.ColumnCount!) {\r\n                        headWidth.style.display = 'none'\r\n                      } else {\r\n                        headWidth.style.display = 'inline-block'\r\n                        if (this.properties.ColumnCount === 1) {\r\n                          if (this.properties.Width! > finalWidths[0]) {\r\n                            headWidth.style.width = this.properties.Width! - 4 + 'px'\r\n                          } else {\r\n                            headWidth.style.width = finalWidths[0] - 4 + 'px'\r\n                          }\r\n                        } else {\r\n                          headWidth.style.width = finalWidths[j] - 4 + 'px'\r\n                        }\r\n                      }\r\n                    }\r\n                  }\r\n                }\r\n              }\r\n            }\r\n          }\r\n        }\r\n      } else {\r\n        if (this.properties.ColumnWidths === '' && this.listBoxTableRef && this.listBoxTableRef.children[0]) {\r\n          if (this.listBoxTableRef.children[0].children[0]) {\r\n            let tempWidth\r\n            if (this.properties.ColumnCount! <= this.extraDatas.RowSourceData![0].length) {\r\n              if (this.properties.Width! > 100) {\r\n                if (this.properties.ColumnCount! === -1) {\r\n                  tempWidth = this.properties.Width! / this.extraDatas.RowSourceData![0].length\r\n                } else {\r\n                  tempWidth = this.properties.Width! / this.properties.ColumnCount!\r\n                }\r\n              } else {\r\n                tempWidth = 100\r\n              }\r\n            } else {\r\n              if (this.properties.Width! > 100) {\r\n                tempWidth = this.properties.Width! / this.extraDatas.RowSourceData![0].length\r\n              } else {\r\n                tempWidth = 100\r\n              }\r\n            }\r\n            for (let i = 0; i < this.listBoxTableRef.children[0].children.length; i++) {\r\n              if (this.properties.ListStyle === 0) {\r\n                for (let j = 0; j < this.listBoxTableRef.children[0].children[i].children.length; j++) {\r\n                  const width = this.listBoxTableRef.children[0].children[i].children[j] as HTMLDivElement\r\n                  if (this.properties.ColumnCount! === -1) {\r\n                    if (j >= 0 && j < this.extraDatas.RowSourceData!.length) {\r\n                      width.style.width = tempWidth - 4 + 'px'\r\n                    }\r\n                  } else if (j + 1 > this.properties.ColumnCount!) {\r\n                    width.style.minWidth = '0px'\r\n                    width.style.width = '0px'\r\n                  } else {\r\n                    if (j < this.extraDatas.RowSourceData!.length) {\r\n                      width.style.minWidth = '100px'\r\n                      width.style.width = tempWidth - 4 + 'px'\r\n                    }\r\n                  }\r\n                }\r\n              } else {\r\n                for (let j = 0; j < this.listBoxTableRef.children[0].children[i].children.length; j++) {\r\n                  const width = this.listBoxTableRef.children[0].children[i].children[j] as HTMLDivElement\r\n                  if (this.properties.ColumnCount! === -1) {\r\n                    if (j >= 0 && j < this.extraDatas.RowSourceData!.length) {\r\n                      width.style.width = '100px'\r\n                    }\r\n                  } else if (j === 1 && this.properties.ColumnCount! === 1) {\r\n                    width.style.width = this.properties.Width! - 4 + 'px'\r\n                  } else if (j > this.properties.ColumnCount!) {\r\n                    width.style.minWidth = '0px'\r\n                    width.style.width = '0px'\r\n                  } else {\r\n                    if (j < this.extraDatas.RowSourceData!.length) {\r\n                      width.style.minWidth = '100px'\r\n                      width.style.width = (this.properties.Width! / this.properties.ColumnCount!) + 'px'\r\n                    }\r\n                  }\r\n                }\r\n              }\r\n            }\r\n          }\r\n        } else if (this.listBoxTableRef && this.listBoxTableRef.children[0]) {\r\n          finalWidths = this.calculateColumnWidths()\r\n          if (this.listBoxTableRef.children[0].children[0]) {\r\n            for (let i = 0; i < this.listBoxTableRef.children[0].children.length; i++) {\r\n              if (this.properties.ListStyle === 0) {\r\n                for (let j = 0; j < this.listBoxTableRef.children[0].children[i].children.length; j++) {\r\n                  const width = this.listBoxTableRef.children[0].children[i].children[j] as HTMLDivElement\r\n                  if (j >= this.properties.ColumnCount! && this.properties.ColumnCount !== -1) {\r\n                    width.style.display = 'none'\r\n                  } else {\r\n                    width.style.display = 'inline-block'\r\n                    if (this.properties.ColumnCount === 1) {\r\n                      if (this.properties.Width! > finalWidths[0]) {\r\n                        width.style.width = this.properties.Width! - 4 + 'px'\r\n                      } else {\r\n                        width.style.width = finalWidths[0] - 4 + 'px'\r\n                      }\r\n                    } else {\r\n                      width.style.minWidth = '0px'\r\n                      width.style.width = finalWidths[j] - 4 + 'px'\r\n                    }\r\n                  }\r\n                }\r\n              } else {\r\n                for (let j = 0; j < this.listBoxTableRef.children[0].children[i].children.length; j++) {\r\n                  const width = this.listBoxTableRef.children[0].children[i].children[j] as HTMLDivElement\r\n                  if (j > 0) {\r\n                    if (j > this.properties.ColumnCount! && j > this.extraDatas.RowSourceData!.length - 1) {\r\n                      width.style.display = 'none'\r\n                    } else {\r\n                      width.style.display = 'inline-block'\r\n                      if (this.properties.ColumnCount === 1) {\r\n                        if (this.properties.Width! > finalWidths[0]) {\r\n                          width.style.width = this.properties.Width! - 4 + 'px'\r\n                        } else {\r\n                          width.style.width = finalWidths[0] - 4 + 'px'\r\n                        }\r\n                      } else {\r\n                        width.style.minWidth = '0px'\r\n                        width.style.width = finalWidths[j - 1] - 4 + 'px'\r\n                      }\r\n                    }\r\n                  }\r\n                }\r\n              }\r\n            }\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  calculateColumnWidths () {\r\n    let a = (this.properties.ColumnWidths!.split(';'))\r\n    let b = []\r\n    let temp = 0\r\n    let totalWidth = this.properties.Width!\r\n    let totalColumnWidths = 0\r\n    let colWidths = this.properties.ColumnWidths!\r\n    let columnWidthCount = colWidths.split(';').length\r\n    let totalColumnCount = this.properties.ColumnCount! < this.extraDatas.RowSourceData![0].length ? this.properties.ColumnCount! : this.extraDatas.RowSourceData![0].length\r\n    let widths = []\r\n    let finalWidths:Array<number> = []\r\n    let lastColumWidth = 0\r\n    if (this.properties.ColumnCount === -1) {\r\n      if (columnWidthCount >= this.extraDatas.RowSourceData![0].length) {\r\n        for (let i = 0; i < this.extraDatas.RowSourceData![0].length; i++) {\r\n          if (i < this.extraDatas.RowSourceData![0].length) {\r\n            let tempWidth = parseInt(colWidths.split(';')[i], 10)\r\n            totalColumnWidths += tempWidth\r\n            widths.push(tempWidth)\r\n          }\r\n        }\r\n      } else {\r\n        let count = 0\r\n        let colWidthCalculatedCount = 0\r\n        let colWidth = 0\r\n        for (let i = 0; i < this.extraDatas.RowSourceData![0].length; i++) {\r\n          if (i < columnWidthCount) {\r\n            widths.push(parseInt(colWidths.split(';')[i], 10))\r\n            count = count + 1\r\n            totalColumnWidths += parseInt(colWidths.split(';')[i], 10)\r\n          } else {\r\n            if (totalWidth > totalColumnWidths) {\r\n              colWidthCalculatedCount = colWidthCalculatedCount + 1\r\n              if (colWidthCalculatedCount === 1) {\r\n                colWidth = ((totalWidth - totalColumnWidths) / (this.extraDatas.RowSourceData![0].length - count))\r\n              }\r\n              widths.push(colWidth)\r\n              totalColumnWidths += colWidth\r\n            } else {\r\n              widths.push(100)\r\n            }\r\n          }\r\n        }\r\n      }\r\n      if (totalWidth > totalColumnWidths) {\r\n        for (let i = 0; i < widths.length; i++) {\r\n          if (widths.length - 1 !== i) {\r\n            lastColumWidth = totalWidth - widths[i]!\r\n            finalWidths.push(widths[i])\r\n            totalWidth = lastColumWidth\r\n          } else {\r\n            finalWidths.push(lastColumWidth)\r\n          }\r\n        }\r\n      } else if (totalWidth <= totalColumnWidths) {\r\n        for (let j = 0; j < widths.length; j++) {\r\n          finalWidths.push(widths[j])\r\n        }\r\n      }\r\n    } else {\r\n      if (columnWidthCount >= totalColumnCount) {\r\n        for (let i = 0; i < totalColumnCount; i++) {\r\n          if (i < this.properties.ColumnCount!) {\r\n            let tempWidth = parseInt(colWidths.split(';')[i], 10)\r\n            totalColumnWidths += tempWidth\r\n            widths.push(tempWidth)\r\n          }\r\n        }\r\n      } else {\r\n        let count = 0\r\n        let colWidthCalculatedCount = 0\r\n        let colWidth = 0\r\n        for (let i = 0; i < totalColumnCount; i++) {\r\n          if (i < columnWidthCount) {\r\n            widths.push(parseInt(colWidths.split(';')[i], 10))\r\n            count = count + 1\r\n            totalColumnWidths += parseInt(colWidths.split(';')[i], 10)\r\n          } else {\r\n            if (totalWidth > totalColumnWidths) {\r\n              colWidthCalculatedCount = colWidthCalculatedCount + 1\r\n              if (colWidthCalculatedCount === 1) {\r\n                colWidth = ((totalWidth - totalColumnWidths) / (totalColumnCount - count))\r\n              }\r\n              widths.push(colWidth)\r\n              totalColumnWidths += colWidth\r\n            } else {\r\n              widths.push(100)\r\n            }\r\n          }\r\n        }\r\n      }\r\n      if (totalWidth > totalColumnWidths) {\r\n        for (let i = 0; i < widths.length; i++) {\r\n          if (widths.length - 1 !== i) {\r\n            lastColumWidth = totalWidth - widths[i]!\r\n            finalWidths.push(widths[i])\r\n            totalWidth = lastColumWidth\r\n          } else {\r\n            finalWidths.push(lastColumWidth)\r\n          }\r\n        }\r\n      } else if (totalWidth <= totalColumnWidths) {\r\n        for (let j = 0; j < widths.length; j++) {\r\n          finalWidths.push(widths[j])\r\n        }\r\n      }\r\n    }\r\n    return finalWidths\r\n  }\r\n  handleMousedown (e: MouseEvent) {\r\n    if (this.toolBoxSelectControl === 'Select') {\r\n      e.stopPropagation()\r\n      if (this.properties.RowSource !== '') {\r\n        if (\r\n          e.target instanceof HTMLDivElement ||\r\n      e.target instanceof HTMLTableRowElement ||\r\n      e.target instanceof HTMLInputElement\r\n        ) {\r\n          this.tempListBoxComboBoxEvent = e\r\n          const targetElement = e.target\r\n          const tempData = targetElement!.parentElement!\r\n            .children[0] as HTMLDivElement\r\n          const tempDataOption = targetElement.parentElement!\r\n            .children[1] as HTMLDivElement\r\n          const tempPath = e.composedPath()\r\n          targetElement.focus()\r\n          let data = targetElement.innerText\r\n          let splitData = data.replace(/\\t/g, ' ').split(' ')\r\n\r\n          targetElement.focus()\r\n          if (this.properties.Enabled && this.properties.Locked === false) {\r\n            if (this.properties.MultiSelect === 0) {\r\n              this.clearOptionBGColorAndChecked(e)\r\n              this.setOptionBGColorAndChecked(e)\r\n            } else if (this.properties.MultiSelect === 1) {\r\n              this.setOptionBGColorAndChecked(e)\r\n            } else if (this.properties.MultiSelect === 2) {\r\n              if (e.ctrlKey === true) {\r\n                if (targetElement.tagName === 'INPUT') {\r\n                  this.setOptionBGColorAndChecked(e)\r\n                } else {\r\n                  this.setOptionBGColorAndChecked(e)\r\n                }\r\n              } else if (e.shiftKey === true && this.properties.Value !== '') {\r\n                let startPoint = 0\r\n                let endPoint = 0\r\n                for (let i = 0; i < tempPath.length; i++) {\r\n                  const ele = tempPath[i] as HTMLDivElement\r\n                  if (ele.className === 'table-body') {\r\n                    // extend points start and end\r\n                    for (let j = 0; j < ele.childNodes.length; j++) {\r\n                      const cd = ele.childNodes[j] as HTMLDivElement\r\n                      if (cd.innerText === this.properties.Value) {\r\n                        startPoint = j + 1\r\n                      }\r\n                      if (cd.innerText === targetElement.innerText) {\r\n                        endPoint = j\r\n                      }\r\n                    }\r\n                    // upward selection start and end swap\r\n                    if (startPoint > endPoint) {\r\n                      let temp = startPoint\r\n                      startPoint = endPoint\r\n                      endPoint = temp\r\n                    }\r\n                    // setting selection\r\n                    for (let k = startPoint; k <= endPoint; k++) {\r\n                      const node = ele.childNodes[k] as HTMLDivElement\r\n                      const tempNode = node.childNodes[0]\r\n                        .childNodes[0] as HTMLInputElement\r\n                      node.style.backgroundColor = 'rgb(59, 122, 231)'\r\n                      if (this.properties.ListStyle === 1 && !tempNode.checked) {\r\n                        // tempNode.checked = !tempNode.checked\r\n                        tempNode.checked = true\r\n                      }\r\n                    }\r\n                    break\r\n                  }\r\n                }\r\n              }\r\n\r\n              if (this.properties.ControlSource !== '') {\r\n                this.updateDataModel({\r\n                  propertyName: 'Text',\r\n                  value: this.selectionData[0]\r\n                })\r\n                this.updateDataModel({\r\n                  propertyName: 'Value',\r\n                  value: this.selectionData[0]\r\n                })\r\n              }\r\n              this.clearOptionBGColorAndChecked(e)\r\n              this.setOptionBGColorAndChecked(e)\r\n            }\r\n          }\r\n          if (this.properties.MultiSelect === 0) {\r\n            for (let i = 0; i < this.extraDatas.RowSourceData!.length; i++) {\r\n              if (this.listStyleRef[i].style.backgroundColor !== '') {\r\n                const text = this.extraDatas.RowSourceData![i][0]\r\n                this.updateDataModel({ propertyName: 'Text', value: text })\r\n                const x = this.extraDatas.RowSourceData![i][this.properties.BoundColumn! - 1]\r\n                this.updateDataModel({ propertyName: 'Value', value: x })\r\n              }\r\n            }\r\n          } else {\r\n            this.updateDataModel({ propertyName: 'Text', value: '' })\r\n            this.updateDataModel({ propertyName: 'Value', value: '' })\r\n          }\r\n          this.getSelectedStyle()\r\n        }\r\n      }\r\n    }\r\n  }\r\n  clearMatchEntry () {\r\n    this.updateDataModelExtraData({ propertyName: 'MatchData', value: '' })\r\n  }\r\n\r\n  getSelectedStyle () {\r\n    if (this.listStyleRef) {\r\n      for (let i = 0; i < this.listStyleRef.length; i++) {\r\n        if (this.listStyleRef[i].style.backgroundColor === 'rgb(59, 122, 231)') {\r\n          for (let j = 0; j < this.listStyleRef[i].children.length; j++) {\r\n            const a = this.listStyleRef[i].children[j] as HTMLDivElement\r\n            a.style.backgroundColor = 'rgb(59, 122, 231)'\r\n          }\r\n        } else if (this.listStyleRef[i].style.backgroundColor === '') {\r\n          for (let j = 0; j < this.listStyleRef[i].children.length; j++) {\r\n            const a = this.listStyleRef[i].children[j] as HTMLDivElement\r\n            a.style.backgroundColor = ''\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n  /**\r\n   * @description style object is passed to :style attribute in div tag\r\n   * dynamically changing the styles of the component based on properties\r\n   * @function listStyleObj\r\n   */\r\n  protected get listStyleObj (): Partial<CSSStyleDeclaration> {\r\n    const controlProp = this.properties\r\n    let display = ''\r\n    if (this.isRunMode) {\r\n      display = controlProp.Visible ? 'inline-block' : 'none'\r\n    } else {\r\n      display = 'inline-block'\r\n    }\r\n    return {\r\n      backgroundColor: controlProp.BackColor,\r\n      borderColor: controlProp.BorderStyle === 1 ? controlProp.BorderColor : '',\r\n      cursor:\r\n        controlProp.MousePointer !== 0 || controlProp.MouseIcon !== ''\r\n          ? this.getMouseCursorData\r\n          : 'default',\r\n      borderLeft:\r\n        controlProp.BorderStyle === 1\r\n          ? '1px solid ' + controlProp.BorderColor\r\n          : controlProp.SpecialEffect === 2\r\n            ? '2px solid gray'\r\n            : controlProp.SpecialEffect === 3\r\n              ? '1.5px solid gray'\r\n              : controlProp.SpecialEffect === 4\r\n                ? '0.5px solid gray'\r\n                : '',\r\n      borderRight:\r\n        controlProp.BorderStyle === 1\r\n          ? '1px solid ' + controlProp.BorderColor\r\n          : controlProp.SpecialEffect === 1\r\n            ? '2px solid gray'\r\n            : controlProp.SpecialEffect === 4\r\n              ? '1.5px solid gray'\r\n              : controlProp.SpecialEffect === 3\r\n                ? '0.5px solid gray'\r\n                : '',\r\n      borderTop:\r\n        controlProp.BorderStyle === 1\r\n          ? '1px solid ' + controlProp.BorderColor\r\n          : controlProp.SpecialEffect === 2\r\n            ? '2px solid gray'\r\n            : controlProp.SpecialEffect === 3\r\n              ? '1.5px solid gray'\r\n              : controlProp.SpecialEffect === 4\r\n                ? '0.5px solid gray'\r\n                : '',\r\n      borderBottom:\r\n        controlProp.BorderStyle === 1\r\n          ? '1px solid ' + controlProp.BorderColor\r\n          : controlProp.SpecialEffect === 1\r\n            ? '2px solid gray'\r\n            : controlProp.SpecialEffect === 4\r\n              ? '1.5px solid gray'\r\n              : controlProp.SpecialEffect === 3\r\n                ? '0.5px solid gray'\r\n                : '',\r\n      left: `${controlProp.Left}px`,\r\n      width: `${controlProp.Width}px`,\r\n      height: `${controlProp.Height}px`,\r\n      top: `${controlProp.Top}px`,\r\n      display: display,\r\n      overflow: controlProp.RowSource === '' ? 'hidden' : this.$el && this.$el.scrollWidth > this.properties.Width! + 3 ? 'auto' : 'hidden'\r\n    }\r\n  }\r\n\r\n  get styleColumnObj () {\r\n    const controlProp = this.properties\r\n    const font: font = controlProp.Font\r\n      ? controlProp.Font\r\n      : {\r\n        FontName: 'Arial',\r\n        FontSize: 10,\r\n        FontItalic: true,\r\n        FontBold: true,\r\n        FontUnderline: true,\r\n        FontStrikethrough: true\r\n      }\r\n    return {\r\n      fontFamily: font.FontStyle! !== '' ? this.setFontStyle : font.FontName!,\r\n      fontSize: `${font.FontSize}px`,\r\n      fontStyle: font.FontItalic || this.isItalic ? 'italic' : '',\r\n      textDecoration:\r\n        font.FontStrikethrough === true && font.FontUnderline === true\r\n          ? 'underline line-through'\r\n          : font.FontUnderline\r\n            ? 'underline'\r\n            : font.FontStrikethrough\r\n              ? 'line-through'\r\n              : '',\r\n      textDecorationSkipInk: 'none',\r\n      fontWeight: font.FontBold\r\n        ? 'bold'\r\n        : font.FontStyle !== ''\r\n          ? this.tempWeight\r\n          : '',\r\n      fontStretch: font.FontStyle !== '' ? this.tempStretch : ''\r\n\r\n    }\r\n  }\r\n  /**\r\n   * @description style object is passed to :style attribute in table tag\r\n   * dynamically changing the styles of the component based on properties\r\n   * @function tableStyleObj\r\n   */\r\n  protected get tableStyleObj () {\r\n    const controlProp = this.properties\r\n    const font: font = controlProp.Font\r\n      ? controlProp.Font\r\n      : {\r\n        FontName: 'Arial',\r\n        FontSize: 10,\r\n        FontItalic: true,\r\n        FontBold: true,\r\n        FontUnderline: true,\r\n        FontStrikethrough: true\r\n      }\r\n    return {\r\n      borderCollapse: 'collapse',\r\n      tableLayout: 'fixed',\r\n      color: controlProp.ForeColor,\r\n      fontFamily: font.FontStyle! !== '' ? this.setFontStyle : font.FontName!,\r\n      fontSize: `${font.FontSize}px`,\r\n      fontStyle: font.FontItalic || this.isItalic ? 'italic' : '',\r\n      textDecoration:\r\n        font.FontStrikethrough === true && font.FontUnderline === true\r\n          ? 'underline line-through'\r\n          : font.FontUnderline\r\n            ? 'underline'\r\n            : font.FontStrikethrough\r\n              ? 'line-through'\r\n              : '',\r\n      textDecorationSkipInk: 'none',\r\n      fontWeight: font.FontBold\r\n        ? 'bold'\r\n        : font.FontStyle !== ''\r\n          ? this.tempWeight\r\n          : '',\r\n      fontStretch: font.FontStyle !== '' ? this.tempStretch : '',\r\n      width: '100%'\r\n      // display: this.properties.ColumnCount === 0 ? 'none' : ''\r\n    }\r\n  }\r\n\r\n  /**\r\n   * @description style object is passed to :style attribute in td tag\r\n   * dynamically changing the styles of the component based on properties\r\n   * @function tdStyleObj\r\n   */\r\n  protected get tdStyleObj (): Partial<CSSStyleDeclaration> {\r\n    const controlProp = this.properties\r\n    return {\r\n      textAlign:\r\n        controlProp.TextAlign === 0\r\n          ? 'left'\r\n          : controlProp.TextAlign === 2\r\n            ? 'right'\r\n            : 'center'\r\n    }\r\n  }\r\n\r\n  /**\r\n   * @description watches changes in properties for Value\r\n   * @function ValueData\r\n   * @param oldVal previous properties data\r\n   * @param newVal  new/changed properties data\r\n   */\r\n  @Watch('properties.Value', { deep: true })\r\n  ValueData (newVal: string, oldVal: string) {\r\n    if (this.properties.RowSource !== '') {\r\n      if (newVal !== '' && this.properties.MultiSelect === 0) {\r\n        if (\r\n        this.properties.BoundColumn! > 0 &&\r\n        this.properties.BoundColumn! < this.extraDatas.RowSourceData!.length\r\n        ) {\r\n          let tempData = [...this.extraDatas.RowSourceData!]\r\n          let tempBoundColumn = this.properties.BoundColumn! - 1\r\n          for (let i = 0; i < this.extraDatas.RowSourceData!.length; i++) {\r\n            if (tempData[i][tempBoundColumn] === newVal) {\r\n              const x = this.listStyleRef[i] as HTMLInputElement\r\n              x.checked = true\r\n            } if (tempData[i][tempBoundColumn] !== newVal) {\r\n              const x = this.listStyleRef[i] as HTMLInputElement\r\n              x.checked = false\r\n            }\r\n            const x = this.listStyleRef[i] as HTMLInputElement\r\n            if (x.checked) {\r\n              this.listStyleRef[i].style.backgroundColor = 'rgb(59, 122, 231)'\r\n            }\r\n            if (!x.checked) {\r\n              this.listStyleRef[i].style.backgroundColor = ''\r\n              if (this.listStyleRef[i] && this.listStyleRef[i].children.length > 0) {\r\n                const y = this.listStyleRef[i] as HTMLDivElement\r\n                for (let j = 0; j < y.children.length; j++) {\r\n                  const z = this.listStyleRef[i].children[j] as HTMLDivElement\r\n                  z.style.backgroundColor = ''\r\n                }\r\n              }\r\n            }\r\n          }\r\n          if (tempData![0][this.properties.BoundColumn! - 1] === newVal) {\r\n            this.updateDataModel({ propertyName: 'Value', value: newVal })\r\n            this.updateDataModel({ propertyName: 'Text', value: newVal })\r\n          }\r\n        } else {\r\n          return undefined\r\n        }\r\n      } else {\r\n        this.updateDataModel({ propertyName: 'Value', value: '' })\r\n      }\r\n    } else {\r\n      this.updateDataModel({ propertyName: 'Value', value: '' })\r\n    }\r\n  }\r\n\r\n  /**\r\n   * @description mounted initializes the values which are required for the component\r\n   */\r\n  mounted () {\r\n    this.$el.focus()\r\n    var event = new MouseEvent('mousedown.stop')\r\n    if (this.properties.RowSource !== '') {\r\n      const initialRowSourceData = this.extraDatas.RowSourceData!\r\n      this.updateDataModel({ propertyName: 'ControlSource', value: '' })\r\n      if (initialRowSourceData && initialRowSourceData.length === 0) {\r\n        this.updateDataModel({ propertyName: 'TopIndex', value: -1 })\r\n      } else {\r\n        this.updateDataModel({ propertyName: 'TopIndex', value: 0 })\r\n      }\r\n    }\r\n  }\r\n\r\n  /**\r\n   * @description watches changes in properties for MultiSelect\r\n   * @function multiSelectCheck\r\n   * @param oldVal previous properties data\r\n   * @param newVal  new/changed properties data\r\n   */\r\n  @Watch('properties.MultiSelect', { deep: true })\r\n  multiSelectCheck (newVal: number, oldVal: number) {\r\n    if (newVal === 1 || newVal === 2) {\r\n      this.updateDataModel({ propertyName: 'Value', value: '' })\r\n      this.updateDataModel({ propertyName: 'Text', value: '' })\r\n    }\r\n    if (this.tempListBoxComboBoxEvent) {\r\n      this.clearOptionBGColorAndChecked(this.tempListBoxComboBoxEvent)\r\n    }\r\n  }\r\n\r\n  /**\r\n   * @description watches changes in properties for ListStyle\r\n   * @function listCheck\r\n   * @param oldVal previous properties data\r\n   * @param newVal  new/changed properties data\r\n   */\r\n  @Watch('properties.ListStyle', { deep: true })\r\n  listCheck (newVal: number, oldVal: number) {\r\n    this.clearOptionBGColorAndChecked(this.tempListBoxComboBoxEvent)\r\n  }\r\n\r\n  @Watch('isEditMode', { deep: true })\r\n  isEditCheck (newVal: boolean, oldVal: boolean) {\r\n    if (this.isEditMode) {\r\n      this.$el.click()\r\n    }\r\n  }\r\n\r\n  forMatchEntry (event: KeyboardEvent) {\r\n    if (event.key === 'Enter' && event.keyCode === 13) {\r\n      this.setContentEditable(event, true)\r\n    }\r\n    if (this.isEditMode) {\r\n      this.listStyleRef[0].click()\r\n    }\r\n    if (event.key === 'Escape' && event.keyCode === 27) {\r\n      this.releaseEditMode(event)\r\n    }\r\n    if (event.key === 'Delete') {\r\n      this.deleteItem(event)\r\n    }\r\n  }\r\n\r\n  @Watch('properties.RowSource')\r\n  rowSourceValidate () {\r\n    if (this.properties.RowSource !== '') {\r\n      Vue.nextTick(() => {\r\n        this.updateColumns()\r\n      })\r\n      const initialRowSourceData = this.extraDatas.RowSourceData!\r\n      this.updateDataModel({ propertyName: 'ControlSource', value: '' })\r\n      if (initialRowSourceData && initialRowSourceData.length === 0) {\r\n        this.updateDataModel({ propertyName: 'TopIndex', value: -1 })\r\n      } else {\r\n        this.updateDataModel({ propertyName: 'TopIndex', value: 0 })\r\n      }\r\n    }\r\n  }\r\n\r\n  @Watch('properties.ControlSource')\r\n  controlSourceUpdate () {\r\n    if (this.properties.ControlSource !== '') {\r\n      for (let i = 0; i < this.extraDatas.RowSourceData!.length; i++) {\r\n        this.listStyleRef[i].style.backgroundColor = ''\r\n        if (\r\n          this.extraDatas.RowSourceData![i][this.properties.BoundColumn! - 1] === this.extraDatas.ControlSourceValue!\r\n        ) {\r\n          const listRow = this.listStyleRef[i]\r\n          listRow.style.backgroundColor = 'rgb(59, 122, 231)'\r\n        }\r\n      }\r\n    }\r\n  }\r\n  releaseEditMode (event: KeyboardEvent) {\r\n    this.$el.focus()\r\n    this.setContentEditable(event, false)\r\n  }\r\n  eventStoppers () {\r\n    const eventStop = (event: Event) => event.stopPropagation()\r\n    return this.isEditMode === false\r\n      ? null\r\n      : {\r\n        keydown: eventStop\r\n      }\r\n  }\r\n  listBoxClick (e: MouseEvent) {\r\n    if (this.listStyleOuterRef && !this.isEditMode) {\r\n      this.listStyleOuterRef.scrollLeft = -1\r\n    }\r\n    if (this.toolBoxSelectControl === 'Select') {\r\n      e.stopPropagation()\r\n      this.selectedItem(e)\r\n      if (!this.isActivated) {\r\n        EventBus.$emit('focusUserForm')\r\n      }\r\n    }\r\n  }\r\n  stopMousedown (event: MouseEvent) {\r\n    if (this.toolBoxSelectControl === 'Select') {\r\n      event.stopPropagation()\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.listStyle {\r\n  background-color: lightgray;\r\n  border: 1px solid gray;\r\n  overflow: auto;\r\n  box-sizing: border-box;\r\n}\r\n.list-outer {\r\n  border: 0.1px solid lightgray;\r\n  width: 164px;\r\n  height: 130px;\r\n  overflow-y: auto;\r\n  box-shadow: -1px -1px grey;\r\n}\r\n.tr {\r\n  outline: none;\r\n  display: inline-flex;\r\n  min-width: calc(100% - 3px);\r\n}\r\n.ul {\r\n  display: grid;\r\n  grid-template-columns: 100%;\r\n  list-style-type: none;\r\n  margin-block-start: 0em;\r\n  margin-block-end: 0em;\r\n  margin-inline-start: 0px;\r\n  margin-inline-end: 0px;\r\n  padding-inline-start: 0px;\r\n}\r\n.li {\r\n  /* padding: 3px; */\r\n  margin: 1px;\r\n  text-align: left;\r\n  font-size: 14px;\r\n  height: 16px;\r\n  border: 0.5px solid white;\r\n  cursor: pointer;\r\n}\r\n.li:hover {\r\n  margin: 1px;\r\n  border-color: rgb(52, 52, 255);\r\n  border-radius: 2px;\r\n  background-color: rgb(59, 122, 231);\r\n}\r\n.fa {\r\n  margin-left: 4px;\r\n  margin-top: 3px;\r\n}\r\n.span {\r\n  /* margin: 4px;  */\r\n  margin-left: 7px;\r\n  margin-top: 0px;\r\n  font-family: Arial, Helvetica, sans-serif;\r\n}\r\n.div {\r\n  display: grid;\r\n  grid-template-columns: 1fr;\r\n}\r\n.listbox {\r\n  display: grid;\r\n  grid-template-columns: 100%;\r\n  height: 100px;\r\n  width: 300px;\r\n  background-color: lightgray;\r\n  border: 1px solid gray;\r\n}\r\n.columnHeads {\r\n  height: 19.2px;\r\n  border: 1px solid black;\r\n  display: grid;\r\n  grid-template-columns: 100%;\r\n}\r\n.optionsItems {\r\n  display: grid;\r\n  grid-template-columns: 100%;\r\n}\r\n.table-style {\r\n  width: 100%;\r\n}\r\n.theadClass {\r\n  /* border-bottom: 1px solid; */\r\n  white-space: nowrap;\r\n  position: sticky;\r\n  top: 0px;\r\n  z-index: 1;\r\n}\r\n.tdClass {\r\n  width: 15px;\r\n  border-right: 1px solid;\r\n}\r\n.tdClassIn {\r\n  width: 40px;\r\n}\r\n.inputClass {\r\n  margin: 0;\r\n}\r\n.thead {\r\n  position: sticky;\r\n  top: 0;\r\n  overflow: hidden;\r\n  text-decoration: underline;\r\n  white-space: nowrap;\r\n}\r\n.colHeadsClass {\r\n  display: inline-block;\r\n  width: 100px;\r\n}\r\n.hrStyle {\r\n  display: block !important;\r\n  margin: 0px;\r\n  width: 100% !important;\r\n}\r\n.bar {\r\n  font-size: 13px;\r\n}\r\n</style>\r\n"]}]}