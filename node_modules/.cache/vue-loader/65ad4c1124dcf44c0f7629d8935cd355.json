{"remainingRequest":"/home/mobiotics/Projects/hancom/FormcontrolLatest/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/mobiotics/Projects/hancom/FormcontrolLatest/src/FormDesigner/components/molecules/FDUserform/index.vue?vue&type=style&index=0&id=b5753038&scoped=true&lang=css&","dependencies":[{"path":"/home/mobiotics/Projects/hancom/FormcontrolLatest/src/FormDesigner/components/molecules/FDUserform/index.vue","mtime":1611419998000},{"path":"/home/mobiotics/Projects/hancom/FormcontrolLatest/node_modules/css-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/mobiotics/Projects/hancom/FormcontrolLatest/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/home/mobiotics/Projects/hancom/FormcontrolLatest/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/home/mobiotics/Projects/hancom/FormcontrolLatest/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/mobiotics/Projects/hancom/FormcontrolLatest/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKDQouaW5uZXItdXNlcmZvcm0td2luZG93IHsNCiAgZGlzcGxheTogZmxleDsNCiAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjsNCiAgb3V0bGluZTogMXB4IHNvbGlkIGxpZ2h0c2xhdGVncmF5Ow0KICBvdXRsaW5lLXN0eWxlOiBhdXRvOw0KICBwb3NpdGlvbjogcmVsYXRpdmU7DQogIGJvcmRlcjogNXB4IHNvbGlkIHJnYmEoMTUzLDE4MCwyMDkpOw0KICBib3JkZXItcmFkaXVzOiA1cHg7DQogIG92ZXJmbG93OiBoaWRkZW47DQogIHRvcDogLTVweCAhaW1wb3J0YW50Ow0KICBsZWZ0OiAtNXB4ICFpbXBvcnRhbnQ7DQogIHVzZXItc2VsZWN0OiBub25lOw0KfQ0KLmlubmVyLXdpbmRvdy1ib3JkZXIgew0KICAtLWJvcmRlci13aWR0aDogODsNCiAgLS1zdHJpcGUtZGlzdGFuY2U6IDFweDsNCiAgcG9zaXRpb246IGFic29sdXRlOw0KICBib3JkZXI6IGNhbGModmFyKC0tYm9yZGVyLXdpZHRoKSAqIDFweCkgc29saWQgdHJhbnNwYXJlbnQ7DQogIGJvcmRlci1pbWFnZTogcmVwZWF0aW5nLWxpbmVhci1ncmFkaWVudCgNCiAgICAgIC0xOGRlZywNCiAgICAgIGJsYWNrLA0KICAgICAgdHJhbnNwYXJlbnQgMC4xcHgsDQogICAgICB0cmFuc3BhcmVudCB2YXIoLS1zdHJpcGUtZGlzdGFuY2UpLA0KICAgICAgYmxhY2sgY2FsYyh2YXIoLS1zdHJpcGUtZGlzdGFuY2UpICsgMC45cHgpDQogICAgKQ0KICAgIHZhcigtLWJvcmRlci13aWR0aCk7DQp9DQouaW5uZXItdXNlcmZvcm0taGVhZGVyIHsNCiAgZGlzcGxheTogZ3JpZDsNCiAgZ3JpZC10ZW1wbGF0ZS1jb2x1bW5zOiA5LjVmciAwLjVmcjsNCiAgd2lkdGg6IDEwMCU7DQogIGhlaWdodDogMzBweDsNCiAgYmFja2dyb3VuZC1jb2xvcjogcmdiYSgxNTMsMTgwLDIwOSk7DQp9DQouaW5uZXItd2luZG93LWNvbnRlbnQgew0KICBmbGV4OiAxOw0KICBsZWZ0OiAwcHg7DQogIGJhY2tncm91bmQtcG9zaXRpb246IDlweCA5cHg7DQp9DQouaW5uZXItd2luZG93LWNvbnRlbnQ6Zm9jdXMgew0KICBvdXRsaW5lOiBub25lOw0KfQ0KDQoudWktYnRuIHsNCiAgbWFyZ2luOiAycHg7DQogIGJhY2tncm91bmQ6ICM3ZTdlYTY2NjsNCiAgYm9yZGVyOiAxcHggc29saWQgIzdlN2VhNjY2Ow0KICBoZWlnaHQ6IDE4cHg7DQogIHdpZHRoOiAzMHB4Ow0KICBib3JkZXItcmFkaXVzOiAycHg7DQp9DQoudWktYnRuOmhvdmVyIHsNCiAgYmFja2dyb3VuZDogcmdiYSgyNTUsIDI1NSwgMjU1LCAwLjEpOw0KfQ0KLnVpLWJ0bi5jbG9zZSB7DQogIGJhY2tncm91bmQ6ICNjNDJhMzc7DQp9DQoudWktYnRuIHN2ZyBwYXRoLA0KLnVpLWJ0biBzdmcgcmVjdCwNCi51aS1idG4gc3ZnIHBvbHlnb24gew0KICBmaWxsOiB3aGl0ZTsNCn0NCi51aS1idG4gc3ZnIHsNCiAgd2lkdGg6IDEwcHg7DQogIGhlaWdodDogMTBweDsNCiAgc3Ryb2tlOiB3aGl0ZTsNCiAgc3Ryb2tlLXdpZHRoOiAycHg7DQp9DQouY2xvc2VCdXR0b24gew0KICBmbG9hdDogcmlnaHQ7DQp9DQoub3V0ZXItd2luZG93LWJ1dHRvbiB7DQogIHBhZGRpbmctcmlnaHQ6IDEwcHg7DQp9DQoudWktdGl0bGVjb250cm9scyB7DQogIGRpc3BsYXk6IGdyaWQ7DQogIGdyaWQtdGVtcGxhdGUtY29sdW1uczogMWZyIDFmciAxZnI7DQp9DQoubWFpbkRpdiB7DQogIHBvc2l0aW9uOiBhYnNvbHV0ZTsNCiAgLS1ib3JkZXItd2lkdGg6IDU7DQogIC0tc3RyaXBlLWRpc3RhbmNlOiAycHg7DQogIGJvcmRlcjogY2FsYyh2YXIoLS1ib3JkZXItd2lkdGgpICogMXB4KSBzb2xpZCB0cmFuc3BhcmVudDsNCiAgYm9yZGVyLWltYWdlOiByZXBlYXRpbmctbGluZWFyLWdyYWRpZW50KA0KICAgICAgLTExMGRlZywNCiAgICAgIGJsYWNrLA0KICAgICAgdHJhbnNwYXJlbnQgMXB4LA0KICAgICAgdHJhbnNwYXJlbnQgdmFyKC0tc3RyaXBlLWRpc3RhbmNlKSwNCiAgICAgIGJsYWNrIGNhbGModmFyKC0tc3RyaXBlLWRpc3RhbmNlKSArIDAuMnB4KQ0KICAgICkNCiAgICB2YXIoLS1ib3JkZXItd2lkdGgpOw0KfQ0KLm1haW5EaXYxIHsNCiAgcG9zaXRpb246IGFic29sdXRlOw0KfQ0KDQo6Zm9jdXMgew0KICBvdXRsaW5lOiBub25lOw0KfQ0KLmNvbnRhaW5lcnsNCiAgd2lkdGg6MTAwJTsNCiAgaGVpZ2h0OiAxMDAlOw0KfQ0KLmlubmVyV2luZG93SGVhZGVyU3R5bGV7DQogIG92ZXJmbG93OiBoaWRkZW47DQogIHRleHQtb3ZlcmZsb3c6IGVsbGlwc2lzOw0KICB3aGl0ZS1zcGFjZTogcHJlOw0KfQ0K"},{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA+NA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"index.vue","sourceRoot":"src/FormDesigner/components/molecules/FDUserform","sourcesContent":["<template>\r\n  <div class=\"inner-userform-window\" :style=\"innerWindowStyle\">\r\n    <div class=\"inner-userform-header\">\r\n      <div class=\"innerWindowHeaderStyle\" :style=\"innerWindowHeaderStyle\">\r\n          {{ properties.Caption }}\r\n      </div>\r\n      <div>\r\n        <button class=\"ui-btn close closeButton\">\r\n          <FDSVGImage name=\"close-button.svg\" />\r\n        </button>\r\n      </div>\r\n    </div>\r\n    <div :style=\"innerWindowBody\">\r\n    <div\r\n      class=\"inner-window-content\"\r\n      :style=\"innerWindowBodyStyle\"\r\n      @click=\"addControlObj($event, data)\"\r\n      @mousedown=\"deActiveControl(this)\"\r\n      @contextmenu.stop=\"showContextMenu($event, userFormId, controlId, 'container')\"\r\n      @mouseup=\"dragSelectorControl($event)\"\r\n      ref=\"innerUserForm\"\r\n      @scroll=\"updateScrollingLeftTop\"\r\n    >\r\n      <Container\r\n        class=\"container\"\r\n        :userFormId=\"userFormId\"\r\n        :controlId=\"controlId\"\r\n        :containerId=\"controlId\"\r\n        :isEditMode=\"true\"\r\n        ref=\"containerRef\"\r\n        :mouseCursorData=\"getMouseCursorData\"\r\n        :getSampleDotPattern=\"getSampleDotPattern\"\r\n      >\r\n      </Container>\r\n    </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script lang=\"ts\">\r\nimport { Component, Emit, Prop, Vue, Ref, Watch } from 'vue-property-decorator'\r\nimport Container from '@/FormDesigner/components/organisms/FDContainer/index.vue'\r\nimport { State, Action } from 'vuex-class'\r\nimport FDSVGImage from '@/FormDesigner/components/atoms/FDSVGImage/index.vue'\r\nimport { controlProperties } from '@/FormDesigner/controls-properties'\r\nimport FdContainerVue from '@/api/abstract/FormDesigner/FdContainerVue'\r\nimport { IupdateControl } from '@/storeModules/fd/actions'\r\nimport { EventBus } from '@/FormDesigner/event-bus'\r\n@Component({\r\n  name: 'UserForm',\r\n  components: {\r\n    FDSVGImage,\r\n    Container\r\n  }\r\n})\r\nexport default class UserForm extends FdContainerVue {\r\n  @Ref('containerRef') readonly containerRef!: Container;\r\n  @Ref('innerUserForm') readonly innerUserForm!: HTMLDivElement;\r\n  @Action('fd/updateControl') updateControl!: (payload: IupdateControl) => void;\r\n\r\n  innerWindowFocused: boolean = false;\r\n  innerWindowFocus (value: boolean) {\r\n    this.innerWindowFocused = value\r\n  }\r\n  mounted () {\r\n    this.scrollLeftTop(this.data)\r\n  }\r\n  @Watch('properties.ScrollLeft', { deep: true })\r\n  updateScrollLeft () {\r\n    this.scrollLeftTop(this.data)\r\n  }\r\n\r\n  @Watch('properties.ScrollTop', { deep: true })\r\n  updateScrollTop () {\r\n    this.scrollLeftTop(this.data)\r\n  }\r\n\r\n  /**\r\n   * @description Returns string value for CSS background style\r\n   * @function createBackgroundString\r\n   *\r\n   */\r\n  protected get createBackgroundString () {\r\n    return `url(${this.properties.Picture})`\r\n  }\r\n\r\n  protected get getSampleDotPattern () {\r\n    const dotSize = 1\r\n    const dotSpace = 10\r\n    return {\r\n      backgroundPosition: `7px 7px`,\r\n      backgroundImage: `radial-gradient(${this.properties.ForeColor} 11%, transparent 10%)`,\r\n      backgroundSize: `${dotSpace}px ${dotSpace}px`\r\n    }\r\n  }\r\n\r\n  /**\r\n   * @description sets scrollbar left and top position\r\n   * @function scrollLeftTop\r\n   * @param controlData propControlData passed as input\r\n   */\r\n  scrollLeftTop (controlData: controlData) {\r\n    const refName: IScrollRef = this.innerUserForm\r\n    const scrollLeft: number = this.properties.ScrollLeft!\r\n    const scrollTop: number = this.properties.ScrollTop!\r\n    if (scrollLeft > 0) {\r\n      refName.scrollLeft = scrollLeft\r\n    }\r\n    if (scrollTop > 0) {\r\n      refName.scrollTop = scrollTop\r\n    }\r\n  }\r\n  /**\r\n   * @description style object to dynamically changing the styles of the component based on propControlData\r\n   * @function innerWindowStyle\r\n   *\r\n   */\r\n  protected get innerWindowStyle (): Partial<CSSStyleDeclaration> {\r\n    return {\r\n      margin: '5px',\r\n      left: `${this.properties.Left}px`,\r\n      width: `${this.properties.Width}px`,\r\n      height: `${this.properties.Height}px`,\r\n      top: `${this.properties.Top}px`\r\n    }\r\n  }\r\n  protected get innerWindowBody (): Partial<CSSStyleDeclaration> {\r\n    return {\r\n      position: 'relative',\r\n      width: '100%',\r\n      height: '100%',\r\n      backgroundColor: this.properties.BackColor,\r\n      overflowX: this.getScrollBarX,\r\n      overflowY: this.getScrollBarY\r\n    }\r\n  }\r\n  protected get innerWindowBodyStyle (): Partial<CSSStyleDeclaration> {\r\n    const font: font = this.properties.Font\r\n      ? this.properties.Font\r\n      : {\r\n        FontName: 'Arial',\r\n        FontSize: 10\r\n      }\r\n    const scale = (this.properties.Zoom! * 10) / 100\r\n    const controlProp = this.properties\r\n    return {\r\n      height: controlProp.ScrollHeight === 0 || controlProp.ScrollHeight! < controlProp.Height! ? (controlProp.Height! - 30) + 'px' : (controlProp.ScrollHeight! - 30) + 'px',\r\n      width: controlProp.ScrollWidth === 0 || controlProp.ScrollWidth! < controlProp.Width! ? controlProp.Width! + 'px' : controlProp.ScrollWidth! + 'px',\r\n      borderLeft: this.data.properties.BorderStyle === 1 ? '1px solid ' + this.data.properties.BorderColor : this.data.properties.SpecialEffect === 2 ? '2px solid gray' : this.data.properties.SpecialEffect === 3 ? '1.5px solid gray' : this.data.properties.SpecialEffect === 4 ? '0.5px solid gray' : '',\r\n      borderRight: this.data.properties.BorderStyle === 1 ? '1px solid ' + this.data.properties.BorderColor : this.data.properties.SpecialEffect === 1 ? '2px solid gray' : this.data.properties.SpecialEffect === 4 ? '1.5px solid gray' : this.data.properties.SpecialEffect === 3 ? '0.5px solid gray' : '',\r\n      borderTop: this.data.properties.BorderStyle === 1 ? '1px solid ' + this.data.properties.BorderColor : this.data.properties.SpecialEffect === 2 ? '2px solid gray' : this.data.properties.SpecialEffect === 3 ? '1.5px solid gray' : this.data.properties.SpecialEffect === 4 ? '0.5px solid gray' : '',\r\n      borderBottom: this.data.properties.BorderStyle === 1 ? '1px solid ' + this.data.properties.BorderColor : this.data.properties.SpecialEffect === 1 ? '2px solid gray' : this.data.properties.SpecialEffect === 4 ? '1.5px solid gray' : this.data.properties.SpecialEffect === 3 ? '0.5px solid gray' : '',\r\n      cursor:\r\n        this.properties.MousePointer !== 0 || this.properties.MouseIcon !== ''\r\n          ? `${this.getMouseCursorData} !important`\r\n          : 'default !important',\r\n      fontFamily: font.FontStyle ? font.FontStyle : font.FontName,\r\n      fontSize: `${font.FontSize}px`,\r\n      fontStyle: font.FontItalic ? 'italic' : '',\r\n      textDecoration:\r\n        font.FontStrikethrough === true && font.FontUnderline === true\r\n          ? 'underline line-through'\r\n          : font.FontUnderline\r\n            ? 'underline'\r\n            : font.FontStrikethrough\r\n              ? 'line-through'\r\n              : '',\r\n      fontWeight: font.FontBold ? 'bold' : '',\r\n      borderColor: this.data.properties.BorderStyle === 1 ? this.data.properties.BorderColor : '',\r\n      backgroundImage: this.createBackgroundString,\r\n      backgroundSize: this.getSizeMode,\r\n      backgroundRepeat: this.getRepeatData,\r\n      backgroundPosition: this.getPosition\r\n    }\r\n  }\r\n\r\n  updateScrollingLeftTop (e: MouseEvent) {\r\n    const refName = this.innerUserForm\r\n    this.updateControl({\r\n      userFormId: this.userFormId,\r\n      controlId: this.controlId,\r\n      propertyName: 'ScrollLeft',\r\n      value: refName.scrollLeft\r\n    })\r\n    this.updateControl({\r\n      userFormId: this.userFormId,\r\n      controlId: this.controlId,\r\n      propertyName: 'ScrollTop',\r\n      value: refName.scrollTop\r\n    })\r\n    console.log('scroll', this.userformData[this.userFormId][this.userFormId].properties)\r\n  }\r\n\r\n  dragSelectorControl (event: MouseEvent) {\r\n    this.selectedControlArray = []\r\n    this.selectedAreaStyle = this.containerRef.dragSelector.selectAreaStyle\r\n    this.calSelectedAreaStyle(event, this.data)\r\n  }\r\n\r\n  showContextMenu (e: MouseEvent, parentID: string, controlID: string, type: string, mode: boolean) {\r\n    EventBus.$emit('contextMenuDisplay', event, parentID, controlID, type, mode)\r\n  }\r\n  created () {\r\n    EventBus.$on('selectMultipleCtrl', (val: boolean) => {\r\n      this.selMultipleCtrl = val\r\n    })\r\n    EventBus.$on('actMultipleCtrl', (val: boolean) => {\r\n      this.activateCtrl = val\r\n    })\r\n  }\r\n  destroyed () {\r\n    EventBus.$off('selectMultipleCtrl')\r\n    EventBus.$off('actMultipleCtrl')\r\n  }\r\n  get innerWindowHeaderStyle () {\r\n    return {\r\n      textAlign: this.properties.RightToLeft ? 'right' : 'left'\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.inner-userform-window {\r\n  display: flex;\r\n  flex-direction: column;\r\n  outline: 1px solid lightslategray;\r\n  outline-style: auto;\r\n  position: relative;\r\n  border: 5px solid rgba(153,180,209);\r\n  border-radius: 5px;\r\n  overflow: hidden;\r\n  top: -5px !important;\r\n  left: -5px !important;\r\n  user-select: none;\r\n}\r\n.inner-window-border {\r\n  --border-width: 8;\r\n  --stripe-distance: 1px;\r\n  position: absolute;\r\n  border: calc(var(--border-width) * 1px) solid transparent;\r\n  border-image: repeating-linear-gradient(\r\n      -18deg,\r\n      black,\r\n      transparent 0.1px,\r\n      transparent var(--stripe-distance),\r\n      black calc(var(--stripe-distance) + 0.9px)\r\n    )\r\n    var(--border-width);\r\n}\r\n.inner-userform-header {\r\n  display: grid;\r\n  grid-template-columns: 9.5fr 0.5fr;\r\n  width: 100%;\r\n  height: 30px;\r\n  background-color: rgba(153,180,209);\r\n}\r\n.inner-window-content {\r\n  flex: 1;\r\n  left: 0px;\r\n  background-position: 9px 9px;\r\n}\r\n.inner-window-content:focus {\r\n  outline: none;\r\n}\r\n\r\n.ui-btn {\r\n  margin: 2px;\r\n  background: #7e7ea666;\r\n  border: 1px solid #7e7ea666;\r\n  height: 18px;\r\n  width: 30px;\r\n  border-radius: 2px;\r\n}\r\n.ui-btn:hover {\r\n  background: rgba(255, 255, 255, 0.1);\r\n}\r\n.ui-btn.close {\r\n  background: #c42a37;\r\n}\r\n.ui-btn svg path,\r\n.ui-btn svg rect,\r\n.ui-btn svg polygon {\r\n  fill: white;\r\n}\r\n.ui-btn svg {\r\n  width: 10px;\r\n  height: 10px;\r\n  stroke: white;\r\n  stroke-width: 2px;\r\n}\r\n.closeButton {\r\n  float: right;\r\n}\r\n.outer-window-button {\r\n  padding-right: 10px;\r\n}\r\n.ui-titlecontrols {\r\n  display: grid;\r\n  grid-template-columns: 1fr 1fr 1fr;\r\n}\r\n.mainDiv {\r\n  position: absolute;\r\n  --border-width: 5;\r\n  --stripe-distance: 2px;\r\n  border: calc(var(--border-width) * 1px) solid transparent;\r\n  border-image: repeating-linear-gradient(\r\n      -110deg,\r\n      black,\r\n      transparent 1px,\r\n      transparent var(--stripe-distance),\r\n      black calc(var(--stripe-distance) + 0.2px)\r\n    )\r\n    var(--border-width);\r\n}\r\n.mainDiv1 {\r\n  position: absolute;\r\n}\r\n\r\n:focus {\r\n  outline: none;\r\n}\r\n.container{\r\n  width:100%;\r\n  height: 100%;\r\n}\r\n.innerWindowHeaderStyle{\r\n  overflow: hidden;\r\n  text-overflow: ellipsis;\r\n  white-space: pre;\r\n}\r\n</style>\r\n"]}]}