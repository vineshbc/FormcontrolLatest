{"remainingRequest":"/home/mobiotics/Projects/hancom/FormcontrolLatest/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/mobiotics/Projects/hancom/FormcontrolLatest/src/FormDesigner/components/organisms/FDGroupControl/index.vue?vue&type=script&lang=ts&","dependencies":[{"path":"/home/mobiotics/Projects/hancom/FormcontrolLatest/src/FormDesigner/components/organisms/FDGroupControl/index.vue","mtime":1612247696000},{"path":"/home/mobiotics/Projects/hancom/FormcontrolLatest/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/mobiotics/Projects/hancom/FormcontrolLatest/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/mobiotics/Projects/hancom/FormcontrolLatest/node_modules/ts-loader/index.js","mtime":499162500000},{"path":"/home/mobiotics/Projects/hancom/FormcontrolLatest/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/mobiotics/Projects/hancom/FormcontrolLatest/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKDQppbXBvcnQgeyBDb21wb25lbnQsIFZ1ZSwgUHJvcCwgV2F0Y2gsIFJlZiB9IGZyb20gJ3Z1ZS1wcm9wZXJ0eS1kZWNvcmF0b3InDQppbXBvcnQgew0KICBJc2VsZWN0Q29udHJvbCwNCiAgSXVwZGF0ZUNvbnRyb2wsDQogIEl1cGRhdGVHcm91cA0KfSBmcm9tICdAL3N0b3JlTW9kdWxlcy9mZC9hY3Rpb25zJw0KaW1wb3J0IHsgU3RhdGUsIEFjdGlvbiB9IGZyb20gJ3Z1ZXgtY2xhc3MnDQppbXBvcnQgeyBFdmVudEJ1cyB9IGZyb20gJ0AvRm9ybURlc2lnbmVyL2V2ZW50LWJ1cycNCmltcG9ydCBGRENvbW1vbk1ldGhvZCBmcm9tICdAL2FwaS9hYnN0cmFjdC9Gb3JtRGVzaWduZXIvRkRDb21tb25NZXRob2QnDQpAQ29tcG9uZW50KHsNCiAgbmFtZTogJ0dyb3VwQ29udHJvbCcsDQogIGNvbXBvbmVudHM6IHt9DQp9KQ0KZXhwb3J0IGRlZmF1bHQgY2xhc3MgR3JvdXBDb250cm9sIGV4dGVuZHMgRkRDb21tb25NZXRob2Qgew0KICBAU3RhdGUoKHN0YXRlKSA9PiBzdGF0ZS5mZC5ncm91cGVkQ29udHJvbHMpIGdyb3VwZWRDb250cm9scyE6IGdyb3VwZWRDb250cm9sczsNCiAgQFN0YXRlKChzdGF0ZSkgPT4gc3RhdGUuZmQuc2VsZWN0ZWRDb250cm9scykNCiAgc2VsZWN0ZWRDb250cm9scyE6IGZkU3RhdGVbJ3NlbGVjdGVkQ29udHJvbHMnXTsNCiAgQFN0YXRlKChzdGF0ZSkgPT4gc3RhdGUuZmQudXNlcmZvcm1EYXRhKSB1c2VyZm9ybURhdGEhOiB1c2VyZm9ybURhdGE7DQoNCiAgQFByb3AoeyByZXF1aXJlZDogdHJ1ZSwgdHlwZTogQXJyYXkgfSkgcHVibGljIGN1cnJlbnRTZWxlY3RlZEdyb3VwITogc3RyaW5nW107DQogIEBQcm9wKHsgcmVxdWlyZWQ6IHRydWUsIHR5cGU6IFN0cmluZyB9KSBwdWJsaWMgdXNlckZvcm1JZCE6IHN0cmluZzsNCiAgQFByb3AoeyByZXF1aXJlZDogdHJ1ZSwgdHlwZTogU3RyaW5nIH0pIHB1YmxpYyBjb250YWluZXJJZCE6IHN0cmluZzsNCiAgQFByb3AoKSBjb250cm9sUmVmOiBhbnk7DQoNCiAgQEFjdGlvbignZmQvdXBkYXRlQ29udHJvbCcpIHVwZGF0ZUNvbnRyb2whOiAocGF5bG9hZDogSXVwZGF0ZUNvbnRyb2wpID0+IHZvaWQ7DQogIEBBY3Rpb24oJ2ZkL3VwZGF0ZUdyb3VwJykgdXBkYXRlR3JvdXAhOiAocGF5bG9hZDogSXVwZGF0ZUdyb3VwKSA9PiB2b2lkOw0KICBAQWN0aW9uKCdmZC9zZWxlY3RDb250cm9sJykgc2VsZWN0Q29udHJvbCE6IChwYXlsb2FkOiBJc2VsZWN0Q29udHJvbCkgPT4gdm9pZDsNCg0KICBkaXZTdHlsZUFycmF5OiBBcnJheTxJR3JvdXBTdHlsZT4gPSBbXTsNCiAgcmVzaXplRGl2OiBzdHJpbmcgPSAnJzsNCg0KICBwb3NpdGlvbnM6IElNb3VzZVBvc2l0aW9uID0gew0KICAgIGNsaWVudFg6IDAsDQogICAgY2xpZW50WTogMCwNCiAgICBtb3ZlbWVudFg6IDAsDQogICAgbW92ZW1lbnRZOiAwLA0KICAgIG9mZnNldFg6IDAsDQogICAgb2Zmc2V0WTogMA0KICB9Ow0KICBncm91cE5hbWU6IHN0cmluZyA9ICcnOw0KICBjb3VudDogbnVtYmVyID0gMDsNCiAgY3VycmVudE1vdXNlRG93bkV2ZW50OiBDdXN0b21Nb3VzZUV2ZW50IHwgbnVsbCA9IG51bGw7DQogIGNvbnRyb2w6IHN0cmluZyA9ICcnDQogIGNvbnRhaW5lcjogc3RyaW5nID0gJycNCiAgY3JlYXRlR3JvdXAgKGdyb3VwTmFtZTogc3RyaW5nKSB7DQogICAgdGhpcy5ncm91cFN0eWxlKGdyb3VwTmFtZSkNCiAgfQ0KICB2YWx1ZSA9ICdkaWZmZXJlbnQnDQogIGlzTWFpblNlbGVjdCA9IGZhbHNlOw0KICBpc01vdmU6IGJvb2xlYW4gPSBmYWxzZQ0KICB0ZW1wRXZlbnQgPSB7fQ0KDQogIGNyZWF0ZWQgKCkgew0KICAgIEV2ZW50QnVzLiRvbignZ2V0R3JvdXBNb3ZlVmFsdWUnLCB0aGlzLmdldEdyb3VwTW92ZVZhbHVlKQ0KICAgIEV2ZW50QnVzLiRvbignc3RhcnRHcm91cE1vdmVDb250cm9sJywgdGhpcy5zdGFydEdyb3VwTW92ZUNvbnRyb2wpDQogICAgRXZlbnRCdXMuJG9uKCdtb3ZlR3JvdXBDb250cm9sJywgdGhpcy5tb3ZlR3JvdXBDb250cm9sKQ0KICAgIEV2ZW50QnVzLiRvbignZW5kR3JvdXBNb3ZlQ29udHJvbCcsIHRoaXMuZW5kR3JvdXBNb3ZlQ29udHJvbCkNCiAgICBFdmVudEJ1cy4kb24oJ2dldENsaWVudFZhbHVlJywgdGhpcy5nZXRDbGllbnRWYWx1ZSkNCiAgICBFdmVudEJ1cy4kb24oJ3VwZGFzdGVHcm91cFNpemUnLCB0aGlzLnVwZGFzdGVHcm91cFNpemUpDQogICAgRXZlbnRCdXMuJG9uKCdnZXRHcm91cFNpemUnLCB0aGlzLmdldEdyb3VwU2l6ZSkNCiAgICBFdmVudEJ1cy4kb24oJ2dyb3VwRWxlbWVudERyYWcnLCB0aGlzLmVsZW1lbnREcmFnKQ0KICB9DQogIGRlc3Ryb3llZCAoKSB7DQogICAgRXZlbnRCdXMuJG9mZignZ2V0R3JvdXBNb3ZlVmFsdWUnLCB0aGlzLmdldEdyb3VwTW92ZVZhbHVlKQ0KICAgIEV2ZW50QnVzLiRvZmYoJ3N0YXJ0R3JvdXBNb3ZlQ29udHJvbCcsIHRoaXMuc3RhcnRHcm91cE1vdmVDb250cm9sKQ0KICAgIEV2ZW50QnVzLiRvZmYoJ21vdmVHcm91cENvbnRyb2wnLCB0aGlzLm1vdmVHcm91cENvbnRyb2wpDQogICAgRXZlbnRCdXMuJG9mZignZW5kR3JvdXBNb3ZlQ29udHJvbCcsIHRoaXMuZW5kR3JvdXBNb3ZlQ29udHJvbCkNCiAgICBFdmVudEJ1cy4kb2ZmKCdnZXRDbGllbnRWYWx1ZScsIHRoaXMuZ2V0Q2xpZW50VmFsdWUpDQogICAgRXZlbnRCdXMuJG9mZigndXBkYXN0ZUdyb3VwU2l6ZScsIHRoaXMudXBkYXN0ZUdyb3VwU2l6ZSkNCiAgICBFdmVudEJ1cy4kb2ZmKCdnZXRHcm91cFNpemUnLCB0aGlzLmdldEdyb3VwU2l6ZSkNCiAgICBFdmVudEJ1cy4kb2ZmKCdncm91cEVsZW1lbnREcmFnJywgdGhpcy5lbGVtZW50RHJhZykNCiAgfQ0KICBjb252ZXJ0VG9HcmlkU2l6ZSAodmFsOiBudW1iZXIpIHsNCiAgICBjb25zdCBncmlkU2l6ZSA9IDkNCiAgICByZXR1cm4gTWF0aC5yb3VuZCh2YWwgLyBncmlkU2l6ZSkgKiBncmlkU2l6ZQ0KICB9DQogIHVwZGFzdGVHcm91cFNpemUgKHByb3BOYW1lOiBrZXlvZiBjb250cm9sUHJvcGVydGllcywgcHJvcGVydHlWYWx1ZTogbnVtYmVyLCBncm91cEluZGV4OiBudW1iZXIpIHsNCiAgICBpZiAodGhpcy5zZWxlY3RlZENvbnRyb2xzW3RoaXMudXNlckZvcm1JZF0uY29udGFpbmVyWzBdID09PSB0aGlzLmNvbnRhaW5lcklkKSB7DQogICAgICBpZiAocHJvcE5hbWUgPT09ICdHcm91cElEJykgew0KICAgICAgICB0aGlzLmRpdlN0eWxlQXJyYXlbZ3JvdXBJbmRleF0ubGVmdCA9IGAke3RoaXMuY29udmVydFRvR3JpZFNpemUocGFyc2VJbnQodGhpcy5kaXZTdHlsZUFycmF5W2dyb3VwSW5kZXhdLmxlZnQhKSl9cHhgDQogICAgICAgIHRoaXMuZGl2U3R5bGVBcnJheVtncm91cEluZGV4XS5oZWlnaHQgPSBgJHt0aGlzLmNvbnZlcnRUb0dyaWRTaXplKHBhcnNlSW50KHRoaXMuZGl2U3R5bGVBcnJheVtncm91cEluZGV4XS5oZWlnaHQhKSl9cHhgDQogICAgICAgIHRoaXMuZGl2U3R5bGVBcnJheVtncm91cEluZGV4XS50b3AgPSBgJHt0aGlzLmNvbnZlcnRUb0dyaWRTaXplKHBhcnNlSW50KHRoaXMuZGl2U3R5bGVBcnJheVtncm91cEluZGV4XS50b3AhKSl9cHhgDQogICAgICAgIHRoaXMuZGl2U3R5bGVBcnJheVtncm91cEluZGV4XS53aWR0aCA9IGAke3RoaXMuY29udmVydFRvR3JpZFNpemUocGFyc2VJbnQodGhpcy5kaXZTdHlsZUFycmF5W2dyb3VwSW5kZXhdLndpZHRoISkpfXB4YA0KICAgICAgfSBlbHNlIHsNCiAgICAgICAgdGhpcy5ncm91cFN0eWxlKHRoaXMuZGl2U3R5bGVBcnJheVtncm91cEluZGV4XS5ncm91cE5hbWUhKQ0KICAgICAgICB0aGlzLnVwZGF0ZWRWYWx1ZShncm91cEluZGV4LCBwcm9wTmFtZSwgcHJvcGVydHlWYWx1ZSkNCiAgICAgICAgdGhpcy5ncm91cFN0eWxlKHRoaXMuZGl2U3R5bGVBcnJheVtncm91cEluZGV4XS5ncm91cE5hbWUhKQ0KICAgICAgfQ0KICAgIH0NCiAgfQ0KICB1cGRhdGVkVmFsdWUgKGdyb3VwSW5kZXg6IG51bWJlciwgcHJvcE5hbWU6IGtleW9mIGNvbnRyb2xQcm9wZXJ0aWVzLCBkaWZmOiBudW1iZXIpIHsNCiAgICBmb3IgKGNvbnN0IGogaW4gdGhpcy51c2VyZm9ybURhdGFbdGhpcy51c2VyRm9ybUlkXVt0aGlzLmNvbnRhaW5lcklkXS5jb250cm9scykgew0KICAgICAgY29uc3QgaW5kZXggPSB0aGlzLnVzZXJmb3JtRGF0YVt0aGlzLnVzZXJGb3JtSWRdW3RoaXMuY29udGFpbmVySWRdLmNvbnRyb2xzW2pdDQogICAgICBjb25zdCBjb250cm9sUHJvcCA9IHRoaXMudXNlcmZvcm1EYXRhW3RoaXMudXNlckZvcm1JZF1baW5kZXhdLnByb3BlcnRpZXMNCiAgICAgIGNvbnN0IGRpdlN0eWxlID0gdGhpcy5kaXZTdHlsZUFycmF5W2dyb3VwSW5kZXhdDQogICAgICBpZiAoY29udHJvbFByb3AuR3JvdXBJRCAmJiBjb250cm9sUHJvcC5Hcm91cElEID09PSBkaXZTdHlsZS5ncm91cE5hbWUpIHsNCiAgICAgICAgaWYgKHByb3BOYW1lID09PSAnTGVmdCcpIHsNCiAgICAgICAgICBsZXQgbGVmdDogbnVtYmVyID0gZGlmZiArIHRoaXMubGVmdEFycmF5W2pdDQogICAgICAgICAgdGhpcy51cGRhdGVDb250cm9sQWN0aW9uKHByb3BOYW1lLCBsZWZ0LCBpbmRleCkNCiAgICAgICAgfSBlbHNlIGlmIChwcm9wTmFtZSA9PT0gJ1RvcCcpIHsNCiAgICAgICAgICBsZXQgdG9wOiBudW1iZXIgPSBkaWZmICsgdGhpcy50b3BBcnJheVtqXQ0KICAgICAgICAgIHRoaXMudXBkYXRlQ29udHJvbEFjdGlvbihwcm9wTmFtZSwgdG9wLCBpbmRleCkNCiAgICAgICAgfSBlbHNlIGlmIChwcm9wTmFtZSA9PT0gJ1dpZHRoJykgew0KICAgICAgICAgIGxldCBsZWZ0ID0gKGRpZmYgKiB0aGlzLmxlZnRBcnJheVtqXSkgLyBwYXJzZUludChkaXZTdHlsZS53aWR0aCEpICsgcGFyc2VJbnQoZGl2U3R5bGUubGVmdCEpDQogICAgICAgICAgbGV0IHdpZHRoID0gZGlmZiAqIHRoaXMucGVyY3dpZHRoQXJyYXlbal0NCiAgICAgICAgICB0aGlzLnVwZGF0ZUNvbnRyb2xBY3Rpb24oJ0xlZnQnLCBsZWZ0LCBpbmRleCkNCiAgICAgICAgICB0aGlzLnVwZGF0ZUNvbnRyb2xBY3Rpb24ocHJvcE5hbWUsIHdpZHRoLCBpbmRleCkNCiAgICAgICAgfSBlbHNlIGlmIChwcm9wTmFtZSA9PT0gJ0hlaWdodCcpIHsNCiAgICAgICAgICBsZXQgdG9wID0gKGRpZmYgKiB0aGlzLnRvcEFycmF5W2pdKSAvIHBhcnNlSW50KGRpdlN0eWxlLmhlaWdodCEpICsgcGFyc2VJbnQoZGl2U3R5bGUudG9wISkNCiAgICAgICAgICBsZXQgaGVpZ2h0ID0gZGlmZiAqIHRoaXMucGVyY2hlaWdodEFycmF5W2pdDQogICAgICAgICAgdGhpcy51cGRhdGVDb250cm9sQWN0aW9uKCdUb3AnLCB0b3AsIGluZGV4KQ0KICAgICAgICAgIHRoaXMudXBkYXRlQ29udHJvbEFjdGlvbihwcm9wTmFtZSwgaGVpZ2h0LCBpbmRleCkNCiAgICAgICAgfQ0KICAgICAgfQ0KICAgIH0NCiAgfQ0KICBnZXRDbGllbnRWYWx1ZSAodmFsdWU6IHN0cmluZywgY29udGFpbmVyWDogbnVtYmVyLCBjb250YWluZXJZOiBudW1iZXIsIGV2ZW50OiBNb3VzZUV2ZW50LCBjb250YWluZXI6IHN0cmluZywgcHJldmlvdXNFdmVudDogTW91c2VFdmVudCkgew0KICAgIHRoaXMudmFsdWUgPSB2YWx1ZQ0KICAgIHRoaXMuY29udGFpbmVyID0gY29udGFpbmVyDQogICAgaWYgKGNvbnRhaW5lciA9PT0gdGhpcy5jb250YWluZXJJZCkgew0KICAgICAgdGhpcy5wb3NpdGlvbnMuY2xpZW50WCA9IHByZXZpb3VzRXZlbnQuY2xpZW50WA0KICAgICAgdGhpcy5wb3NpdGlvbnMuY2xpZW50WSA9IHByZXZpb3VzRXZlbnQuY2xpZW50WQ0KICAgICAgdGhpcy5wb3NpdGlvbnMub2Zmc2V0WCA9IHByZXZpb3VzRXZlbnQub2Zmc2V0WA0KICAgICAgdGhpcy5wb3NpdGlvbnMub2Zmc2V0WSA9IHByZXZpb3VzRXZlbnQub2Zmc2V0WQ0KICAgICAgdGhpcy5lbGVtZW50TW91c2VEcmFnKGV2ZW50LCBjb250YWluZXJYLCBjb250YWluZXJZLCBwcmV2aW91c0V2ZW50KQ0KICAgIH0NCiAgfQ0KICBnZXRHcm91cE1vdmVWYWx1ZSAoY2FsbEJhY2s6IEZ1bmN0aW9uKSB7DQogICAgY2FsbEJhY2soDQogICAgICB0aGlzLnBvc2l0aW9ucy5vZmZzZXRYLA0KICAgICAgdGhpcy5wb3NpdGlvbnMub2Zmc2V0WSwNCiAgICAgIHRoaXMuY29udHJvbCwNCiAgICAgIHRoaXMudGVtcEV2ZW50DQogICAgKQ0KICB9DQogIGdldEdyb3VwU2l6ZSAoY2FsbEJhY2s6IEZ1bmN0aW9uKSB7DQogICAgaWYgKHRoaXMuY29udGFpbmVySWQgPT09IHRoaXMuc2VsZWN0ZWRDb250cm9sc1t0aGlzLnVzZXJGb3JtSWRdLmNvbnRhaW5lclswXSkgew0KICAgICAgY2FsbEJhY2sodGhpcy5kaXZTdHlsZUFycmF5KQ0KICAgIH0NCiAgfQ0KICBlbmRHcm91cE1vdmVDb250cm9sICgpIHsNCiAgICAvLyBpZiAodGhpcy5nZXRJc01vdmVUYXJnZXQpIHsNCiAgICB0aGlzLnBvc2l0aW9ucy5tb3ZlbWVudFggPSAwDQogICAgdGhpcy5wb3NpdGlvbnMubW92ZW1lbnRZID0gMA0KICAgIHRoaXMuaXNNb3ZlID0gZmFsc2UNCiAgICAvLyB9DQogIH0NCiAgdG9wQXJyYXk6IG51bWJlcltdID0gW107DQogIGxlZnRBcnJheTogbnVtYmVyW10gPSBbXTsNCg0KICBwZXJjd2lkdGhBcnJheTogbnVtYmVyW10gPSBbXTsNCiAgcGVyY2hlaWdodEFycmF5OiBudW1iZXJbXSA9IFtdOw0KDQogIGluaXRpYWxBcnJheTogQXJyYXk8SUdyb3VwU3R5bGU+ID0gW107DQoNCiAgZ2V0IGdldElzTW92ZVRhcmdldCAoKSB7DQogICAgY29uc3QgaXNHcm91cFByc2VudCA9IHRoaXMuc2VsZWN0ZWRDb250cm9sc1t0aGlzLnVzZXJGb3JtSWRdLnNlbGVjdGVkLmZpbmRJbmRleCgodmFsOiBzdHJpbmcpID0+IHsNCiAgICAgIHZhbC5zdGFydHNXaXRoKCdncm91cCcpDQogICAgfSkNCiAgICByZXR1cm4gaXNHcm91cFByc2VudCA9PT0gLTENCiAgfQ0KICBzdGFydEdyb3VwTW92ZUNvbnRyb2wgKGV2ZW50OiBNb3VzZUV2ZW50KSB7DQogICAgaWYgKHRoaXMuZ2V0SXNNb3ZlVGFyZ2V0KSB7DQogICAgICB0aGlzLnBvc2l0aW9ucy5jbGllbnRYID0gZXZlbnQuY2xpZW50WA0KICAgICAgdGhpcy5wb3NpdGlvbnMuY2xpZW50WSA9IGV2ZW50LmNsaWVudFkNCiAgICB9DQogIH0NCg0KICBtb3ZlR3JvdXBDb250cm9sIChldmVudDogTW91c2VFdmVudCkgew0KICAgIGlmICh0aGlzLmdldElzTW92ZVRhcmdldCkgew0KICAgICAgLy8gICB0aGlzLm1vdmVCb3JkZXIoZXZlbnQpDQogICAgICBpZiAoZXZlbnQubW92ZW1lbnRYICE9PSAwICYmIGV2ZW50Lm1vdmVtZW50WSAhPT0gMCkgew0KICAgICAgICBFdmVudEJ1cy4kZW1pdCgnbW92ZUNvbnRyb2wnLCBldmVudCwgJ2dyb3VwQ29udHJvbERyYWcnKQ0KICAgICAgICBFdmVudEJ1cy4kZW1pdCgnZ3JvdXBEcmFnJywgJ2dyb3VwZHJhZycpDQogICAgICAgIHRoaXMuaXNNb3ZlID0gdHJ1ZQ0KICAgICAgICAvLyB0aGlzLnVwZGF0ZUlzTW92ZSh0cnVlKQ0KICAgICAgfQ0KICAgIH0NCiAgfQ0KDQogIHVwZGF0ZUNvbnRyb2xBY3Rpb24gKA0KICAgIHByb3BlcnR5TmFtZToga2V5b2YgY29udHJvbFByb3BlcnRpZXMsDQogICAgcHJvcGVydHlWYWx1ZTogbnVtYmVyLA0KICAgIGNvbnRyb2xJZDogc3RyaW5nDQogICkgew0KICAgIHRoaXMudXBkYXRlQ29udHJvbCh7DQogICAgICB1c2VyRm9ybUlkOiB0aGlzLnVzZXJGb3JtSWQsDQogICAgICBjb250cm9sSWQ6IGNvbnRyb2xJZCwNCiAgICAgIHByb3BlcnR5TmFtZTogcHJvcGVydHlOYW1lLA0KICAgICAgdmFsdWU6IHByb3BlcnR5VmFsdWUNCiAgICB9KQ0KICB9DQogIGhhbmRsZXJTdHlsZSAoZ3JvdXBOYW1lOiBzdHJpbmcpIHsNCiAgICBjb25zdCBpc0dyb3VwOiBzdHJpbmcgPSB0aGlzLnNlbGVjdGVkQ29udHJvbHNbdGhpcy51c2VyRm9ybUlkXS5zZWxlY3RlZFswXQ0KICAgIHJldHVybiB7DQogICAgICBiYWNrZ3JvdW5kQ29sb3I6IGlzR3JvdXAgPT09IGdyb3VwTmFtZSA/ICd3aGl0ZScgOiAnYmxhY2snLA0KICAgICAgYm9yZGVyQ29sb3I6IGlzR3JvdXAgPT09IGdyb3VwTmFtZSA/ICdibGFjaycgOiAnd2hpdGUnDQogICAgfQ0KICB9DQogIGdyb3VwU3R5bGUgKGdyb3VwTmFtZTogc3RyaW5nKSB7DQogICAgdGhpcy5jb3VudCArPSAxDQogICAgbGV0IGluZGV4ID0gdGhpcy5kaXZTdHlsZUFycmF5LmZpbmRJbmRleCgNCiAgICAgIChwOiBJR3JvdXBTdHlsZSkgPT4gcC5ncm91cE5hbWUgPT09IGdyb3VwTmFtZQ0KICAgICkNCiAgICBpZiAoaW5kZXggPT09IC0xKSB7DQogICAgICB0aGlzLmRpdlN0eWxlQXJyYXkucHVzaCh7DQogICAgICAgIGxlZnQ6ICcwcHgnLA0KICAgICAgICB0b3A6ICcwcHgnLA0KICAgICAgICB3aWR0aDogJzBweCcsDQogICAgICAgIGhlaWdodDogJzBweCcsDQogICAgICAgIGRpc3BsYXk6ICdub25lJywNCiAgICAgICAgZ3JvdXBOYW1lOiBncm91cE5hbWUNCiAgICAgIH0pDQogICAgfQ0KICAgIGNvbnN0IHN0eWxlTGVmdDogbnVtYmVyW10gPSBbXQ0KICAgIGNvbnN0IHN0eWxlV2lkdGg6IG51bWJlcltdID0gW10NCiAgICBjb25zdCBzdHlsZVRvcDogbnVtYmVyW10gPSBbXQ0KICAgIGNvbnN0IHN0eWxlSGVpZ2h0OiBudW1iZXJbXSA9IFtdDQogICAgZm9yIChjb25zdCBjb250cm9sIG9mIHRoaXMudXNlcmZvcm1EYXRhW3RoaXMudXNlckZvcm1JZF1bdGhpcy5jb250YWluZXJJZF0NCiAgICAgIC5jb250cm9scykgew0KICAgICAgaWYgKA0KICAgICAgICB0aGlzLnVzZXJmb3JtRGF0YVt0aGlzLnVzZXJGb3JtSWRdW2NvbnRyb2xdLnByb3BlcnRpZXMuR3JvdXBJRCA9PT0NCiAgICAgICAgZ3JvdXBOYW1lDQogICAgICApIHsNCiAgICAgICAgY29uc3QgY29udHJvbHByb3AgPSB0aGlzLnVzZXJmb3JtRGF0YVt0aGlzLnVzZXJGb3JtSWRdW2NvbnRyb2xdDQogICAgICAgICAgLnByb3BlcnRpZXMNCiAgICAgICAgc3R5bGVMZWZ0LnB1c2goY29udHJvbHByb3AuTGVmdCEpDQogICAgICAgIHN0eWxlVG9wLnB1c2goY29udHJvbHByb3AuVG9wISkNCiAgICAgICAgc3R5bGVXaWR0aC5wdXNoKGNvbnRyb2xwcm9wLldpZHRoISArIGNvbnRyb2xwcm9wLkxlZnQhKQ0KICAgICAgICBzdHlsZUhlaWdodC5wdXNoKGNvbnRyb2xwcm9wLkhlaWdodCEgKyBjb250cm9scHJvcC5Ub3AhKQ0KICAgICAgfQ0KICAgIH0NCiAgICBpbmRleCA9IHRoaXMuZGl2U3R5bGVBcnJheS5maW5kSW5kZXgoDQogICAgICAocDogSUdyb3VwU3R5bGUpID0+IHAuZ3JvdXBOYW1lID09PSBncm91cE5hbWUNCiAgICApDQogICAgdGhpcy5kaXZTdHlsZUFycmF5W2luZGV4XS5sZWZ0ID0gYCR7TWF0aC5taW4oLi4uc3R5bGVMZWZ0KX1weGANCiAgICB0aGlzLmRpdlN0eWxlQXJyYXlbaW5kZXhdLnRvcCA9IGAke01hdGgubWluKC4uLnN0eWxlVG9wKX1weGANCiAgICB0aGlzLmRpdlN0eWxlQXJyYXlbaW5kZXhdLndpZHRoID0gYCR7DQogICAgICBNYXRoLm1heCguLi5zdHlsZVdpZHRoKSAtIE1hdGgubWluKC4uLnN0eWxlTGVmdCkNCiAgICB9cHhgDQogICAgdGhpcy5kaXZTdHlsZUFycmF5W2luZGV4XS5oZWlnaHQgPSBgJHsNCiAgICAgIE1hdGgubWF4KC4uLnN0eWxlSGVpZ2h0KSAtIE1hdGgubWluKC4uLnN0eWxlVG9wKQ0KICAgIH1weGANCg0KICAgIHRoaXMudG9wQXJyYXkgPSBbXQ0KICAgIHRoaXMubGVmdEFycmF5ID0gW10NCg0KICAgIHRoaXMucGVyY3dpZHRoQXJyYXkgPSBbXQ0KICAgIHRoaXMucGVyY2hlaWdodEFycmF5ID0gW10NCg0KICAgIGZvciAoY29uc3QgY29udHJvbCBvZiB0aGlzLnVzZXJmb3JtRGF0YVt0aGlzLnVzZXJGb3JtSWRdW3RoaXMuY29udGFpbmVySWRdLmNvbnRyb2xzKSB7DQogICAgICBjb25zdCBjb250cm9sUHJvcCA9IHRoaXMudXNlcmZvcm1EYXRhW3RoaXMudXNlckZvcm1JZF1bY29udHJvbF0ucHJvcGVydGllcw0KICAgICAgaWYgKHRoaXMudXNlcmZvcm1EYXRhW3RoaXMudXNlckZvcm1JZF1bY29udHJvbF0udHlwZSAhPT0gJ1VzZWZvcm0nKSB7DQogICAgICAgIGlmIChjb250cm9sUHJvcC5Hcm91cElEICE9PSAnJykgew0KICAgICAgICAgIGZvciAoY29uc3QgZGl2U3R5bGUgb2YgdGhpcy5kaXZTdHlsZUFycmF5KSB7DQogICAgICAgICAgICBpZiAoY29udHJvbFByb3AuR3JvdXBJRCA9PT0gZGl2U3R5bGUuZ3JvdXBOYW1lKSB7DQogICAgICAgICAgICAgIHRoaXMudG9wQXJyYXkucHVzaChjb250cm9sUHJvcC5Ub3AhIC0gcGFyc2VJbnQoZGl2U3R5bGUudG9wISkpDQoNCiAgICAgICAgICAgICAgdGhpcy5sZWZ0QXJyYXkucHVzaChjb250cm9sUHJvcC5MZWZ0ISAtIHBhcnNlSW50KGRpdlN0eWxlLmxlZnQhKSkNCg0KICAgICAgICAgICAgICB0aGlzLnBlcmNoZWlnaHRBcnJheS5wdXNoKA0KICAgICAgICAgICAgICBjb250cm9sUHJvcC5IZWlnaHQhIC8gcGFyc2VJbnQoZGl2U3R5bGUuaGVpZ2h0ISkNCiAgICAgICAgICAgICAgKQ0KDQogICAgICAgICAgICAgIHRoaXMucGVyY3dpZHRoQXJyYXkucHVzaCgNCiAgICAgICAgICAgICAgY29udHJvbFByb3AuV2lkdGghIC8gcGFyc2VJbnQoZGl2U3R5bGUud2lkdGghKQ0KICAgICAgICAgICAgICApDQogICAgICAgICAgICB9DQogICAgICAgICAgfQ0KICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgIHRoaXMudG9wQXJyYXkucHVzaChjb250cm9sUHJvcC5Ub3AhKQ0KDQogICAgICAgICAgdGhpcy5sZWZ0QXJyYXkucHVzaChjb250cm9sUHJvcC5MZWZ0ISkNCg0KICAgICAgICAgIHRoaXMucGVyY2hlaWdodEFycmF5LnB1c2goY29udHJvbFByb3AuSGVpZ2h0ISkNCg0KICAgICAgICAgIHRoaXMucGVyY3dpZHRoQXJyYXkucHVzaChjb250cm9sUHJvcC5XaWR0aCEpDQogICAgICAgIH0NCiAgICAgIH0NCiAgICB9DQogICAgdGhpcy5pbml0aWFsQXJyYXkgPSBbXQ0KICAgIGZvciAobGV0IGsgPSAwOyBrIDwgdGhpcy5kaXZTdHlsZUFycmF5Lmxlbmd0aDsgaysrKSB7DQogICAgICB0aGlzLmluaXRpYWxBcnJheS5wdXNoKE9iamVjdC5hc3NpZ24oe30sIHRoaXMuZGl2U3R5bGVBcnJheVtrXSkpDQogICAgfQ0KICB9DQoNCiAgZGVBY3RHcm91cENvbnRyb2wgKCkgew0KICAgIGNvbnN0IHNlbENvbnRyb2wgPSB0aGlzLnNlbGVjdGVkQ29udHJvbHNbdGhpcy51c2VyRm9ybUlkXS5zZWxlY3RlZA0KICAgIGlmICgNCiAgICAgIHRoaXMuY3VycmVudFNlbGVjdGVkR3JvdXAubGVuZ3RoID09PSAxICYmDQogICAgICBzZWxDb250cm9sLmxlbmd0aCA9PT0gMSAmJg0KICAgICAgIXNlbENvbnRyb2xbMF0uc3RhcnRzV2l0aCgnZ3JvdXAnKQ0KICAgICkgew0KICAgICAgY29uc3QgY29udHJvbElkID0gdGhpcy5zZWxlY3RlZENvbnRyb2xzW3RoaXMudXNlckZvcm1JZF0uc2VsZWN0ZWRbMF0NCiAgICAgIGlmICgNCiAgICAgICAgdGhpcy5jdXJyZW50U2VsZWN0ZWRHcm91cFswXSA9PT0NCiAgICAgICAgdGhpcy51c2VyZm9ybURhdGFbdGhpcy51c2VyRm9ybUlkXVtjb250cm9sSWRdLnByb3BlcnRpZXMuR3JvdXBJRCENCiAgICAgICkgew0KICAgICAgICB0aGlzLnNlbGVjdENvbnRyb2woew0KICAgICAgICAgIHVzZXJGb3JtSWQ6IHRoaXMudXNlckZvcm1JZCwNCiAgICAgICAgICBzZWxlY3Q6IHsNCiAgICAgICAgICAgIGNvbnRhaW5lcjogdGhpcy5nZXRDb250YWluZXJMaXN0KHRoaXMuY3VycmVudFNlbGVjdGVkR3JvdXBbMF0pLA0KICAgICAgICAgICAgc2VsZWN0ZWQ6IFt0aGlzLmN1cnJlbnRTZWxlY3RlZEdyb3VwWzBdXQ0KICAgICAgICAgIH0NCiAgICAgICAgfSkNCiAgICAgIH0NCiAgICB9DQogIH0NCg0KICBoYW5kbGVNb3VzZURvd24gKGV2ZW50OiBDdXN0b21Nb3VzZUV2ZW50LCBoYW5kbGVyOiBzdHJpbmcpIHsNCiAgICB0aGlzLnRlbXBFdmVudCA9IGV2ZW50DQogICAgRXZlbnRCdXMuJGVtaXQoJ2dyb3VwRHJhZycsICdOb3REcmFnJykNCiAgICB0aGlzLmlzTW92ZSA9IGZhbHNlDQogICAgdGhpcy5kZUFjdEdyb3VwQ29udHJvbCgpDQogICAgdGhpcy5yZXNpemVEaXYgPSBoYW5kbGVyDQogICAgdGhpcy5wb3NpdGlvbnMuY2xpZW50WCA9IGV2ZW50LmNsaWVudFgNCiAgICB0aGlzLnBvc2l0aW9ucy5jbGllbnRZID0gZXZlbnQuY2xpZW50WQ0KICAgIHRoaXMuY3VycmVudE1vdXNlRG93bkV2ZW50ID0gZXZlbnQNCiAgICBpZiAoaGFuZGxlciAhPT0gJ2RyYWcnKSB7DQogICAgICBFdmVudEJ1cy4kZW1pdCgnc3RhcnRHcm91cE1vdmVDb250cm9sJywgZXZlbnQpDQogICAgICBFdmVudEJ1cy4kZW1pdCgnc3RhcnRSZXNpemVHcm91cENvbnRyb2wnLCBldmVudCwgaGFuZGxlcikNCiAgICAgIGRvY3VtZW50Lm9ubW91c2Vtb3ZlID0gKGV2ZW50OiBNb3VzZUV2ZW50KSA9PiB7DQogICAgICAgIEV2ZW50QnVzLiRlbWl0KCdyZXNpemVHcm91cENvbnRyb2wnLCBldmVudCwgdGhpcy5wb3NpdGlvbnMpDQogICAgICB9DQogICAgfSBlbHNlIHsNCiAgICAgIHRoaXMucG9zaXRpb25zLm9mZnNldFggPSBldmVudC5vZmZzZXRYDQogICAgICB0aGlzLnBvc2l0aW9ucy5vZmZzZXRZID0gZXZlbnQub2Zmc2V0WQ0KICAgICAgdGhpcy5pc01haW5TZWxlY3QgPSB0cnVlDQogICAgICBFdmVudEJ1cy4kZW1pdCgnc3RhcnRHcm91cE1vdmVDb250cm9sJywgZXZlbnQpDQogICAgICBFdmVudEJ1cy4kZW1pdCgnc3RhcnRSZXNpemVHcm91cENvbnRyb2wnLCBldmVudCwgaGFuZGxlcikNCiAgICAgIGRvY3VtZW50Lm9ubW91c2Vtb3ZlID0gKGV2ZW50OiBNb3VzZUV2ZW50KSA9PiB7DQogICAgICAgIEV2ZW50QnVzLiRlbWl0KCdtb3ZlR3JvdXBDb250cm9sJywgZXZlbnQpDQogICAgICB9DQogICAgfQ0KICAgIGRvY3VtZW50Lm9ubW91c2V1cCA9IChldmVudCkgPT4gew0KICAgICAgdGhpcy5jbG9zZURyYWdFbGVtZW50KGV2ZW50LCBoYW5kbGVyKQ0KICAgIH0NCiAgfQ0KICBlbGVtZW50TW91c2VEcmFnIChldmVudDogTW91c2VFdmVudCwgY29udGFpbmVyWDogbnVtYmVyLCBjb250YWluZXJZOiBudW1iZXIsIHByZXZpb3VzRXZlbnQ6IE1vdXNlRXZlbnQpOiB2b2lkIHsNCiAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpDQogICAgaWYgKHRoaXMuY29udGFpbmVyID09PSB0aGlzLmNvbnRhaW5lcklkKSB7DQogICAgICBjb25zdCBjb250YWluZXJQcm9wID0gdGhpcy51c2VyZm9ybURhdGFbdGhpcy51c2VyRm9ybUlkXVt0aGlzLmNvbnRhaW5lcklkXS5wcm9wZXJ0aWVzDQogICAgICBmb3IgKGNvbnN0IGkgb2YgdGhpcy5zZWxlY3RlZENvbnRyb2xzW3RoaXMudXNlckZvcm1JZF0uc2VsZWN0ZWQpIHsNCiAgICAgICAgaWYgKGkuc3RhcnRzV2l0aCgnZ3JvdXAnKSkgew0KICAgICAgICAgIGNvbnN0IGluZGV4ID0gdGhpcy5kaXZTdHlsZUFycmF5LmZpbmRJbmRleCh2YWwgPT4gdmFsLmdyb3VwTmFtZSA9PT0gaSkNCiAgICAgICAgICB0aGlzLmRpdlN0eWxlQXJyYXlbaW5kZXhdLmRpc3BsYXkgPSAnYmxvY2snDQogICAgICAgICAgdGhpcy5ncm91cFN0eWxlKHRoaXMuZGl2U3R5bGVBcnJheVtpbmRleF0uZ3JvdXBOYW1lISkNCiAgICAgICAgfQ0KICAgICAgfQ0KICAgICAgdGhpcy5yZXNpemVEaXYgPSAnZHJhZycNCiAgICAgIGxldCB0YXJnZXRMZWZ0ID0gLTENCiAgICAgIGxldCB0YXJnZXRUb3AgPSAtMQ0KICAgICAgY29uc3QgbWFpbiA9IHRoaXMuc2VsZWN0ZWRDb250cm9sc1t0aGlzLnVzZXJGb3JtSWRdLnNlbGVjdGVkWzBdDQogICAgICBjb25zdCBpc0dyb3VwID0gbWFpbi5zdGFydHNXaXRoKCdncm91cCcpID8gdGhpcy5kaXZTdHlsZUFycmF5LmZpbmRJbmRleCh2YWwgPT4gdmFsLmdyb3VwTmFtZSA9PT0gbWFpbikgOiAtMQ0KICAgICAgaWYgKGlzR3JvdXAgPT09IC0xKSB7DQogICAgICAgIGNvbnN0IHRhcmdldERhdGEgPSB0aGlzLnVzZXJmb3JtRGF0YVt0aGlzLnVzZXJGb3JtSWRdW21haW5dLnByb3BlcnRpZXMNCiAgICAgICAgdGFyZ2V0TGVmdCA9IHRhcmdldERhdGEuTGVmdCENCiAgICAgICAgdGFyZ2V0VG9wID0gdGFyZ2V0RGF0YS5Ub3AhDQogICAgICB9IGVsc2Ugew0KICAgICAgICBjb25zdCB0YXJnZXREYXRhID0gdGhpcy5kaXZTdHlsZUFycmF5W2lzR3JvdXBdDQogICAgICAgIHRhcmdldExlZnQgPSBwYXJzZUludCh0YXJnZXREYXRhLmxlZnQhKQ0KICAgICAgICB0YXJnZXRUb3AgPSBwYXJzZUludCh0YXJnZXREYXRhLnRvcCEpDQogICAgICB9DQogICAgICB0aGlzLnBvc2l0aW9ucy5tb3ZlbWVudFggPSAodGFyZ2V0TGVmdCAtIChjb250YWluZXJYIC0gdGhpcy5wb3NpdGlvbnMub2Zmc2V0WCEpKQ0KICAgICAgdGhpcy5wb3NpdGlvbnMubW92ZW1lbnRZID0gKHRhcmdldFRvcCAtIChjb250YWluZXJZIC0gdGhpcy5wb3NpdGlvbnMub2Zmc2V0WSEpKQ0KICAgICAgY29uc3Qgc2NhbGU6IG51bWJlciA9IDENCiAgICAgIGNvbnN0IGdyaWQ6IEFycmF5PG51bWJlcj4gPSBbMTAsIDEwXQ0KICAgICAgY29uc3QgeDogbnVtYmVyID0NCiAgICAgIE1hdGgucm91bmQodGhpcy5wb3NpdGlvbnMubW92ZW1lbnRYIC8gc2NhbGUgLyBncmlkWzBdKSAqIGdyaWRbMF0NCiAgICAgIGNvbnN0IHk6IG51bWJlciA9DQogICAgICBNYXRoLnJvdW5kKHRoaXMucG9zaXRpb25zLm1vdmVtZW50WSAvIHNjYWxlIC8gZ3JpZFsxXSkgKiBncmlkWzFdDQoNCiAgICAgIGlmICh0aGlzLmN1cnJlbnRNb3VzZURvd25FdmVudCAmJiAoeCAhPT0gMCB8fCB5ICE9PSAwKSkgew0KICAgICAgICB0aGlzLmN1cnJlbnRNb3VzZURvd25FdmVudC5jdXN0b21DYWxsQmFjayAmJg0KICAgICAgICB0aGlzLmN1cnJlbnRNb3VzZURvd25FdmVudC5jdXN0b21DYWxsQmFjaygpDQogICAgICB9DQogICAgICBsZXQgZHJhZ1Jlc2l6ZUNvbnRyb2w6IElHcm91cFN0eWxlID0ge30NCiAgICAgIGxldCBkcmFnUmVzaXplQ29udHJvbDE6IGNvbnRyb2xQcm9wZXJ0aWVzID0geyBJRDogJycgfQ0KDQogICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuZGl2U3R5bGVBcnJheS5sZW5ndGg7IGkrKykgew0KICAgICAgICB0aGlzLmdyb3VwTmFtZSA9IHRoaXMuZGl2U3R5bGVBcnJheVtpXS5ncm91cE5hbWUhDQogICAgICAgIGRyYWdSZXNpemVDb250cm9sID0gdGhpcy5kaXZTdHlsZUFycmF5W2ldDQogICAgICAgIGlmIChkcmFnUmVzaXplQ29udHJvbC5kaXNwbGF5ID09PSAnYmxvY2snKSB7DQogICAgICAgICAgbGV0IHRvcDogbnVtYmVyID0gLTENCiAgICAgICAgICBsZXQgbGVmdDogbnVtYmVyID0gLTENCiAgICAgICAgICBsZXQgZGVjSGVpZ2h0OiBudW1iZXIgPSAtMQ0KICAgICAgICAgIHRvcCA9IHBhcnNlSW50KGRyYWdSZXNpemVDb250cm9sLnRvcCEpIC0geQ0KICAgICAgICAgIGxlZnQgPSBwYXJzZUludChkcmFnUmVzaXplQ29udHJvbC5sZWZ0ISkgLSB4DQoNCiAgICAgICAgICBpZiAodGhpcy5yZXNpemVEaXYgPT09ICdkcmFnJykgew0KICAgICAgICAgICAgZHJhZ1Jlc2l6ZUNvbnRyb2wudG9wID0gYCR7dG9wICsgY29udGFpbmVyUHJvcC5TY3JvbGxUb3AhfXB4YA0KICAgICAgICAgICAgZHJhZ1Jlc2l6ZUNvbnRyb2wubGVmdCA9IGAke2xlZnQgKyBjb250YWluZXJQcm9wLlNjcm9sbExlZnQhfXB4YA0KICAgICAgICAgIH0NCiAgICAgICAgICBmb3IgKGNvbnN0IGogaW4gdGhpcy51c2VyZm9ybURhdGFbdGhpcy51c2VyRm9ybUlkXVt0aGlzLmNvbnRhaW5lcklkXQ0KICAgICAgICAgICAgLmNvbnRyb2xzKSB7DQogICAgICAgICAgICBjb25zdCBpbmRleCA9IHRoaXMudXNlcmZvcm1EYXRhW3RoaXMudXNlckZvcm1JZF1bdGhpcy5jb250YWluZXJJZF0NCiAgICAgICAgICAgICAgLmNvbnRyb2xzW2pdDQogICAgICAgICAgICBjb25zdCBjb250cm9sUHJvcCA9IHRoaXMudXNlcmZvcm1EYXRhW3RoaXMudXNlckZvcm1JZF1baW5kZXhdDQogICAgICAgICAgICAgIC5wcm9wZXJ0aWVzDQogICAgICAgICAgICBpZiAoDQogICAgICAgICAgICAgIGNvbnRyb2xQcm9wLkdyb3VwSUQgPT09IHRoaXMuZGl2U3R5bGVBcnJheVtpXS5ncm91cE5hbWUgJiYNCiAgICAgICAgICAgIHRoaXMuZGl2U3R5bGVBcnJheVtpXS5kaXNwbGF5ID09PSAnYmxvY2snDQogICAgICAgICAgICApIHsNCiAgICAgICAgICAgICAgZHJhZ1Jlc2l6ZUNvbnRyb2wxID0gY29udHJvbFByb3ANCiAgICAgICAgICAgICAgaWYgKHRoaXMucmVzaXplRGl2ID09PSAnZHJhZycpIHsNCiAgICAgICAgICAgICAgICB0b3AgPSBkcmFnUmVzaXplQ29udHJvbDEuVG9wISAtIHkNCiAgICAgICAgICAgICAgICBsZWZ0ID0gZHJhZ1Jlc2l6ZUNvbnRyb2wxLkxlZnQhIC0geA0KICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlQ29udHJvbEFjdGlvbignVG9wJywgdG9wICsgY29udGFpbmVyUHJvcC5TY3JvbGxUb3AhLCBpbmRleCkNCiAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZUNvbnRyb2xBY3Rpb24oJ0xlZnQnLCBsZWZ0ICsgY29udGFpbmVyUHJvcC5TY3JvbGxMZWZ0ISwgaW5kZXgpDQogICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH0NCiAgICAgICAgICB9DQogICAgICAgIH0NCiAgICAgIH0NCiAgICAgIGZvciAobGV0IGsgb2YgdGhpcy5zZWxlY3RlZENvbnRyb2xzW3RoaXMudXNlckZvcm1JZF0uc2VsZWN0ZWQpIHsNCiAgICAgICAgaWYgKCFrLnN0YXJ0c1dpdGgoJ0lEX1VTRVJGT1JNJykgJiYgIWsuc3RhcnRzV2l0aCgnZ3JvdXAnKSkgew0KICAgICAgICAgIGxldCBkcmFnUmVzaXplUmVmZmVyOiBJZHJhZ1Jlc2l6ZVJlZlN0eWxlID0ge30NCiAgICAgICAgICBjb25zdCBjb250cm9sOiBjb250cm9sUHJvcGVydGllcyA9IHRoaXMudXNlcmZvcm1EYXRhW3RoaXMudXNlckZvcm1JZF1ba10NCiAgICAgICAgICAgIC5wcm9wZXJ0aWVzDQogICAgICAgICAgZm9yIChjb25zdCBrZXkgaW4gdGhpcy5jb250cm9sUmVmLnJlc2l6ZUNvbnRyb2wpIHsNCiAgICAgICAgICAgIGlmICgNCiAgICAgICAgICAgICAgdGhpcy5jb250cm9sUmVmLnJlc2l6ZUNvbnRyb2xba2V5XS4kcmVmc1snZHJhUmVmJy5jb25jYXQoY29udHJvbC5JRCldICE9PSB1bmRlZmluZWQNCiAgICAgICAgICAgICkgew0KICAgICAgICAgICAgICBkcmFnUmVzaXplUmVmZmVyID0gdGhpcy5jb250cm9sUmVmLnJlc2l6ZUNvbnRyb2xba2V5XS4kcmVmc1snZHJhUmVmJy5jb25jYXQoY29udHJvbC5JRCldDQogICAgICAgICAgICB9DQogICAgICAgICAgfQ0KICAgICAgICAgIGNvbnN0IHRvcCA9IGNvbnRyb2wuVG9wISAtIHkNCiAgICAgICAgICBjb25zdCBsZWZ0ID0gY29udHJvbC5MZWZ0ISAtIHgNCg0KICAgICAgICAgIGlmICh0aGlzLnJlc2l6ZURpdiA9PT0gJ2RyYWcnKSB7DQogICAgICAgICAgICB0aGlzLnVwZGF0ZUNvbnRyb2xBY3Rpb24oJ1RvcCcsIHRvcCArIGNvbnRhaW5lclByb3AuU2Nyb2xsVG9wISwgaykNCiAgICAgICAgICAgIHRoaXMudXBkYXRlQ29udHJvbEFjdGlvbignTGVmdCcsIGxlZnQgKyBjb250YWluZXJQcm9wLlNjcm9sbExlZnQhLCBrKQ0KICAgICAgICAgIH0NCiAgICAgICAgfQ0KICAgICAgfQ0KICAgIH0NCiAgfQ0KDQogIGVsZW1lbnREcmFnIChldmVudDogTW91c2VFdmVudCk6IHZvaWQgew0KICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCkNCiAgICB0aGlzLnBvc2l0aW9ucy5tb3ZlbWVudFggPSB0aGlzLnBvc2l0aW9ucy5jbGllbnRYIC0gZXZlbnQuY2xpZW50WA0KICAgIHRoaXMucG9zaXRpb25zLm1vdmVtZW50WSA9IHRoaXMucG9zaXRpb25zLmNsaWVudFkgLSBldmVudC5jbGllbnRZDQogICAgY29uc3Qgc2NhbGU6IG51bWJlciA9IDENCiAgICBjb25zdCBncmlkOiBBcnJheTxudW1iZXI+ID0gWzEwLCAxMF0NCiAgICBjb25zdCB4OiBudW1iZXIgPQ0KICAgICAgTWF0aC5yb3VuZCh0aGlzLnBvc2l0aW9ucy5tb3ZlbWVudFggLyBzY2FsZSAvIGdyaWRbMF0pICogZ3JpZFswXQ0KICAgIGNvbnN0IHk6IG51bWJlciA9DQogICAgICBNYXRoLnJvdW5kKHRoaXMucG9zaXRpb25zLm1vdmVtZW50WSAvIHNjYWxlIC8gZ3JpZFsxXSkgKiBncmlkWzFdDQoNCiAgICBpZiAodGhpcy5jdXJyZW50TW91c2VEb3duRXZlbnQgJiYgKHggIT09IDAgfHwgeSAhPT0gMCkpIHsNCiAgICAgIHRoaXMuY3VycmVudE1vdXNlRG93bkV2ZW50LmN1c3RvbUNhbGxCYWNrICYmDQogICAgICAgIHRoaXMuY3VycmVudE1vdXNlRG93bkV2ZW50LmN1c3RvbUNhbGxCYWNrKCkNCiAgICB9DQogICAgY29uc3QgZGlmZkdyaWRYOiBudW1iZXIgPSB4IC0gdGhpcy5wb3NpdGlvbnMubW92ZW1lbnRYDQogICAgY29uc3QgZGlmZkdyaWRZOiBudW1iZXIgPSB5IC0gdGhpcy5wb3NpdGlvbnMubW92ZW1lbnRZDQoNCiAgICB0aGlzLnBvc2l0aW9ucy5jbGllbnRYID0gZXZlbnQuY2xpZW50WCAtIGRpZmZHcmlkWA0KICAgIHRoaXMucG9zaXRpb25zLmNsaWVudFkgPSBldmVudC5jbGllbnRZIC0gZGlmZkdyaWRZDQoNCiAgICBsZXQgZHJhZ1Jlc2l6ZUNvbnRyb2w6IElHcm91cFN0eWxlID0ge30NCiAgICBsZXQgZHJhZ1Jlc2l6ZUNvbnRyb2wxOiBjb250cm9sUHJvcGVydGllcyA9IHsgSUQ6ICcnIH0NCg0KICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5kaXZTdHlsZUFycmF5Lmxlbmd0aDsgaSsrKSB7DQogICAgICB0aGlzLmdyb3VwTmFtZSA9IHRoaXMuZGl2U3R5bGVBcnJheVtpXS5ncm91cE5hbWUhDQogICAgICBkcmFnUmVzaXplQ29udHJvbCA9IHRoaXMuZGl2U3R5bGVBcnJheVtpXQ0KICAgICAgaWYgKGRyYWdSZXNpemVDb250cm9sLmRpc3BsYXkgPT09ICdibG9jaycpIHsNCiAgICAgICAgbGV0IHRvcDogbnVtYmVyID0gLTENCiAgICAgICAgbGV0IGxlZnQ6IG51bWJlciA9IC0xDQogICAgICAgIGxldCBpbmNXaWR0aDogbnVtYmVyID0gLTENCiAgICAgICAgbGV0IGluY0hlaWdodDogbnVtYmVyID0gLTENCiAgICAgICAgbGV0IGRlY1dpZHRoOiBudW1iZXIgPSAtMQ0KICAgICAgICBsZXQgZGVjSGVpZ2h0OiBudW1iZXIgPSAtMQ0KICAgICAgICB0b3AgPSBwYXJzZUludChkcmFnUmVzaXplQ29udHJvbC50b3AhKSAtIHkNCiAgICAgICAgbGVmdCA9IHBhcnNlSW50KGRyYWdSZXNpemVDb250cm9sLmxlZnQhKSAtIHgNCiAgICAgICAgaW5jV2lkdGggPQ0KICAgICAgICAgIHBhcnNlSW50KGRyYWdSZXNpemVDb250cm9sLndpZHRoISkgKyB4ID4gMA0KICAgICAgICAgICAgPyBwYXJzZUludChkcmFnUmVzaXplQ29udHJvbC53aWR0aCEpICsgeA0KICAgICAgICAgICAgOiAwDQogICAgICAgIGluY0hlaWdodCA9DQogICAgICAgICAgcGFyc2VJbnQoZHJhZ1Jlc2l6ZUNvbnRyb2wuaGVpZ2h0ISkgKyB5ID4gMA0KICAgICAgICAgICAgPyBwYXJzZUludChkcmFnUmVzaXplQ29udHJvbC5oZWlnaHQhKSArIHkNCiAgICAgICAgICAgIDogMA0KICAgICAgICBkZWNXaWR0aCA9DQogICAgICAgICAgcGFyc2VJbnQoZHJhZ1Jlc2l6ZUNvbnRyb2wud2lkdGghKSAtIHggPiAwDQogICAgICAgICAgICA/IHBhcnNlSW50KGRyYWdSZXNpemVDb250cm9sLndpZHRoISkgLSB4DQogICAgICAgICAgICA6IDANCiAgICAgICAgZGVjSGVpZ2h0ID0NCiAgICAgICAgICBwYXJzZUludChkcmFnUmVzaXplQ29udHJvbC5oZWlnaHQhKSAtIHkgPiAwDQogICAgICAgICAgICA/IHBhcnNlSW50KGRyYWdSZXNpemVDb250cm9sLmhlaWdodCEpIC0geQ0KICAgICAgICAgICAgOiAwDQoNCiAgICAgICAgaWYgKHRoaXMucmVzaXplRGl2ID09PSAnZHJhZycpIHsNCiAgICAgICAgICBkcmFnUmVzaXplQ29udHJvbC50b3AgPSBgJHt0b3B9cHhgDQogICAgICAgICAgZHJhZ1Jlc2l6ZUNvbnRyb2wubGVmdCA9IGAke2xlZnR9cHhgDQogICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgaWYgKHRoaXMucmVzaXplRGl2LmluY2x1ZGVzKCd0JykpIHsNCiAgICAgICAgICAgIGlmIChpbmNIZWlnaHQgPiAwKSB7DQogICAgICAgICAgICAgIGRyYWdSZXNpemVDb250cm9sLnRvcCA9IGAke3RvcH1weGANCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIGRyYWdSZXNpemVDb250cm9sLmhlaWdodCA9IGAke2luY0hlaWdodH1weGANCiAgICAgICAgICB9IGVsc2UgaWYgKHRoaXMucmVzaXplRGl2LmluY2x1ZGVzKCdiJykpIHsNCiAgICAgICAgICAgIGRyYWdSZXNpemVDb250cm9sLmhlaWdodCA9IGAke2RlY0hlaWdodH1weGANCiAgICAgICAgICB9DQoNCiAgICAgICAgICBpZiAodGhpcy5yZXNpemVEaXYuaW5jbHVkZXMoJ2wnKSkgew0KICAgICAgICAgICAgaWYgKGluY1dpZHRoID4gMCkgew0KICAgICAgICAgICAgICBkcmFnUmVzaXplQ29udHJvbC5sZWZ0ID0gYCR7bGVmdH1weGANCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIGRyYWdSZXNpemVDb250cm9sLndpZHRoID0gYCR7aW5jV2lkdGh9cHhgDQogICAgICAgICAgfSBlbHNlIGlmICh0aGlzLnJlc2l6ZURpdi5pbmNsdWRlcygncicpKSB7DQogICAgICAgICAgICBkcmFnUmVzaXplQ29udHJvbC53aWR0aCA9IGAke2RlY1dpZHRofXB4YA0KICAgICAgICAgIH0NCiAgICAgICAgfQ0KICAgICAgICBmb3IgKGNvbnN0IGogaW4gdGhpcy51c2VyZm9ybURhdGFbdGhpcy51c2VyRm9ybUlkXVt0aGlzLmNvbnRhaW5lcklkXQ0KICAgICAgICAgIC5jb250cm9scykgew0KICAgICAgICAgIGNvbnN0IGluZGV4ID0gdGhpcy51c2VyZm9ybURhdGFbdGhpcy51c2VyRm9ybUlkXVt0aGlzLmNvbnRhaW5lcklkXQ0KICAgICAgICAgICAgLmNvbnRyb2xzW2pdDQogICAgICAgICAgY29uc3QgY29udHJvbFByb3AgPSB0aGlzLnVzZXJmb3JtRGF0YVt0aGlzLnVzZXJGb3JtSWRdW2luZGV4XQ0KICAgICAgICAgICAgLnByb3BlcnRpZXMNCg0KICAgICAgICAgIGxldCB0b3A6IG51bWJlciA9DQogICAgICAgICAgICAocGFyc2VJbnQoZHJhZ1Jlc2l6ZUNvbnRyb2wuaGVpZ2h0ISkgKiB0aGlzLnRvcEFycmF5W2pdKSAvDQogICAgICAgICAgICAgIHBhcnNlSW50KHRoaXMuaW5pdGlhbEFycmF5W2ldLmhlaWdodCEpICsNCiAgICAgICAgICAgIHBhcnNlSW50KHRoaXMuaW5pdGlhbEFycmF5W2ldLnRvcCEpDQoNCiAgICAgICAgICBsZXQgaGVpZ2h0OiBudW1iZXIgPQ0KICAgICAgICAgICAgcGFyc2VJbnQoZHJhZ1Jlc2l6ZUNvbnRyb2wuaGVpZ2h0ISkgKiB0aGlzLnBlcmNoZWlnaHRBcnJheVtqXQ0KDQogICAgICAgICAgbGV0IGxlZnQ6IG51bWJlciA9DQogICAgICAgICAgICAocGFyc2VJbnQoZHJhZ1Jlc2l6ZUNvbnRyb2wud2lkdGghKSAqIHRoaXMubGVmdEFycmF5W2pdKSAvDQogICAgICAgICAgICAgIHBhcnNlSW50KHRoaXMuaW5pdGlhbEFycmF5W2ldLndpZHRoISkgKw0KICAgICAgICAgICAgcGFyc2VJbnQodGhpcy5pbml0aWFsQXJyYXlbaV0ubGVmdCEpDQoNCiAgICAgICAgICBsZXQgd2lkdGg6IG51bWJlciA9DQogICAgICAgICAgICBwYXJzZUludChkcmFnUmVzaXplQ29udHJvbC53aWR0aCEpICogdGhpcy5wZXJjd2lkdGhBcnJheVtqXQ0KDQogICAgICAgICAgbGV0IHJpZ2h0OiBudW1iZXIgPQ0KICAgICAgICAgICAgKHBhcnNlSW50KGRyYWdSZXNpemVDb250cm9sLndpZHRoISkgKiB0aGlzLmxlZnRBcnJheVtqXSkgLw0KICAgICAgICAgICAgICBwYXJzZUludCh0aGlzLmluaXRpYWxBcnJheVtpXS53aWR0aCEpICsNCiAgICAgICAgICAgIHBhcnNlSW50KGRyYWdSZXNpemVDb250cm9sLmxlZnQhKQ0KDQogICAgICAgICAgbGV0IGJvdHRvbTogbnVtYmVyID0NCiAgICAgICAgICAgIChwYXJzZUludChkcmFnUmVzaXplQ29udHJvbC5oZWlnaHQhKSAqIHRoaXMudG9wQXJyYXlbal0pIC8NCiAgICAgICAgICAgICAgcGFyc2VJbnQodGhpcy5pbml0aWFsQXJyYXlbaV0uaGVpZ2h0ISkgKw0KICAgICAgICAgICAgcGFyc2VJbnQoZHJhZ1Jlc2l6ZUNvbnRyb2wudG9wISkNCiAgICAgICAgICBpZiAoDQogICAgICAgICAgICBjb250cm9sUHJvcC5Hcm91cElEID09PSB0aGlzLmRpdlN0eWxlQXJyYXlbaV0uZ3JvdXBOYW1lICYmDQogICAgICAgICAgICB0aGlzLmRpdlN0eWxlQXJyYXlbaV0uZGlzcGxheSA9PT0gJ2Jsb2NrJw0KICAgICAgICAgICkgew0KICAgICAgICAgICAgZHJhZ1Jlc2l6ZUNvbnRyb2wxID0gY29udHJvbFByb3ANCiAgICAgICAgICAgIGlmICh0aGlzLnJlc2l6ZURpdiA9PT0gJ2RyYWcnKSB7DQogICAgICAgICAgICAgIHRvcCA9IGRyYWdSZXNpemVDb250cm9sMS5Ub3AhIC0geQ0KICAgICAgICAgICAgICBsZWZ0ID0gZHJhZ1Jlc2l6ZUNvbnRyb2wxLkxlZnQhIC0geA0KICAgICAgICAgICAgICB0aGlzLnVwZGF0ZUNvbnRyb2xBY3Rpb24oJ1RvcCcsIHRvcCwgaW5kZXgpDQogICAgICAgICAgICAgIHRoaXMudXBkYXRlQ29udHJvbEFjdGlvbignTGVmdCcsIGxlZnQsIGluZGV4KQ0KICAgICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgICAgaWYgKHRoaXMucmVzaXplRGl2LmluY2x1ZGVzKCd0JykpIHsNCiAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZUNvbnRyb2xBY3Rpb24oJ1RvcCcsIGJvdHRvbSwgaW5kZXgpDQogICAgICAgICAgICAgICAgdGhpcy51cGRhdGVDb250cm9sQWN0aW9uKCdIZWlnaHQnLCBoZWlnaHQsIGluZGV4KQ0KICAgICAgICAgICAgICB9IGVsc2UgaWYgKHRoaXMucmVzaXplRGl2LmluY2x1ZGVzKCdiJykpIHsNCiAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZUNvbnRyb2xBY3Rpb24oJ1RvcCcsIHRvcCwgaW5kZXgpDQogICAgICAgICAgICAgICAgdGhpcy51cGRhdGVDb250cm9sQWN0aW9uKCdIZWlnaHQnLCBoZWlnaHQsIGluZGV4KQ0KICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgIGlmICh0aGlzLnJlc2l6ZURpdi5pbmNsdWRlcygnbCcpKSB7DQogICAgICAgICAgICAgICAgdGhpcy51cGRhdGVDb250cm9sQWN0aW9uKCdMZWZ0JywgcmlnaHQsIGluZGV4KQ0KICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlQ29udHJvbEFjdGlvbignV2lkdGgnLCB3aWR0aCwgaW5kZXgpDQogICAgICAgICAgICAgIH0gZWxzZSBpZiAodGhpcy5yZXNpemVEaXYuaW5jbHVkZXMoJ3InKSkgew0KICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlQ29udHJvbEFjdGlvbignTGVmdCcsIGxlZnQsIGluZGV4KQ0KICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlQ29udHJvbEFjdGlvbignV2lkdGgnLCB3aWR0aCwgaW5kZXgpDQogICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH0NCiAgICAgICAgICB9DQogICAgICAgIH0NCiAgICAgIH0NCiAgICB9DQogICAgZm9yIChsZXQgayBvZiB0aGlzLnNlbGVjdGVkQ29udHJvbHNbdGhpcy51c2VyRm9ybUlkXS5zZWxlY3RlZCkgew0KICAgICAgaWYgKCFrLnN0YXJ0c1dpdGgoJ0lEX1VTRVJGT1JNJykgJiYgIWsuc3RhcnRzV2l0aCgnZ3JvdXAnKSkgew0KICAgICAgICBsZXQgZHJhZ1Jlc2l6ZVJlZmZlcjogSWRyYWdSZXNpemVSZWZTdHlsZSA9IHt9DQogICAgICAgIGNvbnN0IGNvbnRyb2w6IGNvbnRyb2xQcm9wZXJ0aWVzID0gdGhpcy51c2VyZm9ybURhdGFbdGhpcy51c2VyRm9ybUlkXVtrXQ0KICAgICAgICAgIC5wcm9wZXJ0aWVzDQogICAgICAgIGZvciAoY29uc3Qga2V5IGluIHRoaXMuY29udHJvbFJlZi5yZXNpemVDb250cm9sKSB7DQogICAgICAgICAgaWYgKA0KICAgICAgICAgICAgdGhpcy5jb250cm9sUmVmLnJlc2l6ZUNvbnRyb2xba2V5XS4kcmVmc1snZHJhUmVmJy5jb25jYXQoY29udHJvbC5JRCldICE9PSB1bmRlZmluZWQNCiAgICAgICAgICApIHsNCiAgICAgICAgICAgIGRyYWdSZXNpemVSZWZmZXIgPSB0aGlzLmNvbnRyb2xSZWYucmVzaXplQ29udHJvbFtrZXldLiRyZWZzWydkcmFSZWYnLmNvbmNhdChjb250cm9sLklEKV0NCiAgICAgICAgICB9DQogICAgICAgIH0NCiAgICAgICAgY29uc3QgdG9wID0gZHJhZ1Jlc2l6ZVJlZmZlci5vZmZzZXRUb3AhIC0geQ0KICAgICAgICBjb25zdCBsZWZ0ID0gZHJhZ1Jlc2l6ZVJlZmZlci5vZmZzZXRMZWZ0ISAtIHgNCiAgICAgICAgY29uc3QgaW5jV2lkdGggPSBjb250cm9sLldpZHRoISArIHggPiAwID8gY29udHJvbC5XaWR0aCEgKyB4IDogMA0KICAgICAgICBjb25zdCBpbmNIZWlnaHQgPSBjb250cm9sLkhlaWdodCEgKyB5ID4gMCA/IGNvbnRyb2wuSGVpZ2h0ISArIHkgOiAwDQogICAgICAgIGNvbnN0IGRlY1dpZHRoID0gY29udHJvbC5XaWR0aCEgLSB4ID4gMCA/IGNvbnRyb2wuV2lkdGghIC0geCA6IDANCiAgICAgICAgY29uc3QgZGVjSGVpZ2h0ID0gY29udHJvbC5IZWlnaHQhIC0geSA+IDAgPyBjb250cm9sLkhlaWdodCEgLSB5IDogMA0KDQogICAgICAgIGlmICh0aGlzLnJlc2l6ZURpdiA9PT0gJ2RyYWcnKSB7DQogICAgICAgICAgdGhpcy51cGRhdGVDb250cm9sQWN0aW9uKCdUb3AnLCB0b3AsIGspDQogICAgICAgICAgdGhpcy51cGRhdGVDb250cm9sQWN0aW9uKCdMZWZ0JywgbGVmdCwgaykNCiAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICBpZiAodGhpcy5yZXNpemVEaXYuaW5jbHVkZXMoJ3QnKSkgew0KICAgICAgICAgICAgaWYgKGluY0hlaWdodCA+IDApIHsNCiAgICAgICAgICAgICAgdGhpcy51cGRhdGVDb250cm9sQWN0aW9uKCdUb3AnLCB0b3AsIGspDQogICAgICAgICAgICB9DQogICAgICAgICAgICB0aGlzLnVwZGF0ZUNvbnRyb2xBY3Rpb24oJ0hlaWdodCcsIGluY0hlaWdodCwgaykNCiAgICAgICAgICB9IGVsc2UgaWYgKHRoaXMucmVzaXplRGl2LmluY2x1ZGVzKCdiJykpIHsNCiAgICAgICAgICAgIHRoaXMudXBkYXRlQ29udHJvbEFjdGlvbignSGVpZ2h0JywgZGVjSGVpZ2h0LCBrKQ0KICAgICAgICAgIH0NCiAgICAgICAgICBpZiAodGhpcy5yZXNpemVEaXYuaW5jbHVkZXMoJ2wnKSkgew0KICAgICAgICAgICAgaWYgKGluY1dpZHRoID4gMCkgew0KICAgICAgICAgICAgICB0aGlzLnVwZGF0ZUNvbnRyb2xBY3Rpb24oJ0xlZnQnLCBsZWZ0LCBrKQ0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgdGhpcy51cGRhdGVDb250cm9sQWN0aW9uKCdXaWR0aCcsIGluY1dpZHRoLCBrKQ0KICAgICAgICAgIH0gZWxzZSBpZiAodGhpcy5yZXNpemVEaXYuaW5jbHVkZXMoJ3InKSkgew0KICAgICAgICAgICAgdGhpcy51cGRhdGVDb250cm9sQWN0aW9uKCdXaWR0aCcsIGRlY1dpZHRoLCBrKQ0KICAgICAgICAgIH0NCiAgICAgICAgfQ0KICAgICAgfQ0KICAgIH0NCiAgfQ0KICBvcGVuQ29udGV4dE1lbnUgKGU6IE1vdXNlRXZlbnQsIHBhcmVudElEOiBzdHJpbmcsIGNvbnRyb2xJRDogc3RyaW5nLCB0eXBlOiBzdHJpbmcpIHsNCiAgICB0aGlzLiRlbWl0KCdvcGVuTWVudScsIGUsIHBhcmVudElELCBjb250cm9sSUQsIHR5cGUpDQogIH0NCiAgb3Blbk1lbnUgKGV2ZW50OiBNb3VzZUV2ZW50LCB0eXBlOiBzdHJpbmcpIHsNCiAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpDQogICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCkNCiAgICBjb25zdCBjb250YWluZXIgPSB0aGlzLnNlbGVjdGVkQ29udHJvbHNbdGhpcy51c2VyRm9ybUlkXS5jb250YWluZXJbMF0NCiAgICBsZXQgY29udHJvbElkID0gY29udGFpbmVyDQogICAgaWYgKHR5cGUgPT09ICdjb250cm9sJykgew0KICAgICAgY29udHJvbElkID0gdGhpcy5nZXRTZWxlY3RlZENvbnRyb2xzRGF0YXMhWzBdDQogICAgfQ0KICAgIHRoaXMub3BlbkNvbnRleHRNZW51KGV2ZW50LCBjb250YWluZXIsIGNvbnRyb2xJZCwgdHlwZSkNCiAgfQ0KDQogIGNsb3NlRHJhZ0VsZW1lbnQgKGV2ZW50Ok1vdXNlRXZlbnQsIGhhbmRsZXI6IHN0cmluZyk6IHZvaWQgew0KICAgIHRoaXMuZWxlbWVudERyYWcoZXZlbnQpDQogICAgaWYgKHRoaXMudmFsdWUgIT09ICdzYW1lJykgew0KICAgICAgdGhpcy52YWx1ZSA9ICdkaWZmZXJlbnQnDQogICAgfQ0KICAgIEV2ZW50QnVzLiRlbWl0KCd1cGRhdGVJc0NvbnRyb2xNb3ZlJywgdGhpcy5pc01vdmUpDQogICAgRXZlbnRCdXMuJGVtaXQoJ2dyb3VwRHJhZycsICdOb3REcmFnJykNCiAgICBFdmVudEJ1cy4kZW1pdCgnZW5kTW92ZUNvbnRyb2wnLCAnZ3JvdXBFbmRNb3ZlJykNCiAgICBFdmVudEJ1cy4kZW1pdCgnZW5kR3JvdXBNb3ZlQ29udHJvbCcpDQogICAgZG9jdW1lbnQub25tb3VzZXVwID0gbnVsbA0KICAgIGRvY3VtZW50Lm9ubW91c2Vtb3ZlID0gbnVsbA0KICAgIGlmIChoYW5kbGVyID09PSAnZHJhZycpIHsNCiAgICAgIGNvbnN0IHNlbGVjdGVkID0gdGhpcy5zZWxlY3RlZENvbnRyb2xzW3RoaXMudXNlckZvcm1JZF0uc2VsZWN0ZWQNCiAgICAgIGZvciAoY29uc3QgZ3JwbmFtZSBpbiBzZWxlY3RlZCkgew0KICAgICAgICBpZiAoc2VsZWN0ZWRbZ3JwbmFtZV0uc3RhcnRzV2l0aCgnZ3JvdXAnKSkgew0KICAgICAgICAgIHRoaXMuZ3JvdXBTdHlsZShzZWxlY3RlZFtncnBuYW1lXSkNCiAgICAgICAgfQ0KICAgICAgfQ0KICAgIH0NCiAgICBmb3IgKGNvbnN0IGNvbnRyb2xHcm91cCBpbiB0aGlzLmRpdlN0eWxlQXJyYXkpIHsNCiAgICAgIGNvbnN0IGdyb3VwTmFtZSA9IHRoaXMuZGl2U3R5bGVBcnJheVtjb250cm9sR3JvdXBdLmdyb3VwTmFtZSENCiAgICAgIGlmIChncm91cE5hbWUuc3RhcnRzV2l0aCgnZ3JvdXAnKSkgew0KICAgICAgICB0aGlzLmdyb3VwU3R5bGUoZ3JvdXBOYW1lKQ0KICAgICAgfQ0KICAgIH0NCiAgfQ0KICBnZXRHcm91cEVkaXRTdHlsZSAoZ3JvdXBOYW1lOiBzdHJpbmcpIHsNCiAgICBjb25zdCBzZWxlY3RlZCA9IHRoaXMuc2VsZWN0ZWRDb250cm9sc1t0aGlzLnVzZXJGb3JtSWRdLnNlbGVjdGVkDQogICAgY29uc3QgaXNTZWxlY3RlZCA9DQogICAgICBzZWxlY3RlZC5sZW5ndGggPT09IDEgJiYNCiAgICAgICFzZWxlY3RlZFswXS5zdGFydHNXaXRoKCdncm91cCcpICYmDQogICAgICB0aGlzLnVzZXJmb3JtRGF0YVt0aGlzLnVzZXJGb3JtSWRdW3NlbGVjdGVkWzBdXS5wcm9wZXJ0aWVzLkdyb3VwSUQgPT09DQogICAgICAgIGdyb3VwTmFtZQ0KICAgIHJldHVybiBpc1NlbGVjdGVkID8gJ21haW5FZGl0RGl2JyA6ICdtYWluRGl2Jw0KICB9DQogIGdldEdyb3VwU3R5bGUgKGdyb3VwTmFtZTogc3RyaW5nKSB7DQogICAgcmV0dXJuIHRoaXMuZGl2U3R5bGVBcnJheVt0aGlzLmRpdlN0eWxlQXJyYXkuZmluZEluZGV4KChwKSA9PiBwLmdyb3VwTmFtZSA9PT0gZ3JvdXBOYW1lKV0NCiAgfQ0KDQogIEBXYXRjaCgnc2VsZWN0ZWRDb250cm9scycsIHsgZGVlcDogdHJ1ZSB9KQ0KICB1cGRhdGVHcm91cFN0eWxlICgpIHsNCiAgICBjb25zdCBzZWxlY3RlZENvbnRhaW5lciA9IHRoaXMuc2VsZWN0ZWRDb250cm9sc1t0aGlzLnVzZXJGb3JtSWRdLmNvbnRhaW5lclswXQ0KICAgIGlmIChzZWxlY3RlZENvbnRhaW5lciAhPT0gdGhpcy5jb250YWluZXJJZCAmJiB0aGlzLmlzTW92ZSkgew0KICAgICAgY29uc3Qgc2VsZWN0ZWQgPSB0aGlzLnNlbGVjdGVkQ29udHJvbHNbdGhpcy51c2VyRm9ybUlkXS5zZWxlY3RlZA0KICAgICAgZm9yIChjb25zdCBncnBuYW1lIGluIHNlbGVjdGVkKSB7DQogICAgICAgIGlmIChzZWxlY3RlZFtncnBuYW1lXS5zdGFydHNXaXRoKCdncm91cCcpKSB7DQogICAgICAgICAgY29uc3QgZmluZ0dyb3VwSW5kZXggPSB0aGlzLmRpdlN0eWxlQXJyYXkuZmluZEluZGV4KHZhbCA9PiB2YWwuZ3JvdXBOYW1lID09PSBzZWxlY3RlZFtncnBuYW1lXSkNCiAgICAgICAgICB0aGlzLmRpdlN0eWxlQXJyYXkuc3BsaWNlKGZpbmdHcm91cEluZGV4LCAxKQ0KICAgICAgICB9DQogICAgICB9DQogICAgfQ0KICAgIGlmICh0aGlzLmRpdlN0eWxlQXJyYXkubGVuZ3RoID4gMCAmJiBzZWxlY3RlZENvbnRhaW5lciA9PT0gdGhpcy5jb250YWluZXJJZCkgew0KICAgICAgZm9yIChjb25zdCBpbmRleCBpbiB0aGlzLmRpdlN0eWxlQXJyYXkpIHsNCiAgICAgICAgdGhpcy5kaXZTdHlsZUFycmF5W2luZGV4XS5kaXNwbGF5ID0gJ25vbmUnDQogICAgICB9DQogICAgICBjb25zdCBzZWxDb250cm9sID0gdGhpcy5zZWxlY3RlZENvbnRyb2xzW3RoaXMudXNlckZvcm1JZF0uc2VsZWN0ZWQNCiAgICAgIGlmIChzZWxDb250cm9sLmxlbmd0aCA+PSAxKSB7DQogICAgICAgIGZvciAoY29uc3QgdmFsIG9mIHRoaXMuZ2V0U2VsZWN0ZWRDb250cm9sc0RhdGFzISkgew0KICAgICAgICAgIGNvbnN0IGdyb3VwSWQgPSB0aGlzLnVzZXJmb3JtRGF0YVt0aGlzLnVzZXJGb3JtSWRdW3ZhbF0ucHJvcGVydGllcy5Hcm91cElEIQ0KICAgICAgICAgIGlmIChncm91cElkKSB7DQogICAgICAgICAgICBjb25zdCBpbmRleCA9IHRoaXMuZGl2U3R5bGVBcnJheS5maW5kSW5kZXgoDQogICAgICAgICAgICAgIChwKSA9PiBwLmdyb3VwTmFtZSA9PT0gZ3JvdXBJZA0KICAgICAgICAgICAgKQ0KICAgICAgICAgICAgdGhpcy5kaXZTdHlsZUFycmF5W2luZGV4XS5kaXNwbGF5ID0gJ2Jsb2NrJw0KICAgICAgICAgIH0NCiAgICAgICAgfQ0KICAgICAgfSBlbHNlIHsNCiAgICAgICAgaWYgKA0KICAgICAgICAgIHNlbENvbnRyb2xbMF0uc3RhcnRzV2l0aCgnZ3JvdXAnKSB8fA0KICAgICAgICAgICghc2VsQ29udHJvbFswXS5zdGFydHNXaXRoKCdncm91cCcpICYmDQogICAgICAgICAgICBzZWxDb250cm9sLmluY2x1ZGVzKA0KICAgICAgICAgICAgICB0aGlzLnVzZXJmb3JtRGF0YVt0aGlzLnVzZXJGb3JtSWRdW3NlbENvbnRyb2xbMF1dLnByb3BlcnRpZXMNCiAgICAgICAgICAgICAgICAuR3JvdXBJRCENCiAgICAgICAgICAgICkpDQogICAgICAgICkgew0KICAgICAgICAgIGlmIChzZWxDb250cm9sWzBdLnN0YXJ0c1dpdGgoJ2dyb3VwJykpIHsNCiAgICAgICAgICAgIGNvbnN0IGluZGV4ID0gdGhpcy5kaXZTdHlsZUFycmF5LmZpbmRJbmRleCgNCiAgICAgICAgICAgICAgKHApID0+IHAuZ3JvdXBOYW1lID09PSBzZWxDb250cm9sWzBdDQogICAgICAgICAgICApDQogICAgICAgICAgICBpZiAoaW5kZXggIT09IC0xKSB7DQogICAgICAgICAgICAgIHRoaXMuZGl2U3R5bGVBcnJheVtpbmRleF0uZGlzcGxheSA9ICdibG9jaycNCiAgICAgICAgICAgIH0NCiAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgY29uc3QgaW5kZXggPSB0aGlzLmRpdlN0eWxlQXJyYXkuZmluZEluZGV4KA0KICAgICAgICAgICAgICAocCkgPT4NCiAgICAgICAgICAgICAgICBwLmdyb3VwTmFtZSA9PT0NCiAgICAgICAgICAgICAgICB0aGlzLnVzZXJmb3JtRGF0YVt0aGlzLnVzZXJGb3JtSWRdW3NlbENvbnRyb2xbMF1dLnByb3BlcnRpZXMNCiAgICAgICAgICAgICAgICAgIC5Hcm91cElEIQ0KICAgICAgICAgICAgKQ0KICAgICAgICAgICAgaWYgKGluZGV4ICE9PSAtMSkgew0KICAgICAgICAgICAgICB0aGlzLmRpdlN0eWxlQXJyYXlbaW5kZXhdLmRpc3BsYXkgPSAnYmxvY2snDQogICAgICAgICAgICB9DQogICAgICAgICAgfQ0KICAgICAgICB9DQogICAgICB9DQogICAgfSBlbHNlIHsNCiAgICAgIGZvciAoY29uc3QgaW5kZXggaW4gdGhpcy5kaXZTdHlsZUFycmF5KSB7DQogICAgICAgIHRoaXMuZGl2U3R5bGVBcnJheVtpbmRleF0uZGlzcGxheSA9ICdub25lJw0KICAgICAgfQ0KICAgIH0NCiAgfQ0KfQ0K"},{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA+BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"index.vue","sourceRoot":"src/FormDesigner/components/organisms/FDGroupControl","sourcesContent":["<template>\r\n  <div v-if=\"groupedControls[userFormId].groupArray.length!==0\">\r\n   <div\r\n      v-for=\"(groupName, index) in groupedControls[userFormId].groupArray\"\r\n      :class=\"getGroupEditStyle(groupName)\"\r\n      :key=\"groupName.concat(index)\"\r\n      :style=\"getGroupStyle(groupName)\"\r\n      :id=\"groupName\"\r\n      @mousedown.stop=\"handleMouseDown($event,'drag')\"\r\n      @contextmenu.self.stop=\"openMenu($event,'control')\"\r\n    >\r\n    <div\r\n    :style=\"getGroupStyle(groupName)\"\r\n    class=\"innerGroupStyle\"\r\n    :id=\"groupName\"\r\n    @contextmenu=\"openMenu($event,'container')\"\r\n    >\r\n    <div class=\"handle handle-tl\" :style=\"handlerStyle(groupName)\" @mousedown.stop=\"handleMouseDown($event,'tl')\"></div>\r\n      <div class=\"handle handle-tr\" :style=\"handlerStyle(groupName)\" @mousedown.stop=\"handleMouseDown($event,'tr')\"></div>\r\n      <div class=\"handle handle-tm\" :style=\"handlerStyle(groupName)\" @mousedown.stop=\"handleMouseDown($event,'tm')\"></div>\r\n      <div class=\"handle handle-ml\" :style=\"handlerStyle(groupName)\" @mousedown.stop=\"handleMouseDown($event,'ml')\"></div>\r\n      <div class=\"handle handle-mr\" :style=\"handlerStyle(groupName)\" @mousedown.stop=\"handleMouseDown($event,'mr')\"></div>\r\n      <div class=\"handle handle-bl\" :style=\"handlerStyle(groupName)\" @mousedown.stop=\"handleMouseDown($event,'bl')\"></div>\r\n      <div class=\"handle handle-br\" :style=\"handlerStyle(groupName)\" @mousedown.stop=\"handleMouseDown($event,'br')\"></div>\r\n      <div class=\"handle handle-bm\" :style=\"handlerStyle(groupName)\" @mousedown.stop=\"handleMouseDown($event,'bm')\"></div>\r\n    </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script lang=\"ts\">\r\nimport { Component, Vue, Prop, Watch, Ref } from 'vue-property-decorator'\r\nimport {\r\n  IselectControl,\r\n  IupdateControl,\r\n  IupdateGroup\r\n} from '@/storeModules/fd/actions'\r\nimport { State, Action } from 'vuex-class'\r\nimport { EventBus } from '@/FormDesigner/event-bus'\r\nimport FDCommonMethod from '@/api/abstract/FormDesigner/FDCommonMethod'\r\n@Component({\r\n  name: 'GroupControl',\r\n  components: {}\r\n})\r\nexport default class GroupControl extends FDCommonMethod {\r\n  @State((state) => state.fd.groupedControls) groupedControls!: groupedControls;\r\n  @State((state) => state.fd.selectedControls)\r\n  selectedControls!: fdState['selectedControls'];\r\n  @State((state) => state.fd.userformData) userformData!: userformData;\r\n\r\n  @Prop({ required: true, type: Array }) public currentSelectedGroup!: string[];\r\n  @Prop({ required: true, type: String }) public userFormId!: string;\r\n  @Prop({ required: true, type: String }) public containerId!: string;\r\n  @Prop() controlRef: any;\r\n\r\n  @Action('fd/updateControl') updateControl!: (payload: IupdateControl) => void;\r\n  @Action('fd/updateGroup') updateGroup!: (payload: IupdateGroup) => void;\r\n  @Action('fd/selectControl') selectControl!: (payload: IselectControl) => void;\r\n\r\n  divStyleArray: Array<IGroupStyle> = [];\r\n  resizeDiv: string = '';\r\n\r\n  positions: IMousePosition = {\r\n    clientX: 0,\r\n    clientY: 0,\r\n    movementX: 0,\r\n    movementY: 0,\r\n    offsetX: 0,\r\n    offsetY: 0\r\n  };\r\n  groupName: string = '';\r\n  count: number = 0;\r\n  currentMouseDownEvent: CustomMouseEvent | null = null;\r\n  control: string = ''\r\n  container: string = ''\r\n  createGroup (groupName: string) {\r\n    this.groupStyle(groupName)\r\n  }\r\n  value = 'different'\r\n  isMainSelect = false;\r\n  isMove: boolean = false\r\n  tempEvent = {}\r\n\r\n  created () {\r\n    EventBus.$on('getGroupMoveValue', this.getGroupMoveValue)\r\n    EventBus.$on('startGroupMoveControl', this.startGroupMoveControl)\r\n    EventBus.$on('moveGroupControl', this.moveGroupControl)\r\n    EventBus.$on('endGroupMoveControl', this.endGroupMoveControl)\r\n    EventBus.$on('getClientValue', this.getClientValue)\r\n    EventBus.$on('updasteGroupSize', this.updasteGroupSize)\r\n    EventBus.$on('getGroupSize', this.getGroupSize)\r\n    EventBus.$on('groupElementDrag', this.elementDrag)\r\n  }\r\n  destroyed () {\r\n    EventBus.$off('getGroupMoveValue', this.getGroupMoveValue)\r\n    EventBus.$off('startGroupMoveControl', this.startGroupMoveControl)\r\n    EventBus.$off('moveGroupControl', this.moveGroupControl)\r\n    EventBus.$off('endGroupMoveControl', this.endGroupMoveControl)\r\n    EventBus.$off('getClientValue', this.getClientValue)\r\n    EventBus.$off('updasteGroupSize', this.updasteGroupSize)\r\n    EventBus.$off('getGroupSize', this.getGroupSize)\r\n    EventBus.$off('groupElementDrag', this.elementDrag)\r\n  }\r\n  convertToGridSize (val: number) {\r\n    const gridSize = 9\r\n    return Math.round(val / gridSize) * gridSize\r\n  }\r\n  updasteGroupSize (propName: keyof controlProperties, propertyValue: number, groupIndex: number) {\r\n    if (this.selectedControls[this.userFormId].container[0] === this.containerId) {\r\n      if (propName === 'GroupID') {\r\n        this.divStyleArray[groupIndex].left = `${this.convertToGridSize(parseInt(this.divStyleArray[groupIndex].left!))}px`\r\n        this.divStyleArray[groupIndex].height = `${this.convertToGridSize(parseInt(this.divStyleArray[groupIndex].height!))}px`\r\n        this.divStyleArray[groupIndex].top = `${this.convertToGridSize(parseInt(this.divStyleArray[groupIndex].top!))}px`\r\n        this.divStyleArray[groupIndex].width = `${this.convertToGridSize(parseInt(this.divStyleArray[groupIndex].width!))}px`\r\n      } else {\r\n        this.groupStyle(this.divStyleArray[groupIndex].groupName!)\r\n        this.updatedValue(groupIndex, propName, propertyValue)\r\n        this.groupStyle(this.divStyleArray[groupIndex].groupName!)\r\n      }\r\n    }\r\n  }\r\n  updatedValue (groupIndex: number, propName: keyof controlProperties, diff: number) {\r\n    for (const j in this.userformData[this.userFormId][this.containerId].controls) {\r\n      const index = this.userformData[this.userFormId][this.containerId].controls[j]\r\n      const controlProp = this.userformData[this.userFormId][index].properties\r\n      const divStyle = this.divStyleArray[groupIndex]\r\n      if (controlProp.GroupID && controlProp.GroupID === divStyle.groupName) {\r\n        if (propName === 'Left') {\r\n          let left: number = diff + this.leftArray[j]\r\n          this.updateControlAction(propName, left, index)\r\n        } else if (propName === 'Top') {\r\n          let top: number = diff + this.topArray[j]\r\n          this.updateControlAction(propName, top, index)\r\n        } else if (propName === 'Width') {\r\n          let left = (diff * this.leftArray[j]) / parseInt(divStyle.width!) + parseInt(divStyle.left!)\r\n          let width = diff * this.percwidthArray[j]\r\n          this.updateControlAction('Left', left, index)\r\n          this.updateControlAction(propName, width, index)\r\n        } else if (propName === 'Height') {\r\n          let top = (diff * this.topArray[j]) / parseInt(divStyle.height!) + parseInt(divStyle.top!)\r\n          let height = diff * this.percheightArray[j]\r\n          this.updateControlAction('Top', top, index)\r\n          this.updateControlAction(propName, height, index)\r\n        }\r\n      }\r\n    }\r\n  }\r\n  getClientValue (value: string, containerX: number, containerY: number, event: MouseEvent, container: string, previousEvent: MouseEvent) {\r\n    this.value = value\r\n    this.container = container\r\n    if (container === this.containerId) {\r\n      this.positions.clientX = previousEvent.clientX\r\n      this.positions.clientY = previousEvent.clientY\r\n      this.positions.offsetX = previousEvent.offsetX\r\n      this.positions.offsetY = previousEvent.offsetY\r\n      this.elementMouseDrag(event, containerX, containerY, previousEvent)\r\n    }\r\n  }\r\n  getGroupMoveValue (callBack: Function) {\r\n    callBack(\r\n      this.positions.offsetX,\r\n      this.positions.offsetY,\r\n      this.control,\r\n      this.tempEvent\r\n    )\r\n  }\r\n  getGroupSize (callBack: Function) {\r\n    if (this.containerId === this.selectedControls[this.userFormId].container[0]) {\r\n      callBack(this.divStyleArray)\r\n    }\r\n  }\r\n  endGroupMoveControl () {\r\n    // if (this.getIsMoveTarget) {\r\n    this.positions.movementX = 0\r\n    this.positions.movementY = 0\r\n    this.isMove = false\r\n    // }\r\n  }\r\n  topArray: number[] = [];\r\n  leftArray: number[] = [];\r\n\r\n  percwidthArray: number[] = [];\r\n  percheightArray: number[] = [];\r\n\r\n  initialArray: Array<IGroupStyle> = [];\r\n\r\n  get getIsMoveTarget () {\r\n    const isGroupPrsent = this.selectedControls[this.userFormId].selected.findIndex((val: string) => {\r\n      val.startsWith('group')\r\n    })\r\n    return isGroupPrsent === -1\r\n  }\r\n  startGroupMoveControl (event: MouseEvent) {\r\n    if (this.getIsMoveTarget) {\r\n      this.positions.clientX = event.clientX\r\n      this.positions.clientY = event.clientY\r\n    }\r\n  }\r\n\r\n  moveGroupControl (event: MouseEvent) {\r\n    if (this.getIsMoveTarget) {\r\n      //   this.moveBorder(event)\r\n      if (event.movementX !== 0 && event.movementY !== 0) {\r\n        EventBus.$emit('moveControl', event, 'groupControlDrag')\r\n        EventBus.$emit('groupDrag', 'groupdrag')\r\n        this.isMove = true\r\n        // this.updateIsMove(true)\r\n      }\r\n    }\r\n  }\r\n\r\n  updateControlAction (\r\n    propertyName: keyof controlProperties,\r\n    propertyValue: number,\r\n    controlId: string\r\n  ) {\r\n    this.updateControl({\r\n      userFormId: this.userFormId,\r\n      controlId: controlId,\r\n      propertyName: propertyName,\r\n      value: propertyValue\r\n    })\r\n  }\r\n  handlerStyle (groupName: string) {\r\n    const isGroup: string = this.selectedControls[this.userFormId].selected[0]\r\n    return {\r\n      backgroundColor: isGroup === groupName ? 'white' : 'black',\r\n      borderColor: isGroup === groupName ? 'black' : 'white'\r\n    }\r\n  }\r\n  groupStyle (groupName: string) {\r\n    this.count += 1\r\n    let index = this.divStyleArray.findIndex(\r\n      (p: IGroupStyle) => p.groupName === groupName\r\n    )\r\n    if (index === -1) {\r\n      this.divStyleArray.push({\r\n        left: '0px',\r\n        top: '0px',\r\n        width: '0px',\r\n        height: '0px',\r\n        display: 'none',\r\n        groupName: groupName\r\n      })\r\n    }\r\n    const styleLeft: number[] = []\r\n    const styleWidth: number[] = []\r\n    const styleTop: number[] = []\r\n    const styleHeight: number[] = []\r\n    for (const control of this.userformData[this.userFormId][this.containerId]\r\n      .controls) {\r\n      if (\r\n        this.userformData[this.userFormId][control].properties.GroupID ===\r\n        groupName\r\n      ) {\r\n        const controlprop = this.userformData[this.userFormId][control]\r\n          .properties\r\n        styleLeft.push(controlprop.Left!)\r\n        styleTop.push(controlprop.Top!)\r\n        styleWidth.push(controlprop.Width! + controlprop.Left!)\r\n        styleHeight.push(controlprop.Height! + controlprop.Top!)\r\n      }\r\n    }\r\n    index = this.divStyleArray.findIndex(\r\n      (p: IGroupStyle) => p.groupName === groupName\r\n    )\r\n    this.divStyleArray[index].left = `${Math.min(...styleLeft)}px`\r\n    this.divStyleArray[index].top = `${Math.min(...styleTop)}px`\r\n    this.divStyleArray[index].width = `${\r\n      Math.max(...styleWidth) - Math.min(...styleLeft)\r\n    }px`\r\n    this.divStyleArray[index].height = `${\r\n      Math.max(...styleHeight) - Math.min(...styleTop)\r\n    }px`\r\n\r\n    this.topArray = []\r\n    this.leftArray = []\r\n\r\n    this.percwidthArray = []\r\n    this.percheightArray = []\r\n\r\n    for (const control of this.userformData[this.userFormId][this.containerId].controls) {\r\n      const controlProp = this.userformData[this.userFormId][control].properties\r\n      if (this.userformData[this.userFormId][control].type !== 'Useform') {\r\n        if (controlProp.GroupID !== '') {\r\n          for (const divStyle of this.divStyleArray) {\r\n            if (controlProp.GroupID === divStyle.groupName) {\r\n              this.topArray.push(controlProp.Top! - parseInt(divStyle.top!))\r\n\r\n              this.leftArray.push(controlProp.Left! - parseInt(divStyle.left!))\r\n\r\n              this.percheightArray.push(\r\n              controlProp.Height! / parseInt(divStyle.height!)\r\n              )\r\n\r\n              this.percwidthArray.push(\r\n              controlProp.Width! / parseInt(divStyle.width!)\r\n              )\r\n            }\r\n          }\r\n        } else {\r\n          this.topArray.push(controlProp.Top!)\r\n\r\n          this.leftArray.push(controlProp.Left!)\r\n\r\n          this.percheightArray.push(controlProp.Height!)\r\n\r\n          this.percwidthArray.push(controlProp.Width!)\r\n        }\r\n      }\r\n    }\r\n    this.initialArray = []\r\n    for (let k = 0; k < this.divStyleArray.length; k++) {\r\n      this.initialArray.push(Object.assign({}, this.divStyleArray[k]))\r\n    }\r\n  }\r\n\r\n  deActGroupControl () {\r\n    const selControl = this.selectedControls[this.userFormId].selected\r\n    if (\r\n      this.currentSelectedGroup.length === 1 &&\r\n      selControl.length === 1 &&\r\n      !selControl[0].startsWith('group')\r\n    ) {\r\n      const controlId = this.selectedControls[this.userFormId].selected[0]\r\n      if (\r\n        this.currentSelectedGroup[0] ===\r\n        this.userformData[this.userFormId][controlId].properties.GroupID!\r\n      ) {\r\n        this.selectControl({\r\n          userFormId: this.userFormId,\r\n          select: {\r\n            container: this.getContainerList(this.currentSelectedGroup[0]),\r\n            selected: [this.currentSelectedGroup[0]]\r\n          }\r\n        })\r\n      }\r\n    }\r\n  }\r\n\r\n  handleMouseDown (event: CustomMouseEvent, handler: string) {\r\n    this.tempEvent = event\r\n    EventBus.$emit('groupDrag', 'NotDrag')\r\n    this.isMove = false\r\n    this.deActGroupControl()\r\n    this.resizeDiv = handler\r\n    this.positions.clientX = event.clientX\r\n    this.positions.clientY = event.clientY\r\n    this.currentMouseDownEvent = event\r\n    if (handler !== 'drag') {\r\n      EventBus.$emit('startGroupMoveControl', event)\r\n      EventBus.$emit('startResizeGroupControl', event, handler)\r\n      document.onmousemove = (event: MouseEvent) => {\r\n        EventBus.$emit('resizeGroupControl', event, this.positions)\r\n      }\r\n    } else {\r\n      this.positions.offsetX = event.offsetX\r\n      this.positions.offsetY = event.offsetY\r\n      this.isMainSelect = true\r\n      EventBus.$emit('startGroupMoveControl', event)\r\n      EventBus.$emit('startResizeGroupControl', event, handler)\r\n      document.onmousemove = (event: MouseEvent) => {\r\n        EventBus.$emit('moveGroupControl', event)\r\n      }\r\n    }\r\n    document.onmouseup = (event) => {\r\n      this.closeDragElement(event, handler)\r\n    }\r\n  }\r\n  elementMouseDrag (event: MouseEvent, containerX: number, containerY: number, previousEvent: MouseEvent): void {\r\n    event.preventDefault()\r\n    if (this.container === this.containerId) {\r\n      const containerProp = this.userformData[this.userFormId][this.containerId].properties\r\n      for (const i of this.selectedControls[this.userFormId].selected) {\r\n        if (i.startsWith('group')) {\r\n          const index = this.divStyleArray.findIndex(val => val.groupName === i)\r\n          this.divStyleArray[index].display = 'block'\r\n          this.groupStyle(this.divStyleArray[index].groupName!)\r\n        }\r\n      }\r\n      this.resizeDiv = 'drag'\r\n      let targetLeft = -1\r\n      let targetTop = -1\r\n      const main = this.selectedControls[this.userFormId].selected[0]\r\n      const isGroup = main.startsWith('group') ? this.divStyleArray.findIndex(val => val.groupName === main) : -1\r\n      if (isGroup === -1) {\r\n        const targetData = this.userformData[this.userFormId][main].properties\r\n        targetLeft = targetData.Left!\r\n        targetTop = targetData.Top!\r\n      } else {\r\n        const targetData = this.divStyleArray[isGroup]\r\n        targetLeft = parseInt(targetData.left!)\r\n        targetTop = parseInt(targetData.top!)\r\n      }\r\n      this.positions.movementX = (targetLeft - (containerX - this.positions.offsetX!))\r\n      this.positions.movementY = (targetTop - (containerY - this.positions.offsetY!))\r\n      const scale: number = 1\r\n      const grid: Array<number> = [10, 10]\r\n      const x: number =\r\n      Math.round(this.positions.movementX / scale / grid[0]) * grid[0]\r\n      const y: number =\r\n      Math.round(this.positions.movementY / scale / grid[1]) * grid[1]\r\n\r\n      if (this.currentMouseDownEvent && (x !== 0 || y !== 0)) {\r\n        this.currentMouseDownEvent.customCallBack &&\r\n        this.currentMouseDownEvent.customCallBack()\r\n      }\r\n      let dragResizeControl: IGroupStyle = {}\r\n      let dragResizeControl1: controlProperties = { ID: '' }\r\n\r\n      for (let i = 0; i < this.divStyleArray.length; i++) {\r\n        this.groupName = this.divStyleArray[i].groupName!\r\n        dragResizeControl = this.divStyleArray[i]\r\n        if (dragResizeControl.display === 'block') {\r\n          let top: number = -1\r\n          let left: number = -1\r\n          let decHeight: number = -1\r\n          top = parseInt(dragResizeControl.top!) - y\r\n          left = parseInt(dragResizeControl.left!) - x\r\n\r\n          if (this.resizeDiv === 'drag') {\r\n            dragResizeControl.top = `${top + containerProp.ScrollTop!}px`\r\n            dragResizeControl.left = `${left + containerProp.ScrollLeft!}px`\r\n          }\r\n          for (const j in this.userformData[this.userFormId][this.containerId]\r\n            .controls) {\r\n            const index = this.userformData[this.userFormId][this.containerId]\r\n              .controls[j]\r\n            const controlProp = this.userformData[this.userFormId][index]\r\n              .properties\r\n            if (\r\n              controlProp.GroupID === this.divStyleArray[i].groupName &&\r\n            this.divStyleArray[i].display === 'block'\r\n            ) {\r\n              dragResizeControl1 = controlProp\r\n              if (this.resizeDiv === 'drag') {\r\n                top = dragResizeControl1.Top! - y\r\n                left = dragResizeControl1.Left! - x\r\n                this.updateControlAction('Top', top + containerProp.ScrollTop!, index)\r\n                this.updateControlAction('Left', left + containerProp.ScrollLeft!, index)\r\n              }\r\n            }\r\n          }\r\n        }\r\n      }\r\n      for (let k of this.selectedControls[this.userFormId].selected) {\r\n        if (!k.startsWith('ID_USERFORM') && !k.startsWith('group')) {\r\n          let dragResizeReffer: IdragResizeRefStyle = {}\r\n          const control: controlProperties = this.userformData[this.userFormId][k]\r\n            .properties\r\n          for (const key in this.controlRef.resizeControl) {\r\n            if (\r\n              this.controlRef.resizeControl[key].$refs['draRef'.concat(control.ID)] !== undefined\r\n            ) {\r\n              dragResizeReffer = this.controlRef.resizeControl[key].$refs['draRef'.concat(control.ID)]\r\n            }\r\n          }\r\n          const top = control.Top! - y\r\n          const left = control.Left! - x\r\n\r\n          if (this.resizeDiv === 'drag') {\r\n            this.updateControlAction('Top', top + containerProp.ScrollTop!, k)\r\n            this.updateControlAction('Left', left + containerProp.ScrollLeft!, k)\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  elementDrag (event: MouseEvent): void {\r\n    event.preventDefault()\r\n    this.positions.movementX = this.positions.clientX - event.clientX\r\n    this.positions.movementY = this.positions.clientY - event.clientY\r\n    const scale: number = 1\r\n    const grid: Array<number> = [10, 10]\r\n    const x: number =\r\n      Math.round(this.positions.movementX / scale / grid[0]) * grid[0]\r\n    const y: number =\r\n      Math.round(this.positions.movementY / scale / grid[1]) * grid[1]\r\n\r\n    if (this.currentMouseDownEvent && (x !== 0 || y !== 0)) {\r\n      this.currentMouseDownEvent.customCallBack &&\r\n        this.currentMouseDownEvent.customCallBack()\r\n    }\r\n    const diffGridX: number = x - this.positions.movementX\r\n    const diffGridY: number = y - this.positions.movementY\r\n\r\n    this.positions.clientX = event.clientX - diffGridX\r\n    this.positions.clientY = event.clientY - diffGridY\r\n\r\n    let dragResizeControl: IGroupStyle = {}\r\n    let dragResizeControl1: controlProperties = { ID: '' }\r\n\r\n    for (let i = 0; i < this.divStyleArray.length; i++) {\r\n      this.groupName = this.divStyleArray[i].groupName!\r\n      dragResizeControl = this.divStyleArray[i]\r\n      if (dragResizeControl.display === 'block') {\r\n        let top: number = -1\r\n        let left: number = -1\r\n        let incWidth: number = -1\r\n        let incHeight: number = -1\r\n        let decWidth: number = -1\r\n        let decHeight: number = -1\r\n        top = parseInt(dragResizeControl.top!) - y\r\n        left = parseInt(dragResizeControl.left!) - x\r\n        incWidth =\r\n          parseInt(dragResizeControl.width!) + x > 0\r\n            ? parseInt(dragResizeControl.width!) + x\r\n            : 0\r\n        incHeight =\r\n          parseInt(dragResizeControl.height!) + y > 0\r\n            ? parseInt(dragResizeControl.height!) + y\r\n            : 0\r\n        decWidth =\r\n          parseInt(dragResizeControl.width!) - x > 0\r\n            ? parseInt(dragResizeControl.width!) - x\r\n            : 0\r\n        decHeight =\r\n          parseInt(dragResizeControl.height!) - y > 0\r\n            ? parseInt(dragResizeControl.height!) - y\r\n            : 0\r\n\r\n        if (this.resizeDiv === 'drag') {\r\n          dragResizeControl.top = `${top}px`\r\n          dragResizeControl.left = `${left}px`\r\n        } else {\r\n          if (this.resizeDiv.includes('t')) {\r\n            if (incHeight > 0) {\r\n              dragResizeControl.top = `${top}px`\r\n            }\r\n            dragResizeControl.height = `${incHeight}px`\r\n          } else if (this.resizeDiv.includes('b')) {\r\n            dragResizeControl.height = `${decHeight}px`\r\n          }\r\n\r\n          if (this.resizeDiv.includes('l')) {\r\n            if (incWidth > 0) {\r\n              dragResizeControl.left = `${left}px`\r\n            }\r\n            dragResizeControl.width = `${incWidth}px`\r\n          } else if (this.resizeDiv.includes('r')) {\r\n            dragResizeControl.width = `${decWidth}px`\r\n          }\r\n        }\r\n        for (const j in this.userformData[this.userFormId][this.containerId]\r\n          .controls) {\r\n          const index = this.userformData[this.userFormId][this.containerId]\r\n            .controls[j]\r\n          const controlProp = this.userformData[this.userFormId][index]\r\n            .properties\r\n\r\n          let top: number =\r\n            (parseInt(dragResizeControl.height!) * this.topArray[j]) /\r\n              parseInt(this.initialArray[i].height!) +\r\n            parseInt(this.initialArray[i].top!)\r\n\r\n          let height: number =\r\n            parseInt(dragResizeControl.height!) * this.percheightArray[j]\r\n\r\n          let left: number =\r\n            (parseInt(dragResizeControl.width!) * this.leftArray[j]) /\r\n              parseInt(this.initialArray[i].width!) +\r\n            parseInt(this.initialArray[i].left!)\r\n\r\n          let width: number =\r\n            parseInt(dragResizeControl.width!) * this.percwidthArray[j]\r\n\r\n          let right: number =\r\n            (parseInt(dragResizeControl.width!) * this.leftArray[j]) /\r\n              parseInt(this.initialArray[i].width!) +\r\n            parseInt(dragResizeControl.left!)\r\n\r\n          let bottom: number =\r\n            (parseInt(dragResizeControl.height!) * this.topArray[j]) /\r\n              parseInt(this.initialArray[i].height!) +\r\n            parseInt(dragResizeControl.top!)\r\n          if (\r\n            controlProp.GroupID === this.divStyleArray[i].groupName &&\r\n            this.divStyleArray[i].display === 'block'\r\n          ) {\r\n            dragResizeControl1 = controlProp\r\n            if (this.resizeDiv === 'drag') {\r\n              top = dragResizeControl1.Top! - y\r\n              left = dragResizeControl1.Left! - x\r\n              this.updateControlAction('Top', top, index)\r\n              this.updateControlAction('Left', left, index)\r\n            } else {\r\n              if (this.resizeDiv.includes('t')) {\r\n                this.updateControlAction('Top', bottom, index)\r\n                this.updateControlAction('Height', height, index)\r\n              } else if (this.resizeDiv.includes('b')) {\r\n                this.updateControlAction('Top', top, index)\r\n                this.updateControlAction('Height', height, index)\r\n              }\r\n              if (this.resizeDiv.includes('l')) {\r\n                this.updateControlAction('Left', right, index)\r\n                this.updateControlAction('Width', width, index)\r\n              } else if (this.resizeDiv.includes('r')) {\r\n                this.updateControlAction('Left', left, index)\r\n                this.updateControlAction('Width', width, index)\r\n              }\r\n            }\r\n          }\r\n        }\r\n      }\r\n    }\r\n    for (let k of this.selectedControls[this.userFormId].selected) {\r\n      if (!k.startsWith('ID_USERFORM') && !k.startsWith('group')) {\r\n        let dragResizeReffer: IdragResizeRefStyle = {}\r\n        const control: controlProperties = this.userformData[this.userFormId][k]\r\n          .properties\r\n        for (const key in this.controlRef.resizeControl) {\r\n          if (\r\n            this.controlRef.resizeControl[key].$refs['draRef'.concat(control.ID)] !== undefined\r\n          ) {\r\n            dragResizeReffer = this.controlRef.resizeControl[key].$refs['draRef'.concat(control.ID)]\r\n          }\r\n        }\r\n        const top = dragResizeReffer.offsetTop! - y\r\n        const left = dragResizeReffer.offsetLeft! - x\r\n        const incWidth = control.Width! + x > 0 ? control.Width! + x : 0\r\n        const incHeight = control.Height! + y > 0 ? control.Height! + y : 0\r\n        const decWidth = control.Width! - x > 0 ? control.Width! - x : 0\r\n        const decHeight = control.Height! - y > 0 ? control.Height! - y : 0\r\n\r\n        if (this.resizeDiv === 'drag') {\r\n          this.updateControlAction('Top', top, k)\r\n          this.updateControlAction('Left', left, k)\r\n        } else {\r\n          if (this.resizeDiv.includes('t')) {\r\n            if (incHeight > 0) {\r\n              this.updateControlAction('Top', top, k)\r\n            }\r\n            this.updateControlAction('Height', incHeight, k)\r\n          } else if (this.resizeDiv.includes('b')) {\r\n            this.updateControlAction('Height', decHeight, k)\r\n          }\r\n          if (this.resizeDiv.includes('l')) {\r\n            if (incWidth > 0) {\r\n              this.updateControlAction('Left', left, k)\r\n            }\r\n            this.updateControlAction('Width', incWidth, k)\r\n          } else if (this.resizeDiv.includes('r')) {\r\n            this.updateControlAction('Width', decWidth, k)\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n  openContextMenu (e: MouseEvent, parentID: string, controlID: string, type: string) {\r\n    this.$emit('openMenu', e, parentID, controlID, type)\r\n  }\r\n  openMenu (event: MouseEvent, type: string) {\r\n    event.preventDefault()\r\n    event.stopPropagation()\r\n    const container = this.selectedControls[this.userFormId].container[0]\r\n    let controlId = container\r\n    if (type === 'control') {\r\n      controlId = this.getSelectedControlsDatas![0]\r\n    }\r\n    this.openContextMenu(event, container, controlId, type)\r\n  }\r\n\r\n  closeDragElement (event:MouseEvent, handler: string): void {\r\n    this.elementDrag(event)\r\n    if (this.value !== 'same') {\r\n      this.value = 'different'\r\n    }\r\n    EventBus.$emit('updateIsControlMove', this.isMove)\r\n    EventBus.$emit('groupDrag', 'NotDrag')\r\n    EventBus.$emit('endMoveControl', 'groupEndMove')\r\n    EventBus.$emit('endGroupMoveControl')\r\n    document.onmouseup = null\r\n    document.onmousemove = null\r\n    if (handler === 'drag') {\r\n      const selected = this.selectedControls[this.userFormId].selected\r\n      for (const grpname in selected) {\r\n        if (selected[grpname].startsWith('group')) {\r\n          this.groupStyle(selected[grpname])\r\n        }\r\n      }\r\n    }\r\n    for (const controlGroup in this.divStyleArray) {\r\n      const groupName = this.divStyleArray[controlGroup].groupName!\r\n      if (groupName.startsWith('group')) {\r\n        this.groupStyle(groupName)\r\n      }\r\n    }\r\n  }\r\n  getGroupEditStyle (groupName: string) {\r\n    const selected = this.selectedControls[this.userFormId].selected\r\n    const isSelected =\r\n      selected.length === 1 &&\r\n      !selected[0].startsWith('group') &&\r\n      this.userformData[this.userFormId][selected[0]].properties.GroupID ===\r\n        groupName\r\n    return isSelected ? 'mainEditDiv' : 'mainDiv'\r\n  }\r\n  getGroupStyle (groupName: string) {\r\n    return this.divStyleArray[this.divStyleArray.findIndex((p) => p.groupName === groupName)]\r\n  }\r\n\r\n  @Watch('selectedControls', { deep: true })\r\n  updateGroupStyle () {\r\n    const selectedContainer = this.selectedControls[this.userFormId].container[0]\r\n    if (selectedContainer !== this.containerId && this.isMove) {\r\n      const selected = this.selectedControls[this.userFormId].selected\r\n      for (const grpname in selected) {\r\n        if (selected[grpname].startsWith('group')) {\r\n          const fingGroupIndex = this.divStyleArray.findIndex(val => val.groupName === selected[grpname])\r\n          this.divStyleArray.splice(fingGroupIndex, 1)\r\n        }\r\n      }\r\n    }\r\n    if (this.divStyleArray.length > 0 && selectedContainer === this.containerId) {\r\n      for (const index in this.divStyleArray) {\r\n        this.divStyleArray[index].display = 'none'\r\n      }\r\n      const selControl = this.selectedControls[this.userFormId].selected\r\n      if (selControl.length >= 1) {\r\n        for (const val of this.getSelectedControlsDatas!) {\r\n          const groupId = this.userformData[this.userFormId][val].properties.GroupID!\r\n          if (groupId) {\r\n            const index = this.divStyleArray.findIndex(\r\n              (p) => p.groupName === groupId\r\n            )\r\n            this.divStyleArray[index].display = 'block'\r\n          }\r\n        }\r\n      } else {\r\n        if (\r\n          selControl[0].startsWith('group') ||\r\n          (!selControl[0].startsWith('group') &&\r\n            selControl.includes(\r\n              this.userformData[this.userFormId][selControl[0]].properties\r\n                .GroupID!\r\n            ))\r\n        ) {\r\n          if (selControl[0].startsWith('group')) {\r\n            const index = this.divStyleArray.findIndex(\r\n              (p) => p.groupName === selControl[0]\r\n            )\r\n            if (index !== -1) {\r\n              this.divStyleArray[index].display = 'block'\r\n            }\r\n          } else {\r\n            const index = this.divStyleArray.findIndex(\r\n              (p) =>\r\n                p.groupName ===\r\n                this.userformData[this.userFormId][selControl[0]].properties\r\n                  .GroupID!\r\n            )\r\n            if (index !== -1) {\r\n              this.divStyleArray[index].display = 'block'\r\n            }\r\n          }\r\n        }\r\n      }\r\n    } else {\r\n      for (const index in this.divStyleArray) {\r\n        this.divStyleArray[index].display = 'none'\r\n      }\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style  scoped>\r\n.move-border {\r\n  z-index: 9999;\r\n  position: absolute;\r\n  border: 1px rgb(59, 58, 58) dashed;\r\n}\r\n.m-top-b,\r\n.m-bottom-b {\r\n  width: 100%;\r\n}\r\n.m-left-b,\r\n.m-right-b {\r\n  height: 100%;\r\n}\r\n.handle {\r\n  box-sizing: border-box;\r\n  position: absolute;\r\n  width: 6px;\r\n  height: 6px;\r\n  background: white;\r\n  border: 1px solid #333;\r\n}\r\n.handleActivate {\r\n  box-sizing: border-box;\r\n  position: absolute;\r\n  width: 6px;\r\n  height: 6px;\r\n\r\n  background: black;\r\n  border: 1px solid white;\r\n}\r\n.handle-tl {\r\n  top: -5px;\r\n  left: -5px;\r\n  cursor: nw-resize;\r\n}\r\n.handle-tm {\r\n  top: -5px;\r\n  left: 50%;\r\n  margin-left: -5px;\r\n  cursor: n-resize;\r\n}\r\n.handle-tr {\r\n  top: -5px;\r\n  right: -5px;\r\n  cursor: ne-resize;\r\n}\r\n.handle-ml {\r\n  top: 50%;\r\n  margin-top: -5px;\r\n  left: -5px;\r\n  cursor: w-resize;\r\n}\r\n.handle-mr {\r\n  top: 50%;\r\n  margin-top: -5px;\r\n  right: -5px;\r\n  cursor: e-resize;\r\n}\r\n.handle-bl {\r\n  bottom: -5px;\r\n  left: -5px;\r\n  cursor: sw-resize;\r\n}\r\n.handle-bm {\r\n  bottom: -5px;\r\n  left: 50%;\r\n  margin-left: -5px;\r\n  cursor: s-resize;\r\n}\r\n.handle-br {\r\n  bottom: -5px;\r\n  right: -5px;\r\n  cursor: se-resize;\r\n}\r\n.mainDiv {\r\n  cursor: move;\r\n  position: absolute;\r\n  --border-width: 5;\r\n  --stripe-distance: 2px;\r\n  border: calc(var(--border-width) * 1px) solid transparent;\r\n  border-image: repeating-linear-gradient(\r\n      -110deg,\r\n      black,\r\n      transparent 1px,\r\n      transparent var(--stripe-distance),\r\n      black calc(var(--stripe-distance) + 0.2px)\r\n    )\r\n    var(--border-width);\r\n  padding: 5px;\r\n  margin-top: -5px;\r\n  margin-left: -5px;\r\n  display: none;\r\n}\r\n.mainEditDiv {\r\n  position: absolute;\r\n  cursor: move;\r\n  --border-width: 5;\r\n  --stripe-distance: 2px;\r\n  border: calc(var(--border-width) * 1px) solid transparent;\r\n  border-image: repeating-linear-gradient(\r\n      -45deg,\r\n      black,\r\n      transparent 2px,\r\n      transparent var(--stripe-distance),\r\n      black calc(var(--stripe-distance) + 0.2px)\r\n    )\r\n    var(--border-width);\r\n  padding: 5px;\r\n  margin-top: -5px;\r\n  margin-left: -5px;\r\n  display: none;\r\n}\r\n.innerGroupStyle {\r\n    margin-top: -5px;\r\n    margin-left: -5px;\r\n    padding-right: 10px;\r\n    padding-bottom: 10px;\r\n}\r\n.handle {\r\n  box-sizing: border-box;\r\n  position: absolute;\r\n  width: 6px;\r\n  height: 6px;\r\n  background: white;\r\n  border: 1px solid #333;\r\n}\r\n.handle-tl {\r\n  top: -5px;\r\n  left: -5px;\r\n  cursor: nw-resize;\r\n}\r\n.handle-tm {\r\n  top: -5px;\r\n  left: 50%;\r\n  margin-left: -5px;\r\n  cursor: n-resize;\r\n}\r\n.handle-tr {\r\n  top: -5px;\r\n  right: -5px;\r\n  cursor: ne-resize;\r\n}\r\n.handle-ml {\r\n  top: 50%;\r\n  margin-top: -5px;\r\n  left: -5px;\r\n  cursor: w-resize;\r\n}\r\n.handle-mr {\r\n  top: 50%;\r\n  margin-top: -5px;\r\n  right: -5px;\r\n  cursor: e-resize;\r\n}\r\n.handle-bl {\r\n  bottom: -5px;\r\n  left: -5px;\r\n  cursor: sw-resize;\r\n}\r\n.handle-bm {\r\n  bottom: -5px;\r\n  left: 50%;\r\n  margin-left: -5px;\r\n  cursor: s-resize;\r\n}\r\n.handle-br {\r\n  bottom: -5px;\r\n  right: -5px;\r\n  cursor: se-resize;\r\n}\r\n</style>\r\n"]}]}