{"remainingRequest":"/home/mobiotics/Projects/hancom/FormcontrolLatest/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/mobiotics/Projects/hancom/FormcontrolLatest/src/FormDesigner/components/organisms/FDDragSelector/DragSelector.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/mobiotics/Projects/hancom/FormcontrolLatest/src/FormDesigner/components/organisms/FDDragSelector/DragSelector.vue","mtime":1612197584000},{"path":"/home/mobiotics/Projects/hancom/FormcontrolLatest/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/mobiotics/Projects/hancom/FormcontrolLatest/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/mobiotics/Projects/hancom/FormcontrolLatest/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/mobiotics/Projects/hancom/FormcontrolLatest/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgZW1pdHRlciBmcm9tICcuL21peGlucy9lbWl0dGVyJw0KaW1wb3J0IHsgdGhyb3R0bGUgfSBmcm9tICcuL3V0aWxzL3V0aWxzJw0KDQovKioNCiAgICog6ZyA5rGC77ya5qGG6YCJ5a2Q6aG5DQogICAqIOe7hOS7tu+8muahhumAieWMuu+8jOahhumAieWtkOmhuQ0KICAgKiDlrp7njrDmlrnms5XvvJrpvKDmoIflnKjmoYbpgInljLrplb/mjInmi5bliqjml7borqHnrpfmi5bliqjlnZDmoIfvvIzlpoLmnpzmoYbpgInov5vlhaXojIPlm7TvvIzmlLnlj5jkuLrpgInkuK3nirbmgIHvvIzljZXlh7vku7vmhI/lnLDmlrnlj5bmtojpgInkuK0NCiAgICogMS4g5byA5aeL5ouW5Yqo5YmN6K6h566X5ZCE5Liq5a2Q6aG555qE5Z2Q5qCHDQogICAqIDIuIOaLluWKqOi/h+eoi+S4rei/m+ihjOWIpOaWre+8jOWmguaenOi/m+WFpeiiq+ahhumAieiMg+WbtO+8jOinpuWPkeivpeWtkOmhueS/ruaUueeKtuaAgQ0KICAgKi8NCmNvbnN0IFBPSU5UX01PREVMID0gWydvZmZzZXRYJywgJ29mZnNldFknLCAnY2xpZW50WCcsICdjbGllbnRZJ10NCg0KZXhwb3J0IGRlZmF1bHQgew0KICBuYW1lOiAnZHJhZy1zZWxlY3RvcicsDQoNCiAgbWl4aW5zOiBbZW1pdHRlcl0sDQoNCiAgcHJvcHM6IHsNCiAgICB2YWx1ZTogew0KICAgICAgdHlwZTogQXJyYXksDQogICAgICBkZWZhdWx0ICgpIHsNCiAgICAgICAgcmV0dXJuIFtdDQogICAgICB9DQogICAgfSwNCiAgICBpc0VkaXRNb2RlOiB7DQogICAgICB0eXBlOiBCb29sZWFuLA0KICAgICAgZGVmYXVsdCAoKSB7DQogICAgICAgIHJldHVybiBmYWxzZQ0KICAgICAgfQ0KICAgIH0NCiAgfSwNCg0KICBkYXRhICgpIHsNCiAgICByZXR1cm4gew0KICAgICAgZHJhZ2dpbmc6IGZhbHNlLA0KICAgICAgaGFuZGxlTW91c2VNb3ZlVGhyb3R0bGVkOiAoKSA9PiB7DQogICAgICB9LA0KICAgICAgZW1pdENoYW5nZVRocm90dGxlZDogKCkgPT4gew0KICAgICAgfSwNCiAgICAgIHN0YXJ0UG9pbnQ6IHsNCiAgICAgICAgb2Zmc2V0WDogMCwNCiAgICAgICAgb2Zmc2V0WTogMA0KICAgICAgfSwNCiAgICAgIGVuZFBvaW50OiB7DQogICAgICAgIG9mZnNldFg6IDAsDQogICAgICAgIG9mZnNldFk6IDANCiAgICAgIH0sDQogICAgICBwb2ludDogew0KICAgICAgICBvZmZzZXRYOiAwLA0KICAgICAgICBvZmZzZXRZOiAwDQogICAgICB9LA0KICAgICAgY2hpbGRJdGVtczogW10sDQogICAgICBjaGlsZHJlbkRPTVBvaW50czogW10sDQogICAgICBicm93c2VyUG9pbnQ6IHsNCiAgICAgIH0sDQogICAgICBzZWxmUG9pbnQ6IHsNCiAgICAgICAgY2xpZW50WDogMCwNCiAgICAgICAgY2xpZW50WTogMA0KICAgICAgfQ0KICAgIH0NCiAgfSwNCg0KICBjcmVhdGVkICgpIHsNCiAgICB0aGlzLnJlZ2lzdGVyRXZlbnRzKCkNCiAgfSwNCg0KICBtb3VudGVkICgpIHsNCiAgICB0aGlzLmhhbmRsZU1vdXNlTW92ZVRocm90dGxlZCA9IHRocm90dGxlKHRoaXMuaGFuZGxlTW91c2VNb3ZlKQ0KICAgIHRoaXMuZW1pdENoYW5nZVRocm90dGxlZCA9IHRocm90dGxlKHRoaXMuZW1pdENoYW5nZSwgMjAwKQ0KICB9LA0KDQogIG1ldGhvZHM6IHsNCiAgICByZWdpc3RlckV2ZW50cyAoKSB7DQogICAgICB0aGlzLiRvbignb24tZHJhZy1zZWxlY3Rvci1pdGVtLWFkZCcsIGl0ZW0gPT4gew0KICAgICAgICBpZiAoaXRlbSkgdGhpcy5jaGlsZEl0ZW1zLnB1c2goaXRlbSkNCiAgICAgIH0pDQogICAgICB0aGlzLiRvbignb24tZHJhZy1zZWxlY3Rvci1pdGVtLXJlbW92ZScsIGl0ZW0gPT4gew0KICAgICAgICBjb25zdCBpbmRleCA9IHRoaXMuY2hpbGRJdGVtcy5pbmRleE9mKGl0ZW0pDQogICAgICAgIGlmIChpbmRleCA+PSAwKSB0aGlzLmNoaWxkSXRlbXMuc3BsaWNlKGluZGV4LCAxKQ0KICAgICAgfSkNCiAgICAgIHRoaXMuJG9uKCdkcmFnLXNlbGVjdG9yLWl0ZW0tY2hhbmdlJywgKHsgc2VsZWN0ZWQsIHZhbHVlIH0pID0+IHsNCiAgICAgICAgY29uc3QgaW5kZXggPSB0aGlzLnZhbHVlLmluZGV4T2YodmFsdWUpDQogICAgICAgIGlmIChzZWxlY3RlZCkgew0KICAgICAgICAgIHRoaXMudmFsdWUucHVzaCh2YWx1ZSkNCiAgICAgICAgfSBlbHNlIGlmIChpbmRleCAhPT0gLTEpIHsNCiAgICAgICAgICB0aGlzLnZhbHVlLnNwbGljZShpbmRleCwgMSkNCiAgICAgICAgfQ0KICAgICAgICB0aGlzLmVtaXRDaGFuZ2VUaHJvdHRsZWQoKQ0KICAgICAgfSkNCiAgICB9LA0KDQogICAgZW1pdENoYW5nZSAoKSB7DQogICAgICB0aGlzLiRlbWl0KCdjaGFuZ2UnLCB0aGlzLnZhbHVlKQ0KICAgICAgdGhpcy4kZW1pdCgnaW5wdXQnLCB0aGlzLnZhbHVlKQ0KICAgIH0sDQoNCiAgICBoYW5kbGVNb3VzZURvd24gKGUpIHsNCiAgICAgIGlmICh0aGlzLmlzRWRpdE1vZGUpIHsNCiAgICAgICAgdGhpcy5jYW5jZWxBbGxTZWxlY3QoKQ0KICAgICAgICB0aGlzLiRuZXh0VGljaygoKSA9PiB7DQogICAgICAgICAgdGhpcy5yZXNldFBvaW50KGUpDQogICAgICAgICAgdGhpcy51cGRhdGVQb2ludERhdGEodGhpcy5wb2ludCwgZSkNCiAgICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignbW91c2V1cCcsIHRoaXMuaGFuZGxlTW91c2VVcCkNCiAgICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vtb3ZlJywgdGhpcy5oYW5kbGVNb3VzZU1vdmVUaHJvdHRsZWQpDQogICAgICAgIH0pDQogICAgICB9DQogICAgICB0aGlzLiRlbWl0KCdkZUFjdGl2ZUNvbnRyb2wnLCBlKQ0KICAgIH0sDQoNCiAgICBoYW5kbGVNb3VzZU1vdmUgKGUpIHsNCiAgICAgIGlmICghdGhpcy5kcmFnZ2luZykgew0KICAgICAgICB0aGlzLmRyYWdnaW5nID0gdHJ1ZQ0KICAgICAgfQ0KICAgICAgdGhpcy51cGRhdGVQb2ludERhdGEodGhpcy5lbmRQb2ludCwgZSkNCiAgICAgIHRoaXMudXBkYXRlUG9pbnREYXRhKHRoaXMucG9pbnQsIGUpDQogICAgICB0aGlzLiRuZXh0VGljaygoKSA9PiB7DQogICAgICAgIHRoaXMuY2hpbGRyZW5ET01Qb2ludHMuZm9yRWFjaChjaGlsZCA9PiB7DQogICAgICAgICAgY29uc3QgaXNTZWxlY3RlZCA9IHRoaXMuY2hlY2tJZkNoaWxkSW5TZWxlY3RBcmVhKGNoaWxkLnBvaW50KQ0KICAgICAgICAgIGNoaWxkLmluc3RhbmNlLmhhbmRsZVNlbGVjdENoYW5nZShpc1NlbGVjdGVkKQ0KICAgICAgICB9KQ0KICAgICAgfSkNCiAgICB9LA0KDQogICAgY2FuY2VsQWxsU2VsZWN0ICgpIHsNCiAgICAgIHRoaXMuY2hpbGRJdGVtcy5mb3JFYWNoKGNoaWxkID0+IHsNCiAgICAgICAgY2hpbGQuaGFuZGxlU2VsZWN0Q2hhbmdlKGZhbHNlKQ0KICAgICAgfSkNCiAgICB9LA0KDQogICAgLyoqDQogICAgICAgKiDliKTmlq3moYbpgInljLrlkozlrZDlhYPntKDmmK/lkKbnm7jkuqQNCiAgICAgICAqICAgIOahhumAieWMuueahOW3pui+uei3nSDlsI/kuo4g5a2Q5YWD57Sg55qE5bem6L656Led5Yqg5LiK5YW25a695bqmDQogICAgICAgKiAgICDmoYbpgInljLrnmoTlt6bovrnot53liqDkuIrlhbblrr3luqYg5aSn5LqOIOWtkOWFg+e0oOeahOW3pui+uei3nQ0KICAgICAgICogICAg5qGG6YCJ5Yy655qE5LiK6L656LedIOWwj+S6jiDlrZDlhYPntKDnmoTkuIrovrnot53liqDkuIrlhbbpq5jluqYNCiAgICAgICAqICAgIOahhumAieWMuueahOS4iui+uei3neWKoOS4iuWFtumrmOW6piDlpKfkuo4g5a2Q5YWD57Sg55qE5LiK6L656LedDQogICAgICAgKi8NCiAgICBjaGVja0lmQ2hpbGRJblNlbGVjdEFyZWEgKGNoaWxkSXRlbSkgew0KICAgICAgY29uc3Qgc3RhcnRDbGllbnRYID0gdGhpcy5zdGFydFBvaW50LmNsaWVudFgNCiAgICAgIGNvbnN0IHN0YXJ0Q2xpZW50WSA9IHRoaXMuc3RhcnRQb2ludC5jbGllbnRZDQogICAgICBjb25zdCBlbmRDbGllbnRYID0gdGhpcy5lbmRQb2ludC5jbGllbnRYDQogICAgICBjb25zdCBlbmRDbGllbnRZID0gdGhpcy5lbmRQb2ludC5jbGllbnRZDQogICAgICBjb25zdCBzZWxlY3RQb2ludCA9IHsNCiAgICAgICAgbGVmdDogTWF0aC5taW4oc3RhcnRDbGllbnRYLCBlbmRDbGllbnRYKSwNCiAgICAgICAgdG9wOiBNYXRoLm1pbihzdGFydENsaWVudFksIGVuZENsaWVudFkpLA0KICAgICAgICB3aWR0aDogTWF0aC5hYnMoc3RhcnRDbGllbnRYIC0gZW5kQ2xpZW50WCksDQogICAgICAgIGhlaWdodDogTWF0aC5hYnMoc3RhcnRDbGllbnRZIC0gZW5kQ2xpZW50WSkNCiAgICAgIH0NCiAgICAgIHJldHVybiBzZWxlY3RQb2ludC5sZWZ0IDw9IGNoaWxkSXRlbS5sZWZ0ICsgY2hpbGRJdGVtLndpZHRoICYmDQogICAgICAgICAgICBzZWxlY3RQb2ludC5sZWZ0ICsgc2VsZWN0UG9pbnQud2lkdGggPj0gY2hpbGRJdGVtLmxlZnQgJiYNCiAgICAgICAgICAgIHNlbGVjdFBvaW50LnRvcCA8PSBjaGlsZEl0ZW0udG9wICsgY2hpbGRJdGVtLmhlaWdodCAmJg0KICAgICAgICAgICAgc2VsZWN0UG9pbnQudG9wICsgc2VsZWN0UG9pbnQuaGVpZ2h0ID49IGNoaWxkSXRlbS50b3ANCiAgICB9LA0KDQogICAgaGFuZGxlTW91c2VVcCAoZSkgew0KICAgICAgdGhpcy5kcmFnZ2luZyA9IGZhbHNlDQogICAgICB0aGlzLnVwZGF0ZVBvaW50RGF0YSh0aGlzLnBvaW50LCBlKQ0KICAgICAgdGhpcy5kcmFnU2VsZWN0b3JDb250cm9sKGUpDQogICAgICB0aGlzLnJlc2V0UG9pbnQoZSkNCiAgICAgIC8vIHRoaXMuZW1pdENoYW5nZVRocm90dGxlZCgpOw0KICAgICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21vdXNldXAnLCB0aGlzLmhhbmRsZU1vdXNlVXApDQogICAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2Vtb3ZlJywgdGhpcy5oYW5kbGVNb3VzZU1vdmVUaHJvdHRsZWQpDQogICAgfSwNCg0KICAgIC8qKg0KICAgICAgICog5pu05paw5Z2Q5qCH5YC8DQogICAgICAgKiBAcGFyYW0gcG9pbnRPYmogIOmAmui/h3BvaW50RGF0YeWSjFBPSU5UX01PREVM5oyH5a6a55qE6ZSu77yM5pu05pawcG9pbnRPYmrlhoXnmoTlnZDmoIflgLwNCiAgICAgICAqIEBwYXJhbSBwb2ludERhdGEg6byg5qCH56e75Yqo5pe255qE5LqL5Lu25a+56LGhDQogICAgICAgKi8NCiAgICB1cGRhdGVQb2ludERhdGEgKHBvaW50T2JqLCBwb2ludERhdGEpIHsNCiAgICAgIFBPSU5UX01PREVMLmZvckVhY2goa2V5ID0+IHsNCiAgICAgICAgdGhpcy4kc2V0KHBvaW50T2JqLCBrZXksIHBvaW50RGF0YVtrZXldKQ0KICAgICAgfSkNCiAgICB9LA0KDQogICAgLy8gVE9ETyDlj6/op4bljLrln5/lrr3pq5jvvIznlKjkuo7pmLLmraLlnKjmsqHmnInmu5rliqjmnaHnmoTmg4XlhrXmi5bliqjojIPlm7TotoXlh7rljLrln5/vvIzkvYbmmK/ov5jmsqHlrp7njrANCiAgICBpbml0QnJvd3NlclBvaW50ICgpIHsNCiAgICAgIHRoaXMuYnJvd3NlclBvaW50ID0gew0KICAgICAgICBjbGllbnRXaWR0aDogZG9jdW1lbnQuYm9keS5jbGllbnRXaWR0aCwNCiAgICAgICAgY2xpZW50SGVpZ2h0OiBkb2N1bWVudC5ib2R5LmNsaWVudEhlaWdodCwNCiAgICAgICAgc2Nyb2xsV2lkdGg6IGRvY3VtZW50LmJvZHkuc2Nyb2xsV2lkdGgsDQogICAgICAgIHNjcm9sbEhlaWdodDogZG9jdW1lbnQuYm9keS5zY3JvbGxIZWlnaHQNCiAgICAgIH0NCiAgICB9LA0KDQogICAgY29sbGVjdERPTVBvaW50cyAoKSB7DQogICAgICBjb25zdCBET01SZWN0ID0gdGhpcy4kZWwuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkNCiAgICAgIHRoaXMuc2VsZlBvaW50ID0gew0KICAgICAgICBjbGllbnRYOiBET01SZWN0LmxlZnQgfHwgRE9NUmVjdC54LA0KICAgICAgICBjbGllbnRZOiBET01SZWN0LnRvcCB8fCBET01SZWN0LnkNCiAgICAgIH0NCiAgICAgIHRoaXMuY2hpbGRyZW5ET01Qb2ludHMgPSB0aGlzLmNoaWxkSXRlbXMubWFwKGNoaWxkID0+ICh7DQogICAgICAgIHBvaW50OiBjaGlsZC4kZWwuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCksDQogICAgICAgIGluc3RhbmNlOiBjaGlsZA0KICAgICAgfSkpDQogICAgfSwNCg0KICAgIHJlc2V0UG9pbnQgKGUpIHsNCiAgICAgIHRoaXMudXBkYXRlUG9pbnREYXRhKHRoaXMuc3RhcnRQb2ludCwgZSkNCiAgICAgIHRoaXMudXBkYXRlUG9pbnREYXRhKHRoaXMuZW5kUG9pbnQsIGUpDQogICAgfSwNCiAgICBkcmFnU2VsZWN0b3JDb250cm9sIChldmVudCkgew0KICAgICAgdGhpcy4kZW1pdCgnZHJhZ1NlbGVjdG9yQ29udHJvbCcsIGV2ZW50KQ0KICAgIH0sDQogICAgYWRkQ29udHJvbE9iaiAoZXZlbnQpIHsNCiAgICAgIHRoaXMuJGVtaXQoJ2FkZENvbnRyb2xPYmonLCBldmVudCkNCiAgICB9DQogIH0sDQogIGNvbXB1dGVkOiB7DQogICAgaGFzU2Nyb2xsWCAoKSB7DQogICAgICByZXR1cm4gISh0aGlzLmJyb3dzZXJQb2ludC5jbGllbnRXaWR0aCAtIHRoaXMuYnJvd3NlclBvaW50LnNjcm9sbFdpZHRoKQ0KICAgIH0sDQoNCiAgICBoYXNTY3JvbGxZICgpIHsNCiAgICAgIHJldHVybiAhKHRoaXMuYnJvd3NlclBvaW50LmNsaWVudEhlaWdodCAtIHRoaXMuYnJvd3NlclBvaW50LnNjcm9sbEhlaWdodCkNCiAgICB9LA0KICAgIHNlbGVjdEFyZWFTdHlsZSAoKSB7DQogICAgICBjb25zdCBzdGFydENsaWVudFggPSB0aGlzLnN0YXJ0UG9pbnQuY2xpZW50WCAtIHRoaXMuc2VsZlBvaW50LmNsaWVudFgNCiAgICAgIGNvbnN0IGVuZENsaWVudFggPSB0aGlzLmVuZFBvaW50LmNsaWVudFggLSB0aGlzLnNlbGZQb2ludC5jbGllbnRYDQogICAgICBjb25zdCBzdGFydENsaWVudFkgPSB0aGlzLnN0YXJ0UG9pbnQuY2xpZW50WSAtIHRoaXMuc2VsZlBvaW50LmNsaWVudFkNCiAgICAgIGNvbnN0IGVuZENsaWVudFkgPSB0aGlzLmVuZFBvaW50LmNsaWVudFkgLSB0aGlzLnNlbGZQb2ludC5jbGllbnRZDQogICAgICBjb25zdCB7IGxlZnQsIHRvcCwgd2lkdGgsIGhlaWdodCB9ID0gew0KICAgICAgICBsZWZ0OiBNYXRoLm1pbihzdGFydENsaWVudFgsIGVuZENsaWVudFgpLA0KICAgICAgICB0b3A6IE1hdGgubWluKHN0YXJ0Q2xpZW50WSwgZW5kQ2xpZW50WSksDQogICAgICAgIHdpZHRoOiBNYXRoLmFicyhzdGFydENsaWVudFggLSBlbmRDbGllbnRYKSwNCiAgICAgICAgaGVpZ2h0OiBNYXRoLmFicyhzdGFydENsaWVudFkgLSBlbmRDbGllbnRZKQ0KICAgICAgfQ0KICAgICAgcmV0dXJuIHsNCiAgICAgICAgbGVmdDogYCR7bGVmdH1weGAsDQogICAgICAgIHRvcDogYCR7dG9wfXB4YCwNCiAgICAgICAgd2lkdGg6IGAke3dpZHRofXB4YCwNCiAgICAgICAgaGVpZ2h0OiBgJHtoZWlnaHR9cHhgLA0KICAgICAgICB6SW5kZXg6IDQ0NCwNCiAgICAgICAgLy8gYmFja2dyb3VuZENvbG9yOiAncmdiYSg1MSwgNTEsIDUxLCAwLjUpJywNCiAgICAgICAgcG9zaXRpb246ICdhYnNvbHV0ZScsDQogICAgICAgIGJvcmRlcjogdGhpcy5kcmFnZ2luZyA/ICcxcHggcmdiKDU5LCA1OCwgNTgpIGRhc2hlZCcgOiAnJw0KICAgICAgfQ0KICAgIH0NCiAgfSwNCiAgd2F0Y2g6IHsNCiAgICAvLyBkcmFnZ2luZzogJ2hhbmRsZURyYWdnaW5nQ2hhbmdlJw0KICAgIGRyYWdnaW5nICh2YWwpIHsNCiAgICAgIGlmICh2YWwpIHsNCiAgICAgICAgdGhpcy4kZW1pdCgnZHJhZy1zdGFydCcpDQogICAgICAgIHRoaXMuY29sbGVjdERPTVBvaW50cygpDQogICAgICAgIHRoaXMuaW5pdEJyb3dzZXJQb2ludCgpDQogICAgICB9IGVsc2Ugew0KICAgICAgICB0aGlzLiRlbWl0KCdkcmFnLWVuZCcpDQogICAgICB9DQogICAgfQ0KICB9DQp9DQo="},{"version":3,"sources":["DragSelector.vue"],"names":[],"mappings":";;;;;;;;AAQA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"DragSelector.vue","sourceRoot":"src/FormDesigner/components/organisms/FDDragSelector","sourcesContent":["<template>\r\n    <div class=\"drag-selector-wrapper\" @mousedown=\"handleMouseDown\" @click=\"addControlObj\">\r\n        <div class=\"drag-area-box\" :style=\"selectAreaStyle\"></div>\r\n        <slot></slot>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport emitter from './mixins/emitter'\r\nimport { throttle } from './utils/utils'\r\n\r\n/**\r\n   * 需求：框选子项\r\n   * 组件：框选区，框选子项\r\n   * 实现方法：鼠标在框选区长按拖动时计算拖动坐标，如果框选进入范围，改变为选中状态，单击任意地方取消选中\r\n   * 1. 开始拖动前计算各个子项的坐标\r\n   * 2. 拖动过程中进行判断，如果进入被框选范围，触发该子项修改状态\r\n   */\r\nconst POINT_MODEL = ['offsetX', 'offsetY', 'clientX', 'clientY']\r\n\r\nexport default {\r\n  name: 'drag-selector',\r\n\r\n  mixins: [emitter],\r\n\r\n  props: {\r\n    value: {\r\n      type: Array,\r\n      default () {\r\n        return []\r\n      }\r\n    },\r\n    isEditMode: {\r\n      type: Boolean,\r\n      default () {\r\n        return false\r\n      }\r\n    }\r\n  },\r\n\r\n  data () {\r\n    return {\r\n      dragging: false,\r\n      handleMouseMoveThrottled: () => {\r\n      },\r\n      emitChangeThrottled: () => {\r\n      },\r\n      startPoint: {\r\n        offsetX: 0,\r\n        offsetY: 0\r\n      },\r\n      endPoint: {\r\n        offsetX: 0,\r\n        offsetY: 0\r\n      },\r\n      point: {\r\n        offsetX: 0,\r\n        offsetY: 0\r\n      },\r\n      childItems: [],\r\n      childrenDOMPoints: [],\r\n      browserPoint: {\r\n      },\r\n      selfPoint: {\r\n        clientX: 0,\r\n        clientY: 0\r\n      }\r\n    }\r\n  },\r\n\r\n  created () {\r\n    this.registerEvents()\r\n  },\r\n\r\n  mounted () {\r\n    this.handleMouseMoveThrottled = throttle(this.handleMouseMove)\r\n    this.emitChangeThrottled = throttle(this.emitChange, 200)\r\n  },\r\n\r\n  methods: {\r\n    registerEvents () {\r\n      this.$on('on-drag-selector-item-add', item => {\r\n        if (item) this.childItems.push(item)\r\n      })\r\n      this.$on('on-drag-selector-item-remove', item => {\r\n        const index = this.childItems.indexOf(item)\r\n        if (index >= 0) this.childItems.splice(index, 1)\r\n      })\r\n      this.$on('drag-selector-item-change', ({ selected, value }) => {\r\n        const index = this.value.indexOf(value)\r\n        if (selected) {\r\n          this.value.push(value)\r\n        } else if (index !== -1) {\r\n          this.value.splice(index, 1)\r\n        }\r\n        this.emitChangeThrottled()\r\n      })\r\n    },\r\n\r\n    emitChange () {\r\n      this.$emit('change', this.value)\r\n      this.$emit('input', this.value)\r\n    },\r\n\r\n    handleMouseDown (e) {\r\n      if (this.isEditMode) {\r\n        this.cancelAllSelect()\r\n        this.$nextTick(() => {\r\n          this.resetPoint(e)\r\n          this.updatePointData(this.point, e)\r\n          window.addEventListener('mouseup', this.handleMouseUp)\r\n          window.addEventListener('mousemove', this.handleMouseMoveThrottled)\r\n        })\r\n      }\r\n      this.$emit('deActiveControl', e)\r\n    },\r\n\r\n    handleMouseMove (e) {\r\n      if (!this.dragging) {\r\n        this.dragging = true\r\n      }\r\n      this.updatePointData(this.endPoint, e)\r\n      this.updatePointData(this.point, e)\r\n      this.$nextTick(() => {\r\n        this.childrenDOMPoints.forEach(child => {\r\n          const isSelected = this.checkIfChildInSelectArea(child.point)\r\n          child.instance.handleSelectChange(isSelected)\r\n        })\r\n      })\r\n    },\r\n\r\n    cancelAllSelect () {\r\n      this.childItems.forEach(child => {\r\n        child.handleSelectChange(false)\r\n      })\r\n    },\r\n\r\n    /**\r\n       * 判断框选区和子元素是否相交\r\n       *    框选区的左边距 小于 子元素的左边距加上其宽度\r\n       *    框选区的左边距加上其宽度 大于 子元素的左边距\r\n       *    框选区的上边距 小于 子元素的上边距加上其高度\r\n       *    框选区的上边距加上其高度 大于 子元素的上边距\r\n       */\r\n    checkIfChildInSelectArea (childItem) {\r\n      const startClientX = this.startPoint.clientX\r\n      const startClientY = this.startPoint.clientY\r\n      const endClientX = this.endPoint.clientX\r\n      const endClientY = this.endPoint.clientY\r\n      const selectPoint = {\r\n        left: Math.min(startClientX, endClientX),\r\n        top: Math.min(startClientY, endClientY),\r\n        width: Math.abs(startClientX - endClientX),\r\n        height: Math.abs(startClientY - endClientY)\r\n      }\r\n      return selectPoint.left <= childItem.left + childItem.width &&\r\n            selectPoint.left + selectPoint.width >= childItem.left &&\r\n            selectPoint.top <= childItem.top + childItem.height &&\r\n            selectPoint.top + selectPoint.height >= childItem.top\r\n    },\r\n\r\n    handleMouseUp (e) {\r\n      this.dragging = false\r\n      this.updatePointData(this.point, e)\r\n      this.dragSelectorControl(e)\r\n      this.resetPoint(e)\r\n      // this.emitChangeThrottled();\r\n      window.removeEventListener('mouseup', this.handleMouseUp)\r\n      window.removeEventListener('mousemove', this.handleMouseMoveThrottled)\r\n    },\r\n\r\n    /**\r\n       * 更新坐标值\r\n       * @param pointObj  通过pointData和POINT_MODEL指定的键，更新pointObj内的坐标值\r\n       * @param pointData 鼠标移动时的事件对象\r\n       */\r\n    updatePointData (pointObj, pointData) {\r\n      POINT_MODEL.forEach(key => {\r\n        this.$set(pointObj, key, pointData[key])\r\n      })\r\n    },\r\n\r\n    // TODO 可视区域宽高，用于防止在没有滚动条的情况拖动范围超出区域，但是还没实现\r\n    initBrowserPoint () {\r\n      this.browserPoint = {\r\n        clientWidth: document.body.clientWidth,\r\n        clientHeight: document.body.clientHeight,\r\n        scrollWidth: document.body.scrollWidth,\r\n        scrollHeight: document.body.scrollHeight\r\n      }\r\n    },\r\n\r\n    collectDOMPoints () {\r\n      const DOMRect = this.$el.getBoundingClientRect()\r\n      this.selfPoint = {\r\n        clientX: DOMRect.left || DOMRect.x,\r\n        clientY: DOMRect.top || DOMRect.y\r\n      }\r\n      this.childrenDOMPoints = this.childItems.map(child => ({\r\n        point: child.$el.getBoundingClientRect(),\r\n        instance: child\r\n      }))\r\n    },\r\n\r\n    resetPoint (e) {\r\n      this.updatePointData(this.startPoint, e)\r\n      this.updatePointData(this.endPoint, e)\r\n    },\r\n    dragSelectorControl (event) {\r\n      this.$emit('dragSelectorControl', event)\r\n    },\r\n    addControlObj (event) {\r\n      this.$emit('addControlObj', event)\r\n    }\r\n  },\r\n  computed: {\r\n    hasScrollX () {\r\n      return !(this.browserPoint.clientWidth - this.browserPoint.scrollWidth)\r\n    },\r\n\r\n    hasScrollY () {\r\n      return !(this.browserPoint.clientHeight - this.browserPoint.scrollHeight)\r\n    },\r\n    selectAreaStyle () {\r\n      const startClientX = this.startPoint.clientX - this.selfPoint.clientX\r\n      const endClientX = this.endPoint.clientX - this.selfPoint.clientX\r\n      const startClientY = this.startPoint.clientY - this.selfPoint.clientY\r\n      const endClientY = this.endPoint.clientY - this.selfPoint.clientY\r\n      const { left, top, width, height } = {\r\n        left: Math.min(startClientX, endClientX),\r\n        top: Math.min(startClientY, endClientY),\r\n        width: Math.abs(startClientX - endClientX),\r\n        height: Math.abs(startClientY - endClientY)\r\n      }\r\n      return {\r\n        left: `${left}px`,\r\n        top: `${top}px`,\r\n        width: `${width}px`,\r\n        height: `${height}px`,\r\n        zIndex: 444,\r\n        // backgroundColor: 'rgba(51, 51, 51, 0.5)',\r\n        position: 'absolute',\r\n        border: this.dragging ? '1px rgb(59, 58, 58) dashed' : ''\r\n      }\r\n    }\r\n  },\r\n  watch: {\r\n    // dragging: 'handleDraggingChange'\r\n    dragging (val) {\r\n      if (val) {\r\n        this.$emit('drag-start')\r\n        this.collectDOMPoints()\r\n        this.initBrowserPoint()\r\n      } else {\r\n        this.$emit('drag-end')\r\n      }\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style>\r\n    .drag-selector-wrapper {\r\n        width: 100%;\r\n        height: 100%;\r\n        position: relative;\r\n        cursor: crosshair;\r\n        user-select: none;\r\n    }\r\n\r\n    .drag-area-box {\r\n        pointer-events: none;\r\n    }\r\n</style>\r\n"]}]}