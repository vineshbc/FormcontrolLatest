{"remainingRequest":"/home/mobiotics/Projects/hancom/FormcontrolLatest/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/mobiotics/Projects/hancom/FormcontrolLatest/src/FormDesigner/components/organisms/FDResizeControl/index.vue?vue&type=script&lang=ts&","dependencies":[{"path":"/home/mobiotics/Projects/hancom/FormcontrolLatest/src/FormDesigner/components/organisms/FDResizeControl/index.vue","mtime":1611419998000},{"path":"/home/mobiotics/Projects/hancom/FormcontrolLatest/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/mobiotics/Projects/hancom/FormcontrolLatest/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/mobiotics/Projects/hancom/FormcontrolLatest/node_modules/ts-loader/index.js","mtime":499162500000},{"path":"/home/mobiotics/Projects/hancom/FormcontrolLatest/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/mobiotics/Projects/hancom/FormcontrolLatest/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCg0KaW1wb3J0IHsNCiAgQ29tcG9uZW50LA0KICBFbWl0LA0KICBQcm9wLA0KICBWdWUsDQogIFJlZiwNCiAgUHJvcFN5bmMsDQogIFdhdGNoDQp9IGZyb20gJ3Z1ZS1wcm9wZXJ0eS1kZWNvcmF0b3InDQppbXBvcnQgeyBTdGF0ZSwgQWN0aW9uIH0gZnJvbSAndnVleC1jbGFzcycNCg0KaW1wb3J0IExhYmVsIGZyb20gJ0AvRm9ybURlc2lnbmVyL2NvbXBvbmVudHMvYXRvbXMvRkRMYWJlbC9pbmRleC52dWUnDQppbXBvcnQgQ29tbWFuZEJ1dHRvbiBmcm9tICdAL0Zvcm1EZXNpZ25lci9jb21wb25lbnRzL2F0b21zL0ZEQ29tbWFuZEJ1dHRvbi9pbmRleC52dWUnDQppbXBvcnQgVG9nZ2xlQnV0dG9uIGZyb20gJ0AvRm9ybURlc2lnbmVyL2NvbXBvbmVudHMvYXRvbXMvRkRUb2dnbGVCdXR0b24vaW5kZXgudnVlJw0KaW1wb3J0IFRleHRCb3ggZnJvbSAnQC9Gb3JtRGVzaWduZXIvY29tcG9uZW50cy9hdG9tcy9GRFRleHRCb3gvaW5kZXgudnVlJw0KaW1wb3J0IFNwaW5CdXR0b24gZnJvbSAnQC9Gb3JtRGVzaWduZXIvY29tcG9uZW50cy9hdG9tcy9GRFNwaW5CdXR0b24vaW5kZXgudnVlJw0KaW1wb3J0IFNjcm9sbEJhciBmcm9tICdAL0Zvcm1EZXNpZ25lci9jb21wb25lbnRzL2F0b21zL0ZEU2Nyb2xsQmFyL2luZGV4LnZ1ZScNCmltcG9ydCBPcHRpb25CdXR0b24gZnJvbSAnQC9Gb3JtRGVzaWduZXIvY29tcG9uZW50cy9hdG9tcy9GRE9wdGlvbkJ1dHRvbi9pbmRleC52dWUnDQppbXBvcnQgQ2hlY2tCb3ggZnJvbSAnQC9Gb3JtRGVzaWduZXIvY29tcG9uZW50cy9hdG9tcy9GRENoZWNrQm94L2luZGV4LnZ1ZScNCmltcG9ydCBDb21ib0JveCBmcm9tICdAL0Zvcm1EZXNpZ25lci9jb21wb25lbnRzL2F0b21zL0ZEQ29tYm9Cb3gvaW5kZXgudnVlJw0KaW1wb3J0IExpc3RCb3ggZnJvbSAnQC9Gb3JtRGVzaWduZXIvY29tcG9uZW50cy9hdG9tcy9GRExpc3RCb3gvaW5kZXgudnVlJw0KaW1wb3J0IEZESW1hZ2UgZnJvbSAnQC9Gb3JtRGVzaWduZXIvY29tcG9uZW50cy9hdG9tcy9GREltYWdlL2luZGV4LnZ1ZScNCmltcG9ydCBGcmFtZSBmcm9tICdAL0Zvcm1EZXNpZ25lci9jb21wb25lbnRzL2F0b21zL0ZERnJhbWUvaW5kZXgudnVlJw0KaW1wb3J0IFRhYlN0cmlwIGZyb20gJ0AvRm9ybURlc2lnbmVyL2NvbXBvbmVudHMvYXRvbXMvRkRUYWJTdHJpcC9pbmRleC52dWUnDQppbXBvcnQgTXVsdGlQYWdlIGZyb20gJ0AvRm9ybURlc2lnbmVyL2NvbXBvbmVudHMvYXRvbXMvRkRNdWx0aVBhZ2UvaW5kZXgudnVlJw0KaW1wb3J0IFJlc2l6ZUhhbmRsZXIgZnJvbSAnQC9Gb3JtRGVzaWduZXIvY29tcG9uZW50cy9tb2xlY3VsZXMvRkRSZXNpemVIYW5kbGVyL2luZGV4LnZ1ZScNCmltcG9ydCBGZFNlbGVjdFZ1ZSBmcm9tICdAL2FwaS9hYnN0cmFjdC9Gb3JtRGVzaWduZXIvRmRTZWxlY3RWdWUnDQppbXBvcnQgQ29udGFpbmVyIGZyb20gJy4uL0ZEQ29udGFpbmVyL2luZGV4LnZ1ZScNCmltcG9ydCB7IEV2ZW50QnVzIH0gZnJvbSAnQC9Gb3JtRGVzaWduZXIvZXZlbnQtYnVzJw0KQENvbXBvbmVudCh7DQogIG5hbWU6ICdSZXNpemVDb250cm9sJywNCiAgY29tcG9uZW50czogew0KICAgIFJlc2l6ZUhhbmRsZXIsDQogICAgTGFiZWwsDQogICAgQ29tbWFuZEJ1dHRvbiwNCiAgICBUb2dnbGVCdXR0b24sDQogICAgVGV4dEJveCwNCiAgICBTcGluQnV0dG9uLA0KICAgIFNjcm9sbEJhciwNCiAgICBDaGVja0JveCwNCiAgICBPcHRpb25CdXR0b24sDQogICAgRkRJbWFnZSwNCiAgICBGcmFtZSwNCiAgICBDb21ib0JveCwNCiAgICBMaXN0Qm94LA0KICAgIFRhYlN0cmlwLA0KICAgIE11bHRpUGFnZQ0KICB9DQp9KQ0KZXhwb3J0IGRlZmF1bHQgY2xhc3MgUmVzaXplQ29udHJvbCBleHRlbmRzIEZkU2VsZWN0VnVlIHsNCiAgQFN0YXRlKChzdGF0ZTogcm9vdFN0YXRlKSA9PiBzdGF0ZS5mZC50b29sQm94U2VsZWN0KSB0b29sQm94U2VsZWN0ITogZmRTdGF0ZVsndG9vbEJveFNlbGVjdCddOw0KICBAUHJvcFN5bmMoJ2N1cnJlbnRTZWxlY3RlZEdyb3VwJykgcHVibGljIHN5bmNDdXJyZW50U2VsZWN0ZWRHcm91cCE6IHN0cmluZzsNCiAgQFByb3AoeyByZXF1aXJlZDogdHJ1ZSwgdHlwZTogU3RyaW5nIH0pIHB1YmxpYyBjb250YWluZXJJZCE6IHN0cmluZzsNCiAgQFJlZigncmVzaXplJykgcmVhZG9ubHkgcmVzaXplITogUmVzaXplSGFuZGxlcjsNCiAgc2VsTXVsdGlwbGVDdHJsOiBib29sZWFuID0gZmFsc2UNCiAga2V5VHlwZTogc3RyaW5nID0gJycNCg0KICBoYW5kbGVEcmFnIChldmVudDogTW91c2VFdmVudCkgew0KICAgIGlmICh0aGlzLnRvb2xCb3hTZWxlY3QgPT09ICdTZWxlY3QnKSB7DQogICAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKQ0KICAgICAgaWYgKHRoaXMuc2VsZWN0ZWRDb250cm9sc1t0aGlzLnVzZXJGb3JtSWRdLnNlbGVjdGVkLmxlbmd0aCA+IDEgJiYgdGhpcy5zZWxNdWx0aXBsZUN0cmwgPT09IGZhbHNlKSB7DQogICAgICAgIGlmIChldmVudC53aGljaCAhPT0gMyAmJiB0aGlzLmlzTW92ZVdoZW5Nb3VzZURvd24pIHsNCiAgICAgICAgICB0aGlzLnNlbGVjdGVkSXRlbShldmVudCkNCiAgICAgICAgfQ0KICAgICAgfQ0KICAgICAgdGhpcy5pc01vdmVXaGVuTW91c2VEb3duID0gZmFsc2UNCiAgICAgIHRoaXMucmVzaXplLmhhbmRsZU1vdXNlRG93bihldmVudCwgJ2RyYWcnLCAnY29udHJvbCcsIHRoaXMuY29udHJvbElkKQ0KICAgIH0NCiAgfQ0KICBARW1pdCgnbXVsZHJhZ0NvbnRyb2wnKQ0KICBwcml2YXRlIG11bGRyYWdDb250cm9sICh2YWw6IElEcmFnUmVzaXplR3JvdXApIHsNCiAgICByZXR1cm4gdmFsDQogIH0NCg0KICBARW1pdCgnZHJhZ0NvbnRyb2wnKQ0KICBkcmFnQ29udHJvbCAoZXZlbnQ6IE1vdXNlRXZlbnQpIHsNCiAgICByZXR1cm4gZXZlbnQNCiAgfQ0KICBzZWxlY3RNdWx0aXBsZUN0cmwgKHZhbDogYm9vbGVhbikgew0KICAgIHRoaXMuc2VsTXVsdGlwbGVDdHJsID0gdmFsDQogIH0NCg0KICBkcmFnR3JvdXBDb250cm9sIChldmVudDogTW91c2VFdmVudCkgew0KICAgIGlmICh0aGlzLnRvb2xCb3hTZWxlY3QgPT09ICdTZWxlY3QnKSB7DQogICAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKQ0KICAgICAgaWYgKHRoaXMuc2VsZWN0ZWRDb250cm9sc1t0aGlzLnVzZXJGb3JtSWRdLnNlbGVjdGVkLmxlbmd0aCA+IDEgJiYgdGhpcy5zZWxNdWx0aXBsZUN0cmwgPT09IGZhbHNlKSB7DQogICAgICAgIGlmIChldmVudC53aGljaCAhPT0gMyAmJiB0aGlzLmlzTW92ZVdoZW5Nb3VzZURvd24pIHsNCiAgICAgICAgICB0aGlzLnNlbGVjdGVkSXRlbShldmVudCkNCiAgICAgICAgfQ0KICAgICAgfQ0KICAgICAgdGhpcy5wcm9wQ29udHJvbERhdGEucHJvcGVydGllcy5Hcm91cElEICYmIHRoaXMuZHJhZ0NvbnRyb2woZXZlbnQpDQogICAgfQ0KICB9DQogIEBFbWl0KCdvcGVuTWVudScpDQogIG9wZW5NZW51IChlOiBNb3VzZUV2ZW50LCBwYXJlbnRJRDogc3RyaW5nLCBjb250cm9sSUQ6IHN0cmluZykgew0KICAgIHJldHVybiB7DQogICAgICBlLA0KICAgICAgcGFyZW50SUQsDQogICAgICBjb250cm9sSUQNCiAgICB9DQogIH0NCg0KICBnZXQgY2FuRHJhZ01haW5EaXYgKCk6IGJvb2xlYW4gew0KICAgIHJldHVybiB0aGlzLm1haW5TZWxlY3RlZCAmJiAhdGhpcy5pc0VkaXRNb2RlICYmICF0aGlzLmlzUnVuTW9kZQ0KICB9DQoNCiAgZ2V0IHByb3BDb250cm9sRGF0YSAoKTogY29udHJvbERhdGEgew0KICAgIHJldHVybiB0aGlzLnVzZXJmb3JtRGF0YVt0aGlzLnVzZXJGb3JtSWRdW3RoaXMuY29udHJvbElkXQ0KICB9DQogIG9wZW5Db250ZXh0TWVudSAoZTogTW91c2VFdmVudCwgcGFyZW50SUQ6IHN0cmluZywgY29udHJvbElEOiBzdHJpbmcsIHR5cGU6IHN0cmluZywgbW9kZTogYm9vbGVhbikgew0KICAgIHRoaXMuJGVtaXQoJ29wZW5NZW51JywgZSwgcGFyZW50SUQsIGNvbnRyb2xJRCwgdHlwZSwgbW9kZSkNCiAgfQ0KICBnZXQgcmVzaXplQ29udHJvbFN0eWxlICgpIHsNCiAgICBjb25zdCB1c2VyRGF0YSA9IHRoaXMudXNlcmZvcm1EYXRhW3RoaXMudXNlckZvcm1JZF0NCiAgICBjb25zdCBjdXJyZW50UHJvcGVydGllcyA9IHRoaXMucHJvcENvbnRyb2xEYXRhLnByb3BlcnRpZXMNCiAgICBjb25zdCBleHRyYURhdGEgPSB0aGlzLnByb3BDb250cm9sRGF0YS5leHRyYURhdGFzIQ0KICAgIGNvbnN0IGJzID0gY3VycmVudFByb3BlcnRpZXMuQm9yZGVyU3R5bGUhDQogICAgY29uc3QgaXNSb3RhdGUgPSBjdXJyZW50UHJvcGVydGllcy5XaWR0aCEgPiBjdXJyZW50UHJvcGVydGllcy5IZWlnaHQhDQogICAgY29uc3QgdHlwZSA9IHRoaXMucHJvcENvbnRyb2xEYXRhLnR5cGUNCiAgICBsZXQgaGlnaGVzdFpJbmRleCA9IC0xDQogICAgaWYgKHRoaXMuc2VsZWN0ZWRDb250cm9sQXJyYXkubGVuZ3RoID09PSAxICYmICF0aGlzLnNlbGVjdGVkQ29udHJvbEFycmF5WzBdLnN0YXJ0c1dpdGgoJ2dyb3VwJykpIHsNCiAgICAgIGNvbnN0IHNlbGVjdGVkID0gdXNlckRhdGFbdGhpcy5zZWxlY3RlZENvbnRyb2xBcnJheVswXV0udHlwZSA9PT0gJ1BhZ2UnID8gdGhpcy5zZWxlY3RlZENvbnRhaW5lclswXSA6IHRoaXMuc2VsZWN0ZWRDb250cm9sQXJyYXlbMF0NCiAgICAgIGlmIChzZWxlY3RlZCA9PT0gdGhpcy5wcm9wQ29udHJvbERhdGEucHJvcGVydGllcy5JRCAmJiAodHlwZSA9PT0gJ0ZyYW1lJyB8fCB0eXBlID09PSAnTXVsdGlQYWdlJykpIHsNCiAgICAgICAgY29uc3QgY29udGFpbmVyQ29udHJvbHMgPSBbLi4udXNlckRhdGFbdGhpcy5nZXRDb250YWluZXJMaXN0KHNlbGVjdGVkKVswXV0uY29udHJvbHNdDQogICAgICAgIGNvbnRhaW5lckNvbnRyb2xzLnNvcnQoKGEsIGIpID0+IHsNCiAgICAgICAgICByZXR1cm4gdXNlckRhdGFbYl0uZXh0cmFEYXRhcyEuekluZGV4ISAtIHVzZXJEYXRhW2FdLmV4dHJhRGF0YXMhLnpJbmRleCENCiAgICAgICAgfSkNCiAgICAgICAgaGlnaGVzdFpJbmRleCA9IHVzZXJEYXRhW2NvbnRhaW5lckNvbnRyb2xzWzBdXS5leHRyYURhdGFzIS56SW5kZXghDQogICAgICB9DQogICAgfQ0KICAgIHJldHVybiB7DQogICAgICBsZWZ0OiBgJHtjdXJyZW50UHJvcGVydGllcy5MZWZ0fXB4YCwNCiAgICAgIHRvcDogYCR7Y3VycmVudFByb3BlcnRpZXMuVG9wfXB4YCwNCiAgICAgIC8qIGJvcmRlciB3aWR0aCg1KSAqIDIgPSAxMCAqLw0KICAgICAgd2lkdGg6IGAke2N1cnJlbnRQcm9wZXJ0aWVzLldpZHRoISArIDEwfXB4YCwNCiAgICAgIGhlaWdodDogYCR7Y3VycmVudFByb3BlcnRpZXMuSGVpZ2h0ISArIDEwfXB4YCwNCiAgICAgIGRpc3BsYXk6DQogICAgICAgIHRoaXMuaXNSdW5Nb2RlICYmIGN1cnJlbnRQcm9wZXJ0aWVzLlZpc2libGUgPT09IGZhbHNlDQogICAgICAgICAgPyAnbm9uZScNCiAgICAgICAgICA6ICdibG9jaycsDQogICAgICBjdXJzb3I6ICF0aGlzLmlzUnVuTW9kZSA/ICdtb3ZlJyA6ICdkZWZhdWx0JywNCiAgICAgIHpJbmRleDogKGhpZ2hlc3RaSW5kZXggIT09IC0xICYmIHR5cGUgIT09ICdQYWdlJyAmJiB0aGlzLmlzRWRpdE1vZGUpID8gaGlnaGVzdFpJbmRleCArIDEgOiBleHRyYURhdGEuekluZGV4ISA8PSAwID8gJycgOiBleHRyYURhdGEuekluZGV4IQ0KICAgIH0NCiAgfQ0KICBnZXQgbWFpblNlbGVjdGVkICgpIHsNCiAgICByZXR1cm4gKA0KICAgICAgdGhpcy5zZWxlY3RlZENvbnRyb2xzW3RoaXMudXNlckZvcm1JZF0uc2VsZWN0ZWQuaW5jbHVkZXMoDQogICAgICAgIHRoaXMuY29udHJvbElkDQogICAgICApIHx8DQogICAgICAodGhpcy5zZWxlY3RlZENvbnRyb2xzW3RoaXMudXNlckZvcm1JZF0uY29udGFpbmVyLmluY2x1ZGVzKA0KICAgICAgICB0aGlzLmNvbnRyb2xJZA0KICAgICAgKSAmJg0KICAgICAgICB0aGlzLnNlbGVjdGVkQ29udHJvbHNbdGhpcy51c2VyRm9ybUlkXS5zZWxlY3RlZC5pbmNsdWRlcygNCiAgICAgICAgICB0aGlzLmNvbnRyb2xJZA0KICAgICAgICApICE9PQ0KICAgICAgICAgIHRoaXMuc2VsZWN0ZWRDb250cm9sc1t0aGlzLnVzZXJGb3JtSWRdLmNvbnRhaW5lci5pbmNsdWRlcygNCiAgICAgICAgICAgIHRoaXMuY29udHJvbElkDQogICAgICAgICAgKSkNCiAgICApDQogIH0NCiAgZGVsZXRlSXRlbSAoZXZlbnQ6IEtleWJvYXJkRXZlbnQpIHsNCiAgICBjb25zdCB1c2VyRGF0YSA9IHRoaXMudXNlcmZvcm1EYXRhW3RoaXMudXNlckZvcm1JZF0NCiAgICBjb25zdCB0eXBlID0gdXNlckRhdGFbdGhpcy5jb250cm9sSWRdLnR5cGUNCiAgICBjb25zdCBjb250cm9sSWQgPSB0eXBlID09PSAnUGFnZScgPyB0aGlzLmNvbnRhaW5lcklkIDogdGhpcy5jb250cm9sSWQNCiAgICBjb25zdCBjb250YWluZXJJZCA9IHR5cGUgPT09ICdQYWdlJyA/IHRoaXMuZ2V0Q29udGFpbmVyTGlzdChjb250cm9sSWQpWzBdIDogdGhpcy5jb250YWluZXJJZA0KICAgIGlmIChldmVudC5rZXkgIT09ICdCYWNrc3BhY2UnKSB7DQogICAgICB0aGlzLmRlbGV0ZVpJbmRleChjb250cm9sSWQpDQogICAgICB0aGlzLmRlbGV0ZVRhYkluZGV4KGNvbnRyb2xJZCkNCiAgICAgIHRoaXMuZGVsZXRlQ29udHJvbCh7DQogICAgICAgIHVzZXJGb3JtSWQ6IHRoaXMudXNlckZvcm1JZCwNCiAgICAgICAgcGFyZW50SWQ6IGNvbnRhaW5lcklkLA0KICAgICAgICB0YXJnZXRJZDogY29udHJvbElkDQogICAgICB9KQ0KICAgIH0NCiAgICB0aGlzLnNlbGVjdENvbnRyb2woew0KICAgICAgdXNlckZvcm1JZDogdGhpcy51c2VyRm9ybUlkLA0KICAgICAgc2VsZWN0OiB7DQogICAgICAgIGNvbnRhaW5lcjogdGhpcy5nZXRDb250YWluZXJMaXN0KGNvbnRhaW5lcklkKSwNCiAgICAgICAgc2VsZWN0ZWQ6IFtjb250YWluZXJJZF0NCiAgICAgIH0NCiAgICB9KQ0KICB9DQogIHNlbGVjdGVkSXRlbSAoZTogTW91c2VFdmVudCkgew0KICAgIGlmICh0aGlzLnNlbE11bHRpcGxlQ3RybCA9PT0gZmFsc2UpIHsNCiAgICAgIGNvbnN0IHVzZXJEYXRhID0gdGhpcy51c2VyZm9ybURhdGFbdGhpcy51c2VyRm9ybUlkXQ0KICAgICAgY29uc3QgZ3JvdXBJZCA9IHRoaXMucHJvcENvbnRyb2xEYXRhLnByb3BlcnRpZXMuR3JvdXBJRA0KICAgICAgICA/IHRoaXMucHJvcENvbnRyb2xEYXRhLnByb3BlcnRpZXMuR3JvdXBJRA0KICAgICAgICA6ICcnDQogICAgICBjb25zdCBjdXJyZW50U2VsZWN0ID0gdGhpcy5zZWxlY3RlZENvbnRyb2xzW3RoaXMudXNlckZvcm1JZF0uc2VsZWN0ZWQNCiAgICAgIGlmIChjdXJyZW50U2VsZWN0Lmxlbmd0aCA9PT0gMSAmJiBjdXJyZW50U2VsZWN0WzBdID09PSB0aGlzLmNvbnRyb2xJZCkgew0KICAgICAgICBpZiAoDQogICAgICAgICAgdGhpcy5pc01vdmVXaGVuTW91c2VEb3duICE9PSB0cnVlICYmDQogICAgICAgIHRoaXMucHJvcENvbnRyb2xEYXRhLnR5cGUgIT09ICdGREltYWdlJyAmJg0KICAgICAgICB0aGlzLnByb3BDb250cm9sRGF0YS50eXBlICE9PSAnRnJhbWUnICYmDQogICAgICAgIHRoaXMucHJvcENvbnRyb2xEYXRhLnR5cGUgIT09ICdNdWx0aVBhZ2UnDQogICAgICAgICkgew0KICAgICAgICAgIHRoaXMuaXNFZGl0TW9kZSA9IHRydWUNCiAgICAgICAgICB0aGlzLmlzTW92ZVdoZW5Nb3VzZURvd24gPSBmYWxzZQ0KICAgICAgICB9DQogICAgICB9IGVsc2Ugew0KICAgICAgICBpZiAoY3VycmVudFNlbGVjdC5sZW5ndGggPiAxICYmIChjdXJyZW50U2VsZWN0LmluY2x1ZGVzKHRoaXMuY29udHJvbElkKSB8fCBjdXJyZW50U2VsZWN0LmluY2x1ZGVzKHRoaXMudXNlcmZvcm1EYXRhW3RoaXMudXNlckZvcm1JZF1bdGhpcy5jb250cm9sSWRdLnByb3BlcnRpZXMuR3JvdXBJRCEpKSkgew0KICAgICAgICAgIGlmIChjdXJyZW50U2VsZWN0LmluY2x1ZGVzKHRoaXMuY29udHJvbElkKSkgew0KICAgICAgICAgICAgdGhpcy5leGNoYW5nZVNlbGVjdCgpDQogICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgIGlmICgNCiAgICAgICAgICAgICAgdGhpcy51c2VyZm9ybURhdGFbdGhpcy51c2VyRm9ybUlkXVt0aGlzLmNvbnRyb2xJZF0ucHJvcGVydGllcy5Hcm91cElEICE9PSAnJw0KICAgICAgICAgICAgKSB7DQogICAgICAgICAgICAgIGNvbnN0IHNlbEdycE5hbWUgPSB0aGlzLnVzZXJmb3JtRGF0YVt0aGlzLnVzZXJGb3JtSWRdW3RoaXMuY29udHJvbElkXS5wcm9wZXJ0aWVzLkdyb3VwSUQhDQogICAgICAgICAgICAgIHRoaXMuZ3JvdXBFeGNoYW5nZShzZWxHcnBOYW1lKQ0KICAgICAgICAgICAgfQ0KICAgICAgICAgIH0NCiAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICBsZXQgc2VsZWN0VGFyZ2V0ID0gbnVsbA0KICAgICAgICAgIGxldCBjdXJyZW50R3JvdXAgPSAnJw0KICAgICAgICAgIGlmIChncm91cElkICE9PSAnJykgew0KICAgICAgICAgICAgaWYgKA0KICAgICAgICAgICAgICB0aGlzLnN5bmNDdXJyZW50U2VsZWN0ZWRHcm91cCA9PT0gZ3JvdXBJZCAmJg0KICAgICAgICAgICAgY3VycmVudFNlbGVjdFswXSA9PT0gZ3JvdXBJZA0KICAgICAgICAgICAgKSB7DQogICAgICAgICAgICAgIHNlbGVjdFRhcmdldCA9IHRoaXMuY29udHJvbElkDQogICAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgICBzZWxlY3RUYXJnZXQgPSBncm91cElkDQogICAgICAgICAgICB9DQogICAgICAgICAgICBjdXJyZW50R3JvdXAgPSBncm91cElkDQogICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgIHNlbGVjdFRhcmdldCA9IHRoaXMuY29udHJvbElkDQogICAgICAgICAgfQ0KDQogICAgICAgICAgdGhpcy5zZWxlY3RDb250cm9sKHsNCiAgICAgICAgICAgIHVzZXJGb3JtSWQ6IHRoaXMudXNlckZvcm1JZCwNCiAgICAgICAgICAgIHNlbGVjdDogeyBjb250YWluZXI6IHRoaXMuZ2V0Q29udGFpbmVyTGlzdChzZWxlY3RUYXJnZXQpLCBzZWxlY3RlZDogW3NlbGVjdFRhcmdldF0gfQ0KICAgICAgICAgIH0pDQogICAgICAgICAgdGhpcy5zeW5jQ3VycmVudFNlbGVjdGVkR3JvdXAgPSBjdXJyZW50R3JvdXANCiAgICAgICAgfQ0KICAgICAgfQ0KICAgICAgaWYgKCh0aGlzLnByb3BDb250cm9sRGF0YS50eXBlID09PSAnRnJhbWUnIHx8IHRoaXMucHJvcENvbnRyb2xEYXRhLnR5cGUgPT09ICdNdWx0aVBhZ2UnKSkgew0KICAgICAgICBjb25zdCBzZWxlY3RlZCA9IHRoaXMuc2VsZWN0ZWRDb250cm9sc1t0aGlzLnVzZXJGb3JtSWRdLnNlbGVjdGVkDQogICAgICAgIGNvbnN0IGNvbnRhaW5lciA9IHRoaXMuc2VsZWN0ZWRDb250cm9sc1t0aGlzLnVzZXJGb3JtSWRdLmNvbnRhaW5lclswXQ0KICAgICAgICBpZiAoKHNlbGVjdGVkLmxlbmd0aCA9PT0gMSAmJiAhc2VsZWN0ZWRbMF0uc3RhcnRzV2l0aCgnZ3JvdXAnKSkgfHwgKHNlbGVjdGVkLmxlbmd0aCA+IDEgJiYgY29udGFpbmVyID09PSB0aGlzLnByb3BDb250cm9sRGF0YS5wcm9wZXJ0aWVzLklEKSkgew0KICAgICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCkNCiAgICAgICAgICB0aGlzLmlzTW92aW5nID0gdHJ1ZQ0KICAgICAgICAgIHRoaXMuaXNFZGl0TW9kZSA9IHRydWUNCiAgICAgICAgfQ0KICAgICAgfQ0KICAgIH0gZWxzZSBpZiAodGhpcy5rZXlUeXBlID09PSAnc2hpZnRLZXknKSB7DQogICAgICBjb25zdCB1c2VyRGF0YSA9IHRoaXMudXNlcmZvcm1EYXRhW3RoaXMudXNlckZvcm1JZF0NCiAgICAgIGxldCBtYWluU2VsZWN0ZWQgPSB0aGlzLnNlbGVjdGVkQ29udHJvbHNbdGhpcy51c2VyRm9ybUlkXS5zZWxlY3RlZFswXQ0KICAgICAgY29uc3QgY29udHJvbERhdGE6IGNvbnRyb2xEYXRhID0gdXNlckRhdGFbdGhpcy5jb250YWluZXJJZF0NCiAgICAgIGxldCBkaXZzdHlsZTogQXJyYXk8SUdyb3VwU3R5bGU+ID0gW10NCiAgICAgIGlmIChtYWluU2VsZWN0ZWQuc3RhcnRzV2l0aCgnZ3JvdXAnKSB8fCB1c2VyRGF0YVt0aGlzLmNvbnRyb2xJZF0ucHJvcGVydGllcy5Hcm91cElEICE9PSAnJykgew0KICAgICAgICBFdmVudEJ1cy4kZW1pdCgnZ2V0R3JvdXBTaXplJywgKGRpdnN0YXlsZUFycmF5OiBBcnJheTxJR3JvdXBTdHlsZT4pID0+IHsNCiAgICAgICAgICBkaXZzdHlsZSA9IGRpdnN0YXlsZUFycmF5DQogICAgICAgIH0pDQogICAgICB9DQogICAgICBsZXQgbWFpbkN0cmw6IGNvbnRyb2xQcm9wZXJ0aWVzID0geyBJRDogJycgfQ0KICAgICAgaWYgKG1haW5TZWxlY3RlZC5zdGFydHNXaXRoKCdncm91cCcpKSB7DQogICAgICAgIGNvbnN0IGdldEluZGV4ID0gZGl2c3R5bGUuZmluZEluZGV4KHZhbCA9PiB2YWwuZ3JvdXBOYW1lID09PSBtYWluU2VsZWN0ZWQpDQogICAgICAgIG1haW5DdHJsID0gew0KICAgICAgICAgIExlZnQ6IHBhcnNlSW50KGRpdnN0eWxlW2dldEluZGV4XS5sZWZ0ISksDQogICAgICAgICAgVG9wOiBwYXJzZUludChkaXZzdHlsZVtnZXRJbmRleF0udG9wISksDQogICAgICAgICAgV2lkdGg6IHBhcnNlSW50KGRpdnN0eWxlW2dldEluZGV4XS53aWR0aCEpLA0KICAgICAgICAgIEhlaWdodDogcGFyc2VJbnQoZGl2c3R5bGVbZ2V0SW5kZXhdLmhlaWdodCEpLA0KICAgICAgICAgIElEOiAnJw0KICAgICAgICB9DQogICAgICB9IGVsc2Ugew0KICAgICAgICBtYWluQ3RybCA9IHVzZXJEYXRhW21haW5TZWxlY3RlZF0ucHJvcGVydGllcw0KICAgICAgICBpZiAobWFpblNlbGVjdGVkID09PSB0aGlzLmNvbnRhaW5lcklkKSB7DQogICAgICAgICAgbWFpblNlbGVjdGVkID0gJycNCiAgICAgICAgICBtYWluQ3RybCA9IHVzZXJEYXRhW3RoaXMuY29udHJvbElkXS5wcm9wZXJ0aWVzDQogICAgICAgIH0NCiAgICAgIH0NCiAgICAgIGxldCBzaWRlQ3RybCA9IHVzZXJEYXRhW3RoaXMuY29udHJvbElkXS5wcm9wZXJ0aWVzDQogICAgICBpZiAodXNlckRhdGFbdGhpcy5jb250cm9sSWRdLnByb3BlcnRpZXMuR3JvdXBJRCAhPT0gJycpIHsNCiAgICAgICAgY29uc3QgZ2V0SW5kZXggPSBkaXZzdHlsZS5maW5kSW5kZXgodmFsID0+IHZhbC5ncm91cE5hbWUgPT09IHVzZXJEYXRhW3RoaXMuY29udHJvbElkXS5wcm9wZXJ0aWVzLkdyb3VwSUQpDQogICAgICAgIHNpZGVDdHJsID0gew0KICAgICAgICAgIExlZnQ6IHBhcnNlSW50KGRpdnN0eWxlW2dldEluZGV4XS5sZWZ0ISksDQogICAgICAgICAgVG9wOiBwYXJzZUludChkaXZzdHlsZVtnZXRJbmRleF0udG9wISksDQogICAgICAgICAgV2lkdGg6IHBhcnNlSW50KGRpdnN0eWxlW2dldEluZGV4XS53aWR0aCEpLA0KICAgICAgICAgIEhlaWdodDogcGFyc2VJbnQoZGl2c3R5bGVbZ2V0SW5kZXhdLmhlaWdodCEpLA0KICAgICAgICAgIElEOiAnJw0KICAgICAgICB9DQogICAgICB9DQogICAgICBjb25zdCBzZWxlY3RlZFNpemUgPSB7DQogICAgICAgIExlZnQ6IG1haW5DdHJsLkxlZnQhIDwgc2lkZUN0cmwuTGVmdCEgPyBtYWluQ3RybC5MZWZ0ISA6IHNpZGVDdHJsLkxlZnQhLA0KICAgICAgICBUb3A6IG1haW5DdHJsLlRvcCEgPCBzaWRlQ3RybC5Ub3AhID8gbWFpbkN0cmwuVG9wISA6IHNpZGVDdHJsLlRvcCEsDQogICAgICAgIFdpZHRoOiAobWFpbkN0cmwuTGVmdCEgKyBtYWluQ3RybC5XaWR0aCEpID4gKHNpZGVDdHJsLkxlZnQhICsgc2lkZUN0cmwuV2lkdGghKSA/IG1haW5DdHJsLkxlZnQhICsgbWFpbkN0cmwuV2lkdGghIDogc2lkZUN0cmwuTGVmdCEgKyBzaWRlQ3RybC5XaWR0aCEsDQogICAgICAgIEhlaWdodDogKG1haW5DdHJsLlRvcCEgKyBtYWluQ3RybC5IZWlnaHQhKSA+IChzaWRlQ3RybC5Ub3AhICsgc2lkZUN0cmwuSGVpZ2h0ISkgPyBtYWluQ3RybC5Ub3AhICsgbWFpbkN0cmwuSGVpZ2h0ISA6IHNpZGVDdHJsLlRvcCEgKyBzaWRlQ3RybC5IZWlnaHQhDQogICAgICB9DQogICAgICBjb25zdCBsZWZ0ID0gc2VsZWN0ZWRTaXplLkxlZnQNCiAgICAgIGNvbnN0IHRvcCA9IHNlbGVjdGVkU2l6ZS5Ub3ANCiAgICAgIGNvbnN0IHJpZ2h0ID0gc2VsZWN0ZWRTaXplLldpZHRoDQogICAgICBjb25zdCBib3R0b20gPSBzZWxlY3RlZFNpemUuSGVpZ2h0DQogICAgICBjb25zdCBtdWx0aXBsZUN0cmwgPSBbXQ0KICAgICAgaWYgKGxlZnQgIT09IHJpZ2h0IHx8IHRvcCAhPT0gYm90dG9tKSB7DQogICAgICAgIGZvciAobGV0IGkgaW4gY29udHJvbERhdGEuY29udHJvbHMpIHsNCiAgICAgICAgICBjb25zdCBrZXk6IHN0cmluZyA9IGNvbnRyb2xEYXRhLmNvbnRyb2xzW2ldDQogICAgICAgICAgY29uc3QgY29udHJvbFByb3A6IGNvbnRyb2xQcm9wZXJ0aWVzID0gdGhpcy51c2VyZm9ybURhdGFbdGhpcy51c2VyRm9ybUlkXVtrZXldLnByb3BlcnRpZXMNCiAgICAgICAgICBpZiAoDQogICAgICAgICAgICBsZWZ0IDw9IGNvbnRyb2xQcm9wIS5MZWZ0ISArIGNvbnRyb2xQcm9wIS5XaWR0aCEgJiYNCiAgICAgICAgICAgIHJpZ2h0ID49IGNvbnRyb2xQcm9wIS5MZWZ0ISAmJg0KICAgICAgICAgICAgdG9wIDw9IGNvbnRyb2xQcm9wIS5Ub3AhICsgY29udHJvbFByb3AhLkhlaWdodCEgJiYNCiAgICAgICAgICAgIGJvdHRvbSA+PSBjb250cm9sUHJvcCEuVG9wIQ0KICAgICAgICAgICkgew0KICAgICAgICAgICAgbXVsdGlwbGVDdHJsLnB1c2goa2V5KQ0KICAgICAgICAgIH0NCiAgICAgICAgfQ0KICAgICAgICBjb25zdCBzZWxlY3RlZEdyb3VwOiBzdHJpbmdbXSA9IFtdDQogICAgICAgIGZvciAoY29uc3QgdmFsIG9mIG11bHRpcGxlQ3RybCkgew0KICAgICAgICAgIGNvbnN0IGNvbnRyb2xHcm91cElkOiBzdHJpbmcgPSB0aGlzLnVzZXJmb3JtRGF0YVt0aGlzLnVzZXJGb3JtSWRdW3ZhbF0NCiAgICAgICAgICAgIC5wcm9wZXJ0aWVzLkdyb3VwSUQhDQogICAgICAgICAgaWYgKGNvbnRyb2xHcm91cElkICYmIGNvbnRyb2xHcm91cElkICE9PSAnJykgew0KICAgICAgICAgICAgIXNlbGVjdGVkR3JvdXAuaW5jbHVkZXMoY29udHJvbEdyb3VwSWQpISAmJg0KICAgICAgICAgICAgICBzZWxlY3RlZEdyb3VwLnB1c2goY29udHJvbEdyb3VwSWQpDQogICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgIHNlbGVjdGVkR3JvdXAucHVzaCh2YWwpDQogICAgICAgICAgfQ0KICAgICAgICB9DQogICAgICAgIGlmICh0aGlzLnNlbGVjdGVkQ29udHJvbEFycmF5Lmxlbmd0aCAhPT0gMCkgew0KICAgICAgICAgIHRoaXMuc2VsZWN0Q29udHJvbCh7DQogICAgICAgICAgICB1c2VyRm9ybUlkOiB0aGlzLnVzZXJGb3JtSWQsDQogICAgICAgICAgICBzZWxlY3Q6IHsNCiAgICAgICAgICAgICAgY29udGFpbmVyOiB0aGlzLmdldENvbnRhaW5lckxpc3Qoc2VsZWN0ZWRHcm91cFswXSksDQogICAgICAgICAgICAgIHNlbGVjdGVkOiBbLi4uc2VsZWN0ZWRHcm91cF0NCiAgICAgICAgICAgIH0NCiAgICAgICAgICB9KQ0KICAgICAgICB9DQogICAgICB9DQogICAgfSBlbHNlIGlmICh0aGlzLmtleVR5cGUgPT09ICdjdHJsS2V5Jykgew0KICAgICAgbGV0IHNlbGVjdGVkID0gWy4uLnRoaXMuc2VsZWN0ZWRDb250cm9sc1t0aGlzLnVzZXJGb3JtSWRdLnNlbGVjdGVkXQ0KICAgICAgaWYgKHNlbGVjdGVkWzBdID09PSB0aGlzLmNvbnRhaW5lcklkKSB7DQogICAgICAgIHNlbGVjdGVkID0gW10NCiAgICAgIH0gZWxzZSB7DQogICAgICAgIHNlbGVjdGVkID0gWy4uLnNlbGVjdGVkXQ0KICAgICAgfQ0KICAgICAgbGV0IHNlbGVjdGVkR3JvdXAgPSBbdGhpcy5jb250cm9sSWRdDQogICAgICBsZXQgY29tYmluZUFycmF5ID0gc2VsZWN0ZWQuZmlsdGVyKHggPT4gIXNlbGVjdGVkR3JvdXAuaW5jbHVkZXMoeCkpLmNvbmNhdChzZWxlY3RlZEdyb3VwLmZpbHRlcih4ID0+ICFzZWxlY3RlZC5pbmNsdWRlcyh4KSkpDQogICAgICBpZiAoY29tYmluZUFycmF5Lmxlbmd0aCA+IDApIHsNCiAgICAgICAgdGhpcy5zZWxlY3RDb250cm9sKHsNCiAgICAgICAgICB1c2VyRm9ybUlkOiB0aGlzLnVzZXJGb3JtSWQsDQogICAgICAgICAgc2VsZWN0OiB7DQogICAgICAgICAgICBjb250YWluZXI6IHRoaXMuZ2V0Q29udGFpbmVyTGlzdChjb21iaW5lQXJyYXlbMF0pLA0KICAgICAgICAgICAgc2VsZWN0ZWQ6IGNvbWJpbmVBcnJheQ0KICAgICAgICAgIH0NCiAgICAgICAgfSkNCiAgICAgIH0gZWxzZSB7DQogICAgICAgIGNvbnN0IGNvbnRhaW5lciA9IHRoaXMuc2VsZWN0ZWRDb250cm9sc1t0aGlzLnVzZXJGb3JtSWRdLmNvbnRhaW5lcg0KICAgICAgICB0aGlzLnNlbGVjdENvbnRyb2woew0KICAgICAgICAgIHVzZXJGb3JtSWQ6IHRoaXMudXNlckZvcm1JZCwNCiAgICAgICAgICBzZWxlY3Q6IHsNCiAgICAgICAgICAgIGNvbnRhaW5lcjogY29udGFpbmVyLA0KICAgICAgICAgICAgc2VsZWN0ZWQ6IFtjb250YWluZXJbMF1dDQogICAgICAgICAgfQ0KICAgICAgICB9KQ0KICAgICAgfQ0KICAgIH0NCiAgfQ0KDQogIGV4Y2hhbmdlU2VsZWN0ICgpIHsNCiAgICBjb25zdCBzZWwgPSBbLi4udGhpcy5zZWxlY3RlZENvbnRyb2xzW3RoaXMudXNlckZvcm1JZF0uc2VsZWN0ZWRdDQogICAgY29uc3QgY29udHJvbEluZGV4ID0gdGhpcy5zZWxlY3RlZENvbnRyb2xzW3RoaXMudXNlckZvcm1JZF0uc2VsZWN0ZWQuZmluZEluZGV4KCh2YWwpID0+IHZhbCA9PT0gdGhpcy5jb250cm9sSWQpDQogICAgc2VsLnNwbGljZShjb250cm9sSW5kZXgsIDEpDQogICAgc2VsLnVuc2hpZnQodGhpcy5jb250cm9sSWQpDQogICAgdGhpcy5zZWxlY3RDb250cm9sKHsNCiAgICAgIHVzZXJGb3JtSWQ6IHRoaXMudXNlckZvcm1JZCwNCiAgICAgIHNlbGVjdDogeyBjb250YWluZXI6IHRoaXMuZ2V0Q29udGFpbmVyTGlzdChzZWxbMF0pLCBzZWxlY3RlZDogWy4uLnNlbF0gfQ0KICAgIH0pDQogIH0NCiAgZ3JvdXBFeGNoYW5nZSAoZ3JvdXBOYW1lOiBzdHJpbmcpIHsNCiAgICBjb25zdCBzZWwgPSBbLi4udGhpcy5zZWxlY3RlZENvbnRyb2xzW3RoaXMudXNlckZvcm1JZF0uc2VsZWN0ZWRdDQogICAgY29uc3QgY29udHJvbEluZGV4ID0gdGhpcy5zZWxlY3RlZENvbnRyb2xzW3RoaXMudXNlckZvcm1JZF0uc2VsZWN0ZWQuZmluZEluZGV4KCh2YWwpID0+IHZhbCA9PT0gZ3JvdXBOYW1lKQ0KICAgIHNlbC5zcGxpY2UoY29udHJvbEluZGV4LCAxKQ0KICAgIHNlbC51bnNoaWZ0KGdyb3VwTmFtZSkNCiAgICB0aGlzLnNlbGVjdENvbnRyb2woew0KICAgICAgdXNlckZvcm1JZDogdGhpcy51c2VyRm9ybUlkLA0KICAgICAgc2VsZWN0OiB7IGNvbnRhaW5lcjogdGhpcy5nZXRDb250YWluZXJMaXN0KHNlbFswXSksIHNlbGVjdGVkOiBbLi4uc2VsXSB9DQogICAgfSkNCiAgfQ0KICBnZXQgZ2V0TW9kZVN0eWxlICgpIHsNCiAgICByZXR1cm4gdGhpcy5tYWluU2VsZWN0ZWQgPyAnY29udHJvbFNlbGVjdFN0eWxlJyA6ICdjb250cm9sU3R5bGUnDQogIH0NCiAgQFdhdGNoKCd0b29sQm94U2VsZWN0JywgeyBkZWVwOiB0cnVlIH0pDQogIHVwZGF0ZWN0cmxFZGl0TW9kZSAoKSB7DQogICAgY29uc3Qgc2VsZWN0ZWQgPSB0aGlzLnNlbGVjdGVkQ29udHJvbHNbdGhpcy51c2VyRm9ybUlkXS5zZWxlY3RlZA0KICAgIGxldCBjb250YWluZXIgPSB0aGlzLnNlbGVjdGVkQ29udHJvbHNbdGhpcy51c2VyRm9ybUlkXS5jb250YWluZXJbMF0NCiAgICBpZiAoc2VsZWN0ZWQubGVuZ3RoID09PSAxICYmICFzZWxlY3RlZFswXS5zdGFydHNXaXRoKCdncm91cCcpKSB7DQogICAgICBjb25zdCB0eXBlID0gdGhpcy51c2VyZm9ybURhdGFbdGhpcy51c2VyRm9ybUlkXVtzZWxlY3RlZFswXV0udHlwZQ0KICAgICAgaWYgKHR5cGUgPT09ICdGcmFtZScgfHwgdHlwZSA9PT0gJ1BhZ2UnIHx8IHR5cGUgPT09ICdNdWx0aVBhZ2UnKSB7DQogICAgICAgIGNvbnRhaW5lciA9IHNlbGVjdGVkWzBdDQogICAgICB9DQogICAgfQ0KICAgIGNvbnN0IHR5cGUgPSB0aGlzLnVzZXJmb3JtRGF0YVt0aGlzLnVzZXJGb3JtSWRdW2NvbnRhaW5lcl0udHlwZQ0KICAgIGlmICh0eXBlICE9PSAnRnJhbWUnICYmIHR5cGUgIT09ICdQYWdlJyAmJiB0eXBlICE9PSAnTXVsdGlQYWdlJykgew0KICAgICAgdGhpcy5pc0VkaXRNb2RlID0gZmFsc2UNCiAgICB9DQogIH0NCg0KICBAV2F0Y2goJ3NlbGVjdGVkQ29udHJvbHMnLCB7IGRlZXA6IHRydWUgfSkNCiAgdXBkYXRlU2VsZWN0ZWRDb250cm9scyAoKSB7DQogICAgY29uc3QgdHlwZSA9IHRoaXMudXNlcmZvcm1EYXRhW3RoaXMudXNlckZvcm1JZF1bdGhpcy5zZWxlY3RlZENvbnRhaW5lclswXV0udHlwZQ0KICAgIGNvbnN0IGNvbnRyb2xUeXBlID0gdGhpcy51c2VyZm9ybURhdGFbdGhpcy51c2VyRm9ybUlkXVt0aGlzLmNvbnRyb2xJZF0udHlwZQ0KICAgIGlmICh0eXBlID09PSAnRnJhbWUnIHx8IHR5cGUgPT09ICdQYWdlJyB8fCB0eXBlID09PSAnTXVsdGlQYWdlJykgew0KICAgICAgaWYgKGNvbnRyb2xUeXBlID09PSAnRnJhbWUnIHx8IGNvbnRyb2xUeXBlID09PSAnTXVsdGlQYWdlJykgew0KICAgICAgICB0aGlzLmlzRWRpdE1vZGUgPSB0cnVlDQogICAgICB9IGVsc2Ugew0KICAgICAgICBpZiAodGhpcy5pc01vdmluZyA9PT0gZmFsc2UpIHsNCiAgICAgICAgICB0aGlzLmlzRWRpdE1vZGUgPSBmYWxzZQ0KICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgIHRoaXMuaXNNb3ZpbmcgPSBmYWxzZQ0KICAgICAgICB9DQogICAgICB9DQogICAgfSBlbHNlIHsNCiAgICAgIGlmICh0aGlzLmlzTW92aW5nID09PSBmYWxzZSkgew0KICAgICAgICB0aGlzLmlzRWRpdE1vZGUgPSBmYWxzZQ0KICAgICAgfSBlbHNlIHsNCiAgICAgICAgdGhpcy5pc01vdmluZyA9IGZhbHNlDQogICAgICB9DQogICAgfQ0KICB9DQoNCiAgZ2V0IGdldFVzZXJGb3JtSWQgKCkgew0KICAgIGlmICgNCiAgICAgIHRoaXMucHJvcENvbnRyb2xEYXRhLnR5cGUgPT09ICdGcmFtZScgfHwNCiAgICAgIHRoaXMucHJvcENvbnRyb2xEYXRhLnR5cGUgPT09ICdNdWx0aVBhZ2UnIHx8DQogICAgICB0aGlzLnByb3BDb250cm9sRGF0YS50eXBlID09PSAnVGFiU3RyaXAnDQogICAgKSB7DQogICAgICByZXR1cm4gdGhpcy51c2VyRm9ybUlkDQogICAgfSBlbHNlIHsNCiAgICAgIHJldHVybiBudWxsDQogICAgfQ0KICB9DQogIGNyZWF0ZWQgKCkgew0KICAgIEV2ZW50QnVzLiRvbignYWN0TXVsdGlwbGVDdHJsJywgKHZhbDogYm9vbGVhbikgPT4gew0KICAgICAgdGhpcy5zZWxNdWx0aXBsZUN0cmwgPSB2YWwNCiAgICAgIHRoaXMua2V5VHlwZSA9ICdzaGlmdEtleScNCiAgICB9KQ0KICAgIEV2ZW50QnVzLiRvbignc2VsZWN0TXVsdGlwbGVDdHJsJywgKHZhbDogYm9vbGVhbikgPT4gew0KICAgICAgdGhpcy5zZWxNdWx0aXBsZUN0cmwgPSB2YWwNCiAgICAgIHRoaXMua2V5VHlwZSA9ICdjdHJsS2V5Jw0KICAgIH0pDQogIH0NCiAgZGlzcGxheUNvbnRleHRNZW51IChldmVudDogTW91c2VFdmVudCkgew0KICAgIEV2ZW50QnVzLiRlbWl0KCdjb250ZXh0TWVudURpc3BsYXknLCBldmVudCwgdGhpcy5jb250YWluZXJJZCwgdGhpcy5jb250cm9sSWQsICdjb250cm9sJywgdGhpcy5pc0VkaXRNb2RlKQ0KICB9DQp9DQo="},{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA8DA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"index.vue","sourceRoot":"src/FormDesigner/components/organisms/FDResizeControl","sourcesContent":["<template>\r\n  <div>\r\n    <div\r\n      :class=\"\r\n        mainSelected && isEditMode && !isRunMode\r\n          ? 'controlEditStyle'\r\n          : canDragMainDiv\r\n          ? 'controlSelectStyle'\r\n          : 'controlStyle'\r\n      \"\r\n      :style=\"resizeControlStyle\"\r\n      :ref=\"'draRef'.concat(controlId)\"\r\n      @mousedown=\"\r\n        mainSelected && !isRunMode\r\n          ? handleDrag($event)\r\n          : !isRunMode && dragGroupControl($event)\r\n      \"\r\n      @contextmenu.stop=\"displayContextMenu\"\r\n    >\r\n      <ResizeHandler\r\n        v-if=\"!isRunMode\"\r\n        ref=\"resize\"\r\n        @updateResize=\"updateResize\"\r\n        :controlId=\"controlId\"\r\n        :userFormId=\"userFormId\"\r\n        controlType=\"control\"\r\n        @createGroup=\"createGroup\"\r\n        @muldragControl=\"muldragControl\"\r\n        @updateIsMove=\"updateIsMove\"\r\n        :size=\"{\r\n          width: propControlData.properties.Width,\r\n          height: propControlData.properties.Height,\r\n        }\"\r\n      />\r\n      <component\r\n        :is=\"propControlData.type\"\r\n        :controlId=\"propControlData.properties.ID\"\r\n        :userFormId=\"getUserFormId\"\r\n        :data=\"propControlData\"\r\n        :isActivated=\"\r\n          this.selectedControls[this.userFormId].selected.includes(this.controlId) &&\r\n           this.selectedControls[this.userFormId].selected.length === 1\r\n        \"\r\n        :isRunMode=\"isRunMode\"\r\n        :isEditMode=\"isEditMode\"\r\n        :containerId=\"containerId\"\r\n        @setEditMode=\"setEditMode\"\r\n        @selectedItem=\"selectedItem\"\r\n        @deleteItem=\"deleteItem\"\r\n        @updateModel=\"updateModelHandle\"\r\n        @updateModelExtraData=\"updateModelExtraDataHandle\"\r\n        @controlEditMode=\"controlEditMode\"\r\n        @updateEditMode=\"updateEditMode\"\r\n        :toolBoxSelectControl=\"toolBoxSelect\"\r\n      >\r\n        {{ propControlData.properties.Caption }}\r\n      </component>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script lang=\"ts\">\r\nimport {\r\n  Component,\r\n  Emit,\r\n  Prop,\r\n  Vue,\r\n  Ref,\r\n  PropSync,\r\n  Watch\r\n} from 'vue-property-decorator'\r\nimport { State, Action } from 'vuex-class'\r\n\r\nimport Label from '@/FormDesigner/components/atoms/FDLabel/index.vue'\r\nimport CommandButton from '@/FormDesigner/components/atoms/FDCommandButton/index.vue'\r\nimport ToggleButton from '@/FormDesigner/components/atoms/FDToggleButton/index.vue'\r\nimport TextBox from '@/FormDesigner/components/atoms/FDTextBox/index.vue'\r\nimport SpinButton from '@/FormDesigner/components/atoms/FDSpinButton/index.vue'\r\nimport ScrollBar from '@/FormDesigner/components/atoms/FDScrollBar/index.vue'\r\nimport OptionButton from '@/FormDesigner/components/atoms/FDOptionButton/index.vue'\r\nimport CheckBox from '@/FormDesigner/components/atoms/FDCheckBox/index.vue'\r\nimport ComboBox from '@/FormDesigner/components/atoms/FDComboBox/index.vue'\r\nimport ListBox from '@/FormDesigner/components/atoms/FDListBox/index.vue'\r\nimport FDImage from '@/FormDesigner/components/atoms/FDImage/index.vue'\r\nimport Frame from '@/FormDesigner/components/atoms/FDFrame/index.vue'\r\nimport TabStrip from '@/FormDesigner/components/atoms/FDTabStrip/index.vue'\r\nimport MultiPage from '@/FormDesigner/components/atoms/FDMultiPage/index.vue'\r\nimport ResizeHandler from '@/FormDesigner/components/molecules/FDResizeHandler/index.vue'\r\nimport FdSelectVue from '@/api/abstract/FormDesigner/FdSelectVue'\r\nimport Container from '../FDContainer/index.vue'\r\nimport { EventBus } from '@/FormDesigner/event-bus'\r\n@Component({\r\n  name: 'ResizeControl',\r\n  components: {\r\n    ResizeHandler,\r\n    Label,\r\n    CommandButton,\r\n    ToggleButton,\r\n    TextBox,\r\n    SpinButton,\r\n    ScrollBar,\r\n    CheckBox,\r\n    OptionButton,\r\n    FDImage,\r\n    Frame,\r\n    ComboBox,\r\n    ListBox,\r\n    TabStrip,\r\n    MultiPage\r\n  }\r\n})\r\nexport default class ResizeControl extends FdSelectVue {\r\n  @State((state: rootState) => state.fd.toolBoxSelect) toolBoxSelect!: fdState['toolBoxSelect'];\r\n  @PropSync('currentSelectedGroup') public syncCurrentSelectedGroup!: string;\r\n  @Prop({ required: true, type: String }) public containerId!: string;\r\n  @Ref('resize') readonly resize!: ResizeHandler;\r\n  selMultipleCtrl: boolean = false\r\n  keyType: string = ''\r\n\r\n  handleDrag (event: MouseEvent) {\r\n    if (this.toolBoxSelect === 'Select') {\r\n      event.stopPropagation()\r\n      if (this.selectedControls[this.userFormId].selected.length > 1 && this.selMultipleCtrl === false) {\r\n        if (event.which !== 3 && this.isMoveWhenMouseDown) {\r\n          this.selectedItem(event)\r\n        }\r\n      }\r\n      this.isMoveWhenMouseDown = false\r\n      this.resize.handleMouseDown(event, 'drag', 'control', this.controlId)\r\n    }\r\n  }\r\n  @Emit('muldragControl')\r\n  private muldragControl (val: IDragResizeGroup) {\r\n    return val\r\n  }\r\n\r\n  @Emit('dragControl')\r\n  dragControl (event: MouseEvent) {\r\n    return event\r\n  }\r\n  selectMultipleCtrl (val: boolean) {\r\n    this.selMultipleCtrl = val\r\n  }\r\n\r\n  dragGroupControl (event: MouseEvent) {\r\n    if (this.toolBoxSelect === 'Select') {\r\n      event.stopPropagation()\r\n      if (this.selectedControls[this.userFormId].selected.length > 1 && this.selMultipleCtrl === false) {\r\n        if (event.which !== 3 && this.isMoveWhenMouseDown) {\r\n          this.selectedItem(event)\r\n        }\r\n      }\r\n      this.propControlData.properties.GroupID && this.dragControl(event)\r\n    }\r\n  }\r\n  @Emit('openMenu')\r\n  openMenu (e: MouseEvent, parentID: string, controlID: string) {\r\n    return {\r\n      e,\r\n      parentID,\r\n      controlID\r\n    }\r\n  }\r\n\r\n  get canDragMainDiv (): boolean {\r\n    return this.mainSelected && !this.isEditMode && !this.isRunMode\r\n  }\r\n\r\n  get propControlData (): controlData {\r\n    return this.userformData[this.userFormId][this.controlId]\r\n  }\r\n  openContextMenu (e: MouseEvent, parentID: string, controlID: string, type: string, mode: boolean) {\r\n    this.$emit('openMenu', e, parentID, controlID, type, mode)\r\n  }\r\n  get resizeControlStyle () {\r\n    const userData = this.userformData[this.userFormId]\r\n    const currentProperties = this.propControlData.properties\r\n    const extraData = this.propControlData.extraDatas!\r\n    const bs = currentProperties.BorderStyle!\r\n    const isRotate = currentProperties.Width! > currentProperties.Height!\r\n    const type = this.propControlData.type\r\n    let highestZIndex = -1\r\n    if (this.selectedControlArray.length === 1 && !this.selectedControlArray[0].startsWith('group')) {\r\n      const selected = userData[this.selectedControlArray[0]].type === 'Page' ? this.selectedContainer[0] : this.selectedControlArray[0]\r\n      if (selected === this.propControlData.properties.ID && (type === 'Frame' || type === 'MultiPage')) {\r\n        const containerControls = [...userData[this.getContainerList(selected)[0]].controls]\r\n        containerControls.sort((a, b) => {\r\n          return userData[b].extraDatas!.zIndex! - userData[a].extraDatas!.zIndex!\r\n        })\r\n        highestZIndex = userData[containerControls[0]].extraDatas!.zIndex!\r\n      }\r\n    }\r\n    return {\r\n      left: `${currentProperties.Left}px`,\r\n      top: `${currentProperties.Top}px`,\r\n      /* border width(5) * 2 = 10 */\r\n      width: `${currentProperties.Width! + 10}px`,\r\n      height: `${currentProperties.Height! + 10}px`,\r\n      display:\r\n        this.isRunMode && currentProperties.Visible === false\r\n          ? 'none'\r\n          : 'block',\r\n      cursor: !this.isRunMode ? 'move' : 'default',\r\n      zIndex: (highestZIndex !== -1 && type !== 'Page' && this.isEditMode) ? highestZIndex + 1 : extraData.zIndex! <= 0 ? '' : extraData.zIndex!\r\n    }\r\n  }\r\n  get mainSelected () {\r\n    return (\r\n      this.selectedControls[this.userFormId].selected.includes(\r\n        this.controlId\r\n      ) ||\r\n      (this.selectedControls[this.userFormId].container.includes(\r\n        this.controlId\r\n      ) &&\r\n        this.selectedControls[this.userFormId].selected.includes(\r\n          this.controlId\r\n        ) !==\r\n          this.selectedControls[this.userFormId].container.includes(\r\n            this.controlId\r\n          ))\r\n    )\r\n  }\r\n  deleteItem (event: KeyboardEvent) {\r\n    const userData = this.userformData[this.userFormId]\r\n    const type = userData[this.controlId].type\r\n    const controlId = type === 'Page' ? this.containerId : this.controlId\r\n    const containerId = type === 'Page' ? this.getContainerList(controlId)[0] : this.containerId\r\n    if (event.key !== 'Backspace') {\r\n      this.deleteZIndex(controlId)\r\n      this.deleteTabIndex(controlId)\r\n      this.deleteControl({\r\n        userFormId: this.userFormId,\r\n        parentId: containerId,\r\n        targetId: controlId\r\n      })\r\n    }\r\n    this.selectControl({\r\n      userFormId: this.userFormId,\r\n      select: {\r\n        container: this.getContainerList(containerId),\r\n        selected: [containerId]\r\n      }\r\n    })\r\n  }\r\n  selectedItem (e: MouseEvent) {\r\n    if (this.selMultipleCtrl === false) {\r\n      const userData = this.userformData[this.userFormId]\r\n      const groupId = this.propControlData.properties.GroupID\r\n        ? this.propControlData.properties.GroupID\r\n        : ''\r\n      const currentSelect = this.selectedControls[this.userFormId].selected\r\n      if (currentSelect.length === 1 && currentSelect[0] === this.controlId) {\r\n        if (\r\n          this.isMoveWhenMouseDown !== true &&\r\n        this.propControlData.type !== 'FDImage' &&\r\n        this.propControlData.type !== 'Frame' &&\r\n        this.propControlData.type !== 'MultiPage'\r\n        ) {\r\n          this.isEditMode = true\r\n          this.isMoveWhenMouseDown = false\r\n        }\r\n      } else {\r\n        if (currentSelect.length > 1 && (currentSelect.includes(this.controlId) || currentSelect.includes(this.userformData[this.userFormId][this.controlId].properties.GroupID!))) {\r\n          if (currentSelect.includes(this.controlId)) {\r\n            this.exchangeSelect()\r\n          } else {\r\n            if (\r\n              this.userformData[this.userFormId][this.controlId].properties.GroupID !== ''\r\n            ) {\r\n              const selGrpName = this.userformData[this.userFormId][this.controlId].properties.GroupID!\r\n              this.groupExchange(selGrpName)\r\n            }\r\n          }\r\n        } else {\r\n          let selectTarget = null\r\n          let currentGroup = ''\r\n          if (groupId !== '') {\r\n            if (\r\n              this.syncCurrentSelectedGroup === groupId &&\r\n            currentSelect[0] === groupId\r\n            ) {\r\n              selectTarget = this.controlId\r\n            } else {\r\n              selectTarget = groupId\r\n            }\r\n            currentGroup = groupId\r\n          } else {\r\n            selectTarget = this.controlId\r\n          }\r\n\r\n          this.selectControl({\r\n            userFormId: this.userFormId,\r\n            select: { container: this.getContainerList(selectTarget), selected: [selectTarget] }\r\n          })\r\n          this.syncCurrentSelectedGroup = currentGroup\r\n        }\r\n      }\r\n      if ((this.propControlData.type === 'Frame' || this.propControlData.type === 'MultiPage')) {\r\n        const selected = this.selectedControls[this.userFormId].selected\r\n        const container = this.selectedControls[this.userFormId].container[0]\r\n        if ((selected.length === 1 && !selected[0].startsWith('group')) || (selected.length > 1 && container === this.propControlData.properties.ID)) {\r\n          e.stopPropagation()\r\n          this.isMoving = true\r\n          this.isEditMode = true\r\n        }\r\n      }\r\n    } else if (this.keyType === 'shiftKey') {\r\n      const userData = this.userformData[this.userFormId]\r\n      let mainSelected = this.selectedControls[this.userFormId].selected[0]\r\n      const controlData: controlData = userData[this.containerId]\r\n      let divstyle: Array<IGroupStyle> = []\r\n      if (mainSelected.startsWith('group') || userData[this.controlId].properties.GroupID !== '') {\r\n        EventBus.$emit('getGroupSize', (divstayleArray: Array<IGroupStyle>) => {\r\n          divstyle = divstayleArray\r\n        })\r\n      }\r\n      let mainCtrl: controlProperties = { ID: '' }\r\n      if (mainSelected.startsWith('group')) {\r\n        const getIndex = divstyle.findIndex(val => val.groupName === mainSelected)\r\n        mainCtrl = {\r\n          Left: parseInt(divstyle[getIndex].left!),\r\n          Top: parseInt(divstyle[getIndex].top!),\r\n          Width: parseInt(divstyle[getIndex].width!),\r\n          Height: parseInt(divstyle[getIndex].height!),\r\n          ID: ''\r\n        }\r\n      } else {\r\n        mainCtrl = userData[mainSelected].properties\r\n        if (mainSelected === this.containerId) {\r\n          mainSelected = ''\r\n          mainCtrl = userData[this.controlId].properties\r\n        }\r\n      }\r\n      let sideCtrl = userData[this.controlId].properties\r\n      if (userData[this.controlId].properties.GroupID !== '') {\r\n        const getIndex = divstyle.findIndex(val => val.groupName === userData[this.controlId].properties.GroupID)\r\n        sideCtrl = {\r\n          Left: parseInt(divstyle[getIndex].left!),\r\n          Top: parseInt(divstyle[getIndex].top!),\r\n          Width: parseInt(divstyle[getIndex].width!),\r\n          Height: parseInt(divstyle[getIndex].height!),\r\n          ID: ''\r\n        }\r\n      }\r\n      const selectedSize = {\r\n        Left: mainCtrl.Left! < sideCtrl.Left! ? mainCtrl.Left! : sideCtrl.Left!,\r\n        Top: mainCtrl.Top! < sideCtrl.Top! ? mainCtrl.Top! : sideCtrl.Top!,\r\n        Width: (mainCtrl.Left! + mainCtrl.Width!) > (sideCtrl.Left! + sideCtrl.Width!) ? mainCtrl.Left! + mainCtrl.Width! : sideCtrl.Left! + sideCtrl.Width!,\r\n        Height: (mainCtrl.Top! + mainCtrl.Height!) > (sideCtrl.Top! + sideCtrl.Height!) ? mainCtrl.Top! + mainCtrl.Height! : sideCtrl.Top! + sideCtrl.Height!\r\n      }\r\n      const left = selectedSize.Left\r\n      const top = selectedSize.Top\r\n      const right = selectedSize.Width\r\n      const bottom = selectedSize.Height\r\n      const multipleCtrl = []\r\n      if (left !== right || top !== bottom) {\r\n        for (let i in controlData.controls) {\r\n          const key: string = controlData.controls[i]\r\n          const controlProp: controlProperties = this.userformData[this.userFormId][key].properties\r\n          if (\r\n            left <= controlProp!.Left! + controlProp!.Width! &&\r\n            right >= controlProp!.Left! &&\r\n            top <= controlProp!.Top! + controlProp!.Height! &&\r\n            bottom >= controlProp!.Top!\r\n          ) {\r\n            multipleCtrl.push(key)\r\n          }\r\n        }\r\n        const selectedGroup: string[] = []\r\n        for (const val of multipleCtrl) {\r\n          const controlGroupId: string = this.userformData[this.userFormId][val]\r\n            .properties.GroupID!\r\n          if (controlGroupId && controlGroupId !== '') {\r\n            !selectedGroup.includes(controlGroupId)! &&\r\n              selectedGroup.push(controlGroupId)\r\n          } else {\r\n            selectedGroup.push(val)\r\n          }\r\n        }\r\n        if (this.selectedControlArray.length !== 0) {\r\n          this.selectControl({\r\n            userFormId: this.userFormId,\r\n            select: {\r\n              container: this.getContainerList(selectedGroup[0]),\r\n              selected: [...selectedGroup]\r\n            }\r\n          })\r\n        }\r\n      }\r\n    } else if (this.keyType === 'ctrlKey') {\r\n      let selected = [...this.selectedControls[this.userFormId].selected]\r\n      if (selected[0] === this.containerId) {\r\n        selected = []\r\n      } else {\r\n        selected = [...selected]\r\n      }\r\n      let selectedGroup = [this.controlId]\r\n      let combineArray = selected.filter(x => !selectedGroup.includes(x)).concat(selectedGroup.filter(x => !selected.includes(x)))\r\n      if (combineArray.length > 0) {\r\n        this.selectControl({\r\n          userFormId: this.userFormId,\r\n          select: {\r\n            container: this.getContainerList(combineArray[0]),\r\n            selected: combineArray\r\n          }\r\n        })\r\n      } else {\r\n        const container = this.selectedControls[this.userFormId].container\r\n        this.selectControl({\r\n          userFormId: this.userFormId,\r\n          select: {\r\n            container: container,\r\n            selected: [container[0]]\r\n          }\r\n        })\r\n      }\r\n    }\r\n  }\r\n\r\n  exchangeSelect () {\r\n    const sel = [...this.selectedControls[this.userFormId].selected]\r\n    const controlIndex = this.selectedControls[this.userFormId].selected.findIndex((val) => val === this.controlId)\r\n    sel.splice(controlIndex, 1)\r\n    sel.unshift(this.controlId)\r\n    this.selectControl({\r\n      userFormId: this.userFormId,\r\n      select: { container: this.getContainerList(sel[0]), selected: [...sel] }\r\n    })\r\n  }\r\n  groupExchange (groupName: string) {\r\n    const sel = [...this.selectedControls[this.userFormId].selected]\r\n    const controlIndex = this.selectedControls[this.userFormId].selected.findIndex((val) => val === groupName)\r\n    sel.splice(controlIndex, 1)\r\n    sel.unshift(groupName)\r\n    this.selectControl({\r\n      userFormId: this.userFormId,\r\n      select: { container: this.getContainerList(sel[0]), selected: [...sel] }\r\n    })\r\n  }\r\n  get getModeStyle () {\r\n    return this.mainSelected ? 'controlSelectStyle' : 'controlStyle'\r\n  }\r\n  @Watch('toolBoxSelect', { deep: true })\r\n  updatectrlEditMode () {\r\n    const selected = this.selectedControls[this.userFormId].selected\r\n    let container = this.selectedControls[this.userFormId].container[0]\r\n    if (selected.length === 1 && !selected[0].startsWith('group')) {\r\n      const type = this.userformData[this.userFormId][selected[0]].type\r\n      if (type === 'Frame' || type === 'Page' || type === 'MultiPage') {\r\n        container = selected[0]\r\n      }\r\n    }\r\n    const type = this.userformData[this.userFormId][container].type\r\n    if (type !== 'Frame' && type !== 'Page' && type !== 'MultiPage') {\r\n      this.isEditMode = false\r\n    }\r\n  }\r\n\r\n  @Watch('selectedControls', { deep: true })\r\n  updateSelectedControls () {\r\n    const type = this.userformData[this.userFormId][this.selectedContainer[0]].type\r\n    const controlType = this.userformData[this.userFormId][this.controlId].type\r\n    if (type === 'Frame' || type === 'Page' || type === 'MultiPage') {\r\n      if (controlType === 'Frame' || controlType === 'MultiPage') {\r\n        this.isEditMode = true\r\n      } else {\r\n        if (this.isMoving === false) {\r\n          this.isEditMode = false\r\n        } else {\r\n          this.isMoving = false\r\n        }\r\n      }\r\n    } else {\r\n      if (this.isMoving === false) {\r\n        this.isEditMode = false\r\n      } else {\r\n        this.isMoving = false\r\n      }\r\n    }\r\n  }\r\n\r\n  get getUserFormId () {\r\n    if (\r\n      this.propControlData.type === 'Frame' ||\r\n      this.propControlData.type === 'MultiPage' ||\r\n      this.propControlData.type === 'TabStrip'\r\n    ) {\r\n      return this.userFormId\r\n    } else {\r\n      return null\r\n    }\r\n  }\r\n  created () {\r\n    EventBus.$on('actMultipleCtrl', (val: boolean) => {\r\n      this.selMultipleCtrl = val\r\n      this.keyType = 'shiftKey'\r\n    })\r\n    EventBus.$on('selectMultipleCtrl', (val: boolean) => {\r\n      this.selMultipleCtrl = val\r\n      this.keyType = 'ctrlKey'\r\n    })\r\n  }\r\n  displayContextMenu (event: MouseEvent) {\r\n    EventBus.$emit('contextMenuDisplay', event, this.containerId, this.controlId, 'control', this.isEditMode)\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.controlSelectStyle {\r\n  box-sizing: border-box;\r\n  position: absolute;\r\n  --border-width: 5;\r\n  --stripe-distance: 2px;\r\n  border: calc(var(--border-width) * 1px) solid transparent;\r\n  border-image: repeating-linear-gradient(\r\n      -110deg,\r\n      black,\r\n      transparent 1px,\r\n      transparent var(--stripe-distance),\r\n      black calc(var(--stripe-distance) + 0.2px)\r\n    )\r\n    var(--border-width);\r\n}\r\n.controlEditStyle {\r\n  box-sizing: border-box;\r\n  position: absolute;\r\n  --border-width: 5;\r\n  --stripe-distance: 2px;\r\n  border: calc(var(--border-width) * 1px) solid transparent;\r\n  border-image: repeating-linear-gradient(\r\n      -45deg,\r\n      black,\r\n      transparent 2px,\r\n      transparent var(--stripe-distance),\r\n      black calc(var(--stripe-distance) + 0.2px)\r\n    )\r\n    var(--border-width);\r\n}\r\n.controlStyle {\r\n  box-sizing: border-box;\r\n  position: absolute;\r\n  cursor: default !important;\r\n}\r\n:focus {\r\n  outline: none;\r\n}\r\n</style>\r\n"]}]}