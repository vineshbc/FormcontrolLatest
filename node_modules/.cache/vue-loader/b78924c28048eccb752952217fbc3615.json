{"remainingRequest":"/home/mobiotics/Projects/hancom/FormcontrolLatest/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/mobiotics/Projects/hancom/FormcontrolLatest/src/FormDesigner/components/organisms/FDContainer/index.vue?vue&type=script&lang=ts&","dependencies":[{"path":"/home/mobiotics/Projects/hancom/FormcontrolLatest/src/FormDesigner/components/organisms/FDContainer/index.vue","mtime":1611419998000},{"path":"/home/mobiotics/Projects/hancom/FormcontrolLatest/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/mobiotics/Projects/hancom/FormcontrolLatest/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/mobiotics/Projects/hancom/FormcontrolLatest/node_modules/ts-loader/index.js","mtime":499162500000},{"path":"/home/mobiotics/Projects/hancom/FormcontrolLatest/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/mobiotics/Projects/hancom/FormcontrolLatest/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoNCmltcG9ydCB7IENvbXBvbmVudCwgRW1pdCwgUHJvcCwgVnVlLCBSZWYsIFdhdGNoIH0gZnJvbSAndnVlLXByb3BlcnR5LWRlY29yYXRvcicNCmltcG9ydCB7IFN0YXRlLCBBY3Rpb24gfSBmcm9tICd2dWV4LWNsYXNzJw0KaW1wb3J0IFJlc2l6ZUNvbnRyb2wgZnJvbSAnQC9Gb3JtRGVzaWduZXIvY29tcG9uZW50cy9vcmdhbmlzbXMvRkRSZXNpemVDb250cm9sL2luZGV4LnZ1ZScNCmltcG9ydCBDb250ZXh0TWVudSBmcm9tICdAL0Zvcm1EZXNpZ25lci9jb21wb25lbnRzL2F0b21zL0ZEQ29udGV4dE1lbnUvaW5kZXgudnVlJw0KaW1wb3J0IHsgY29udHJvbENvbnRleHRNZW51IH0gZnJvbSAnQC9Gb3JtRGVzaWduZXIvbW9kZWxzL2NvbnRyb2xDb250ZXh0TWVudURhdGEnDQppbXBvcnQgeyB1c2VyZm9ybUNvbnRleHRNZW51IH0gZnJvbSAnLi4vLi4vLi4vbW9kZWxzL3VzZXJmb3JtQ29udGV4dE1lbnVEYXRhJw0KaW1wb3J0IEdyb3VwQ29udHJvbCBmcm9tICdAL0Zvcm1EZXNpZ25lci9jb21wb25lbnRzL29yZ2FuaXNtcy9GREdyb3VwQ29udHJvbC9pbmRleC52dWUnDQppbXBvcnQgew0KICBJc2V0Q2hpbGRDb250cm9scywNCiAgSWFkZENoaWxkQ29udHJvbHMsDQogIElzZWxlY3RDb250cm9sLA0KICBJdXBkYXRlQ29udHJvbCwNCiAgSXVwZGF0ZUdyb3VwLA0KICBJdXBkYXRlQ29udHJvbEV4dHJhRGF0YQ0KfSBmcm9tICdAL3N0b3JlTW9kdWxlcy9mZC9hY3Rpb25zJw0KaW1wb3J0IHsgRXZlbnRCdXMgfSBmcm9tICcuLi8uLi8uLi9ldmVudC1idXMnDQppbXBvcnQgRkRDb21tb25NZXRob2QgZnJvbSAnQC9hcGkvYWJzdHJhY3QvRm9ybURlc2lnbmVyL0ZEQ29tbW9uTWV0aG9kJw0KQENvbXBvbmVudCh7DQogIG5hbWU6ICdDb250YWluZXInLA0KICBjb21wb25lbnRzOiB7DQogICAgQ29udGV4dE1lbnUsDQogICAgR3JvdXBDb250cm9sLA0KICAgIFJlc2l6ZUNvbnRyb2wNCiAgfQ0KfSkNCmV4cG9ydCBkZWZhdWx0IGNsYXNzIENvbnRhaW5lciBleHRlbmRzIEZEQ29tbW9uTWV0aG9kIHsNCiAgJGVsITogSFRNTERpdkVsZW1lbnQ7DQogIGN1cnJlbnRTZWxlY3RlZEdyb3VwOiBzdHJpbmcgPSAnJzsNCg0KICBAUHJvcCh7IHJlcXVpcmVkOiB0cnVlLCB0eXBlOiBTdHJpbmcgfSkgcHVibGljIGNvbnRyb2xJZCE6IHN0cmluZzsNCiAgQFByb3AoeyByZXF1aXJlZDogdHJ1ZSwgdHlwZTogU3RyaW5nIH0pIHVzZXJGb3JtSWQhOiBzdHJpbmc7DQogIEBQcm9wKHsgcmVxdWlyZWQ6IHRydWUsIHR5cGU6IFN0cmluZyB9KSBjb250YWluZXJJZCE6IHN0cmluZzsNCiAgQFByb3AoKSBtb3VzZUN1cnNvckRhdGE6IHN0cmluZzsNCiAgQFByb3AoKSBnZXRTYW1wbGVEb3RQYXR0ZXJuOiB7IGJhY2tncm91bmRJbWFnZTogc3RyaW5nOyBiYWNrZ3JvdW5kU2l6ZTogc3RyaW5nOyBiYWNrZ3JvdW5kUG9zaXRpb246IHN0cmluZyB9DQoNCiAgQFN0YXRlKChzdGF0ZSkgPT4gc3RhdGUuZmQuc2VsZWN0ZWRDb250cm9scykNCiAgc2VsZWN0ZWRDb250cm9scyE6IGZkU3RhdGVbJ3NlbGVjdGVkQ29udHJvbHMnXTsNCiAgQFN0YXRlKChzdGF0ZSkgPT4gc3RhdGUuZmQudXNlcmZvcm1EYXRhKSB1c2VyZm9ybURhdGEhOiB1c2VyZm9ybURhdGE7DQogIEBTdGF0ZSgoc3RhdGUpID0+IHN0YXRlLmZkLmdyb3VwZWRDb250cm9scykNCiAgZ3JvdXBlZENvbnRyb2xzITogZmRTdGF0ZVsnZ3JvdXBlZENvbnRyb2xzJ107DQoNCiAgQEFjdGlvbignZmQvdXBkYXRlR3JvdXAnKSB1cGRhdGVHcm91cCE6IChwYXlsb2FkOiBJdXBkYXRlR3JvdXApID0+IHZvaWQ7DQogIEBBY3Rpb24oJ2ZkL3VwZGF0ZUNvbnRyb2xFeHRyYURhdGEnKSB1cGRhdGVDb250cm9sRXh0cmFEYXRhITogKHBheWxvYWQ6IEl1cGRhdGVDb250cm9sRXh0cmFEYXRhKSA9PiB2b2lkOw0KICBAQWN0aW9uKCdmZC91cGRhdGVDb250cm9sJykgdXBkYXRlQ29udHJvbCE6IChwYXlsb2FkOiBJdXBkYXRlQ29udHJvbCkgPT4gdm9pZDsNCiAgQEFjdGlvbignZmQvc2V0Q2hpbGRDb250cm9scycpIHNldENoaWxkQ29udHJvbHMhOiAoDQogICAgcGF5bG9hZDogSXNldENoaWxkQ29udHJvbHMNCiAgKSA9PiB2b2lkOw0KICBAQWN0aW9uKCdmZC9hZGRDaGlsZENvbnRyb2xzJykgYWRkQ2hpbGRDb250cm9scyE6ICgNCiAgICBwYXlsb2FkOiBJYWRkQ2hpbGRDb250cm9scw0KICApID0+IHZvaWQ7DQogIEBBY3Rpb24oJ2ZkL3NlbGVjdENvbnRyb2wnKSBzZWxlY3RDb250cm9sITogKHBheWxvYWQ6IElzZWxlY3RDb250cm9sKSA9PiB2b2lkOw0KDQogIEBQcm9wKCkgaXNFZGl0TW9kZTogYm9vbGVhbjsNCiAgQFByb3AoKSB3aWR0aDogbnVtYmVyDQogIEBQcm9wKCkgaGVpZ2h0OiBudW1iZXINCg0KICBAUmVmKCdncm91cFJlZicpIHJlYWRvbmx5IGdyb3VwUmVmITogR3JvdXBDb250cm9sOw0KICBAUmVmKCdyZWZDb250ZXh0TWVudScpIHJlYWRvbmx5IHJlZkNvbnRleHRNZW51ITogQ29udGV4dE1lbnU7DQogIEBSZWYoJ2RyYWdTZWxlY3RvcicpIHJlYWRvbmx5IGRyYWdTZWxlY3RvcjogZHJhZ3NlbGVjdG9yOw0KICBAUmVmKCdjb250ZXh0bWVudScpIHJlYWRvbmx5IGNvbnRleHRtZW51OiBIVE1MRGl2RWxlbWVudDsNCg0KICBjb250cm9sQ29udGV4dE1lbnU6IEFycmF5PEljb250ZXh0TWVudT4gPSBjb250cm9sQ29udGV4dE1lbnU7DQogIHVzZXJmb3JtQ29udGV4dE1lbnU6IEFycmF5PEljb250ZXh0TWVudT4gPSB1c2VyZm9ybUNvbnRleHRNZW51Ow0KICBoYW5kbGVyOiBzdHJpbmcgPSAnJzsNCiAgZ3JvdXBoYW5kbGVyOiBzdHJpbmcgPSAnJzsNCiAgbWFpblNlbGVjdERhdGE6IGNvbnRyb2xEYXRhDQogIGNvbnRhaW5lclBvc2l0aW9uOiBJTW91c2VQb3NpdGlvbiA9IHsgY2xpZW50WDogMCwgY2xpZW50WTogMCwgbW92ZW1lbnRYOiAwLCBtb3ZlbWVudFk6IDAgfQ0KICBzZWxlY3RlZEdyb3VwOiBzdHJpbmdbXSA9IFtdDQogIGdyb3VwU3R5bGVBcnJheTogQXJyYXk8SUdyb3VwU3R5bGU+ID0gW10NCg0KICAvKioNCiAgICogQGRlc2NyaXB0aW9uIFRvIGdldCB0aGUgc2VsZWN0ZWQgY29udGFpbmVyICBmcm9tIGNvbnRyb2xzIGFyZSBkcmFnZ2VkDQogICAqIEBmdW5jdGlvbiBzZWxlY3RlZENvbnRhaW5lcg0KICAgKi8NCiAgZ2V0IHNlbGVjdGVkQ29udGFpbmVyICgpIHsNCiAgICByZXR1cm4gWy4uLnRoaXMuc2VsZWN0ZWRDb250cm9sc1t0aGlzLnVzZXJGb3JtSWRdLmNvbnRhaW5lcl1bMF0NCiAgfQ0KDQogIC8qKg0KICAgKiBAZGVzY3JpcHRpb24gVG8gZ2V0IHRoZSBzZWxlY3RlZCBjb250cm9scyB0byBiZSBkcm9wcGVkDQogICAqIEBmdW5jdGlvbiBzZWxlY3RlZFNlbGVjdA0KICAgKi8NCiAgZ2V0IHNlbGVjdGVkU2VsZWN0ICgpIHsNCiAgICBpZiAodGhpcy5ncm91cGhhbmRsZXIgPT09ICdncm91cGRyYWcnKSB7DQogICAgICBjb25zdCBzZWxlY3RlZFNlbGVjdCA9IFtdDQogICAgICBmb3IgKGxldCBrID0gMDsgayA8IHRoaXMuc2VsZWN0ZWRHcm91cC5sZW5ndGg7IGsrKykgew0KICAgICAgICBpZiAodGhpcy5zZWxlY3RlZEdyb3VwW2tdLnN0YXJ0c1dpdGgoJ2dyb3VwJykpIHsNCiAgICAgICAgICBmb3IgKGNvbnN0IGkgaW4gdGhpcy51c2VyZm9ybURhdGFbdGhpcy51c2VyRm9ybUlkXSkgew0KICAgICAgICAgICAgaWYgKCFpLnN0YXJ0c1dpdGgoJ0lEX1VTRVJGT1JNJykpIHsNCiAgICAgICAgICAgICAgY29uc3QgdXNlcmRhdGEgPSB0aGlzLnVzZXJmb3JtRGF0YVt0aGlzLnVzZXJGb3JtSWRdDQogICAgICAgICAgICAgIGlmICh1c2VyZGF0YVtpXS5wcm9wZXJ0aWVzLkdyb3VwSUQgPT09IHRoaXMuc2VsZWN0ZWRHcm91cFtrXSkgew0KICAgICAgICAgICAgICAgIHNlbGVjdGVkU2VsZWN0LnB1c2goaSkNCiAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfQ0KICAgICAgICAgIH0NCiAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICBzZWxlY3RlZFNlbGVjdC5wdXNoKHRoaXMuc2VsZWN0ZWRHcm91cFtrXSkNCiAgICAgICAgfQ0KICAgICAgfQ0KICAgICAgcmV0dXJuIHNlbGVjdGVkU2VsZWN0DQogICAgfSBlbHNlIHsNCiAgICAgIHJldHVybiB0aGlzLnNlbGVjdGVkQ29udHJvbHNbdGhpcy51c2VyRm9ybUlkXS5zZWxlY3RlZA0KICAgIH0NCiAgfQ0KDQogIC8qKg0KICAgKiBAZGVzY3JpcHRpb24gVG8gZ2V0IHRoZSBjb250cm9scyB0byBiZSByZW1vdmVkIGZyb20gdGhlICBzZWxlY3RlZCBjb250YWluZXINCiAgICogQGZ1bmN0aW9uIGZyb21Db250YWluZXJDb250cm9scw0KICAgKi8NCiAgZ2V0IGZyb21Db250YWluZXJDb250cm9scyAoKSB7DQogICAgY29uc3QgZnJvbUNvbnRhaW5lckNvbnRyb2xzID0gWy4uLnRoaXMudXNlcmZvcm1EYXRhW3RoaXMudXNlckZvcm1JZF1bdGhpcy5zZWxlY3RlZENvbnRhaW5lcl0uY29udHJvbHNdDQogICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLnNlbGVjdGVkU2VsZWN0Lmxlbmd0aDsgaSsrKSB7DQogICAgICBsZXQgdHJhZ2V0SWQ6IHVuZGVmaW5lZCB8IHN0cmluZyA9IHRoaXMuc2VsZWN0ZWRTZWxlY3RbaV0NCiAgICAgIGxldCB0YXJnZXRJbmRleCA9IGZyb21Db250YWluZXJDb250cm9scy5maW5kSW5kZXgoKGlkKSA9PiBpZCA9PT0gdHJhZ2V0SWQpDQogICAgICBpZiAodGFyZ2V0SW5kZXggIT09IC0xKSB7DQogICAgICAgIGZyb21Db250YWluZXJDb250cm9scy5zcGxpY2UodGFyZ2V0SW5kZXgsIDEpDQogICAgICB9DQogICAgfQ0KICAgIHJldHVybiBmcm9tQ29udGFpbmVyQ29udHJvbHMNCiAgfQ0KDQogIC8qKg0KICAgKiBAZGVzY3JpcHRpb24gVG8gcmVtb3ZlIGNoaWxDb250cm9scyBvZiBzZWxlY3RlZCBDb250YWluZXINCiAgICogQGZ1bmN0aW9uIHJlbW92ZUNoaWxkQ29udHJvbA0KICAgKiBAcGFyYW0gc2VsZWN0ZWRTZWxlY3QgIC0gY29udHJvbCBhcnJheSB0byBiZSBkZWxldGVkDQogICAqLw0KICByZW1vdmVDaGlsZENvbnRyb2wgKGlkOiBzdHJpbmcsIGNvbnRyb2xzOiBzdHJpbmdbXSkgew0KICAgIGNvbnN0IHVzZXJEYXRhID0gdGhpcy51c2VyZm9ybURhdGFbdGhpcy51c2VyRm9ybUlkXQ0KICAgIGNvbnN0IGJlZm9yZUNvbnRyb2xzID0gdXNlckRhdGFbaWRdLmNvbnRyb2xzDQogICAgY29uc3QgZGVsZXRlQ29udHJvbHMgPSBiZWZvcmVDb250cm9scy5maWx0ZXIoeCA9PiAhY29udHJvbHMuaW5jbHVkZXMoeCkpDQogICAgZm9yIChjb25zdCBrZXkgb2YgZGVsZXRlQ29udHJvbHMpIHsNCiAgICAgIHRoaXMuZGVsZXRlWkluZGV4KGtleSkNCiAgICAgIHRoaXMuZGVsZXRlVGFiSW5kZXgoa2V5KQ0KICAgIH0NCg0KICAgIHRoaXMuc2V0Q2hpbGRDb250cm9scyh7DQogICAgICB1c2VyRm9ybUlkOiB0aGlzLnVzZXJGb3JtSWQsDQogICAgICBjb250YWluZXJJZDogaWQsDQogICAgICB0YXJnZXRDb250cm9sczogY29udHJvbHMNCiAgICB9KQ0KICB9DQoNCiAgLyoqDQogICAqIEBkZXNjcmlwdGlvbiBUbyBhZGQgY2hpbENvbnRyb2xzIG9mIHNlbGVjdGVkIENvbnRhaW5lcg0KICAgKiBAZnVuY3Rpb24gYWRkQ2hpbGRDb250cm9sDQogICAqIEBwYXJhbSBzZWxlY3RlZFNlbGVjdCAgLSBjb250cm9sIGFycmF5IHRvIGJlIGFkZGVkDQogICAqLw0KICBhZGRDaGlsZENvbnRyb2wgKHNlbGVjdGVkU2VsZWN0OiBzdHJpbmdbXSkgew0KICAgIGNvbnN0IHVzZXJEYXRhID0gdGhpcy51c2VyZm9ybURhdGFbdGhpcy51c2VyRm9ybUlkXQ0KICAgIGZvciAoY29uc3QgY29udHJvbCBvZiBzZWxlY3RlZFNlbGVjdCkgew0KICAgICAgaWYgKCF1c2VyRGF0YVt0aGlzLmNvbnRhaW5lcklkXS5jb250cm9scy5pbmNsdWRlcyhjb250cm9sKSkgew0KICAgICAgICB0aGlzLmFkZENoaWxkQ29udHJvbHMoew0KICAgICAgICAgIHVzZXJGb3JtSWQ6IHRoaXMudXNlckZvcm1JZCwNCiAgICAgICAgICBjb250YWluZXJJZDogdGhpcy5jb250YWluZXJJZCwNCiAgICAgICAgICB0YXJnZXRDb250cm9sczogc2VsZWN0ZWRTZWxlY3QNCiAgICAgICAgfSkNCiAgICAgIH0NCiAgICB9DQoNCiAgICBmb3IgKGNvbnN0IGlkIG9mIHNlbGVjdGVkU2VsZWN0KSB7DQogICAgICB0aGlzLnVwZGF0ZVRhYkluZGV4VmFsdWUoaWQpDQogICAgICB0aGlzLnVwZGF0ZVpJbmRleFZhbHVlKGlkKQ0KICAgIH0NCiAgfQ0KDQogIC8qKg0KICAgKiBAZGVzY3JpcHRpb24gVG8gdXBkYXRlIFByb3BlcnRpZXMgb2YgQ29udHJvbA0KICAgKiBAZnVuY3Rpb24gdXBkYXRlQ29udHJvbFByb3ANCiAgICogQHBhcmFtIGlkICAtIHNlbGN0ZWQgY29udHJvbElkDQogICAqIEBwYXJhbSBwcm9wTmFtZSAgLSAgc2VsZWN0ZWQgY29udHJvbCBwcm9wZXJ0eSBOYW1lDQogICAqIEBwYXJhbSBwcm9wTmFtZSAgLSAgc2VsZWN0ZWQgY29udHJvbCBwcm9wZXJ0eSBWYWx1ZQ0KICAgKi8NCiAgdXBkYXRlQ29udHJvbFByb3AgKGlkOiBzdHJpbmcsIHByb3BOYW1lOiBrZXlvZiBjb250cm9sUHJvcGVydGllcywgcHJvcFZhbHVlOiBudW1iZXJ8IHN0cmluZykgew0KICAgIHRoaXMudXBkYXRlQ29udHJvbCh7DQogICAgICB1c2VyRm9ybUlkOiB0aGlzLnVzZXJGb3JtSWQsDQogICAgICBjb250cm9sSWQ6IGlkLA0KICAgICAgcHJvcGVydHlOYW1lOiBwcm9wTmFtZSwNCiAgICAgIHZhbHVlOiBwcm9wVmFsdWUNCiAgICB9KQ0KICB9DQoNCiAgLyoqDQogICAqIEBkZXNjcmlwdGlvbiBUbyB1cGRhdGUgdGhlIHNlbGVjdGVkQ29udHJvbHMgaW4gbWFpbiBkYXRhDQogICAqIEBmdW5jdGlvbiB1cGRhdGVkU2VsZWN0DQogICAqIEBwYXJhbSB1cGRhdGVkU2VsZWN0ICAtIHNlbGN0ZWQgQ29udGFpbmVySWQNCiAgICogQHBhcmFtIHNlbEFycnkgIC0gc2VsY3RlZCBjb250cm9sTGlzdA0KICAgKi8NCiAgdXBkYXRlZFNlbGVjdCAoY29uYXRpbmVyOiBzdHJpbmdbXSwgc2VsQXJyeTogc3RyaW5nW10pIHsNCiAgICB0aGlzLnNlbGVjdENvbnRyb2woew0KICAgICAgdXNlckZvcm1JZDogdGhpcy51c2VyRm9ybUlkLA0KICAgICAgc2VsZWN0OiB7DQogICAgICAgIGNvbnRhaW5lcjogY29uYXRpbmVyLA0KICAgICAgICBzZWxlY3RlZDogc2VsQXJyeQ0KICAgICAgfQ0KICAgIH0pDQogIH0NCg0KICAvKioNCiAgICogQGRlc2NyaXB0aW9uIElmIGNvbnRyb2wgaW5zaWRlIHRoZSBncm91cCBpcyBzZWxlY3RlZCBkcm9wcGVkIGludG8gb3RoZXIgY29udGFpbmVyDQogICAqIEBmdW5jdGlvbiB1cGRhdGVHcm91cENvbnRyb2wNCiAgICogQHBhcmFtIG1haW5TZWxlY3RHcm91cCAgLSBzZWxlY3RlZCBncm91cA0KICAgKi8NCiAgdXBkYXRlR3JvdXBDb250cm9sIChtYWluU2VsZWN0R3JvdXA6IHN0cmluZykgew0KICAgIGNvbnN0IHByZXNlbmV0Q29udHJvbDogc3RyaW5nW10gPSBbXQ0KICAgIGlmIChtYWluU2VsZWN0R3JvdXAgJiYgbWFpblNlbGVjdEdyb3VwICE9PSAnJykgew0KICAgICAgZm9yIChsZXQgY29udHJvbCBpbiB0aGlzLnVzZXJmb3JtRGF0YVt0aGlzLnVzZXJGb3JtSWRdKSB7DQogICAgICAgIGNvbnN0IGNvbnRyb2xHcm91cElkID0gdGhpcy51c2VyZm9ybURhdGFbdGhpcy51c2VyRm9ybUlkXVtjb250cm9sXS5wcm9wZXJ0aWVzLkdyb3VwSUQhDQogICAgICAgIGlmIChjb250cm9sR3JvdXBJZCAmJiBjb250cm9sR3JvdXBJZCA9PT0gbWFpblNlbGVjdEdyb3VwKSB7DQogICAgICAgICAgcHJlc2VuZXRDb250cm9sLnB1c2goY29udHJvbCkNCiAgICAgICAgfQ0KICAgICAgfQ0KICAgIH0NCiAgICBpZiAocHJlc2VuZXRDb250cm9sLmxlbmd0aCA9PT0gMSkgew0KICAgICAgY29uc3QgZ3JvdXBBcnJheTogc3RyaW5nW10gPSBbLi4udGhpcy5ncm91cGVkQ29udHJvbHNbdGhpcy51c2VyRm9ybUlkXSEuZ3JvdXBBcnJheSFdDQogICAgICBjb25zdCBpbmRleCA9IGdyb3VwQXJyYXkuZmluZEluZGV4KCh2YWwpID0+IHZhbCA9PT0gbWFpblNlbGVjdEdyb3VwKQ0KICAgICAgZ3JvdXBBcnJheS5zcGxpY2UoaW5kZXgsIDEpDQogICAgICB0aGlzLnVwZGF0ZUdyb3VwKHsNCiAgICAgICAgdXNlckZvcm1JZDogdGhpcy51c2VyRm9ybUlkLA0KICAgICAgICBncm91cEFycmF5OiBncm91cEFycmF5DQogICAgICB9KQ0KICAgICAgdGhpcy51cGRhdGVDb250cm9sUHJvcChwcmVzZW5ldENvbnRyb2xbMF0sICdHcm91cElEJywgJycpDQogICAgfQ0KICB9DQogIC8qKg0KICAgKiBAZGVzY3JpcHRpb24gdG8gZHJhZyBhbmQgZHJvcCB0aGUgY29udHJvbCBhbmQgZ3JvdXAgaW50byByZXNwZWN0aXZlIGNvbnRhaW5lcg0KICAgKiBAZnVuY3Rpb24gb25Nb3VzZVVwDQogICAqIEBwYXJhbSBldmVudCAgLSBpdCBpcyBvZiB0eXBlIE1vdXNlRXZlbnQNCiAgICogQGV2ZW50IG1vdXNldXANCiAgICovDQogIG9uTW91c2VVcCAoZXZlbnQ6IE1vdXNlRXZlbnQpIHsNCiAgICBpZiAoZG9jdW1lbnQub25tb3VzZW1vdmUgJiYgZG9jdW1lbnQub25tb3VzZXVwICYmICh0aGlzLmhhbmRsZXIgPT09ICdkcmFnJyB8fCB0aGlzLmhhbmRsZXIgPT09ICdmcmFtZURyYWcnIHx8IHRoaXMuZ3JvdXBoYW5kbGVyID09PSAnZ3JvdXBkcmFnJykpIHsNCiAgICAgIGNvbnN0IHVzZXJEYXRhID0gdGhpcy51c2VyZm9ybURhdGFbdGhpcy51c2VyRm9ybUlkXQ0KICAgICAgY29uc3QgY29udGFpbmVyVHlwZSA9IHVzZXJEYXRhW3RoaXMuY29udGFpbmVySWRdLnR5cGUgPT09ICdQYWdlJyAmJiB1c2VyRGF0YVt0aGlzLmdldENvbnRhaW5lckxpc3QodGhpcy5jb250YWluZXJJZClbMF1dLnByb3BlcnRpZXMuVmFsdWUgPT09IC0xDQogICAgICBpZiAoIWNvbnRhaW5lclR5cGUpIHsNCiAgICAgICAgbGV0IG1vdmVWYWx1ZVg6IG51bWJlciA9IDANCiAgICAgICAgbGV0IG1vdmVWYWx1ZVk6IG51bWJlciA9IDANCiAgICAgICAgbGV0IG1haW5TZWxlY3Q6IHN0cmluZyA9ICcnDQogICAgICAgIGxldCBwYXJlbnRDb25hdGluZXIgPSAnJw0KICAgICAgICBsZXQgY291bnQgPSAwDQogICAgICAgIGxldCB0ZW1wRXZlbnQgPSB7fQ0KICAgICAgICB0aGlzLnNlbGVjdGVkR3JvdXAgPSB0aGlzLnNlbGVjdGVkQ29udHJvbHNbdGhpcy51c2VyRm9ybUlkXS5zZWxlY3RlZA0KICAgICAgICBpZiAodGhpcy5ncm91cGhhbmRsZXIgPT09ICdncm91cGRyYWcnKSB7DQogICAgICAgICAgRXZlbnRCdXMuJGVtaXQoDQogICAgICAgICAgICAnZ2V0R3JvdXBNb3ZlVmFsdWUnLA0KICAgICAgICAgICAgKG9mZnNldFg6IG51bWJlciwgb2Zmc2V0WTogbnVtYmVyLCBpZDogc3RyaW5nLCB0ZW1wRXZlbnRPYmo6IE1vdXNlRXZlbnQpID0+IHsNCiAgICAgICAgICAgICAgY29uc29sZS5sb2codGVtcEV2ZW50T2JqKQ0KICAgICAgICAgICAgICBtb3ZlVmFsdWVYID0gb2Zmc2V0WA0KICAgICAgICAgICAgICBtb3ZlVmFsdWVZID0gb2Zmc2V0WQ0KICAgICAgICAgICAgICB0ZW1wRXZlbnQgPSBPYmplY3Qua2V5cyh0ZW1wRXZlbnRPYmopLmxlbmd0aCA9PT0gMCA/IHRlbXBFdmVudCA6IHRlbXBFdmVudE9iag0KICAgICAgICAgICAgfQ0KICAgICAgICAgICkNCiAgICAgICAgICBtYWluU2VsZWN0ID0gdGhpcy5nZXRTZWxlY3RlZENvbnRyb2xzRGF0YXMhWzBdDQogICAgICAgIH0gZWxzZSBpZiAodGhpcy5oYW5kbGVyID09PSAnZHJhZycpIHsNCiAgICAgICAgICBFdmVudEJ1cy4kZW1pdCgNCiAgICAgICAgICAgICdnZXRNb3ZlVmFsdWUnLA0KICAgICAgICAgICAgKG9mZnNldFg6IG51bWJlciwgb2Zmc2V0WTogbnVtYmVyLCBpZDogc3RyaW5nKSA9PiB7DQogICAgICAgICAgICAgIG1vdmVWYWx1ZVggPSBvZmZzZXRYDQogICAgICAgICAgICAgIG1vdmVWYWx1ZVkgPSBvZmZzZXRZDQogICAgICAgICAgICAgIG1haW5TZWxlY3QgPSBpZA0KICAgICAgICAgICAgfQ0KICAgICAgICAgICkNCiAgICAgICAgfSBlbHNlIGlmICh0aGlzLmhhbmRsZXIgPT09ICdmcmFtZURyYWcnKSB7DQogICAgICAgICAgRXZlbnRCdXMuJGVtaXQoDQogICAgICAgICAgICAnZ2V0TW92ZVZhbHVlJywNCiAgICAgICAgICAgIChvZmZzZXRYOiBudW1iZXIsIG9mZnNldFk6IG51bWJlciwgaWQ6IHN0cmluZywgcGFyZW50Q29udHJvbDogc3RyaW5nKSA9PiB7DQogICAgICAgICAgICAgIG1vdmVWYWx1ZVggPSBvZmZzZXRYDQogICAgICAgICAgICAgIG1vdmVWYWx1ZVkgPSBvZmZzZXRZDQogICAgICAgICAgICAgIG1haW5TZWxlY3QgPSBpZA0KICAgICAgICAgICAgICBwYXJlbnRDb25hdGluZXIgPSBwYXJlbnRDb250cm9sDQogICAgICAgICAgICB9DQogICAgICAgICAgKQ0KICAgICAgICB9DQogICAgICAgIGlmIChtYWluU2VsZWN0ICYmICF0aGlzLmdldFNlbGVjdGVkQ29udHJvbHNEYXRhcyEuaW5jbHVkZXModGhpcy5jb250YWluZXJJZCkpIHsNCiAgICAgICAgICBjb3VudCA9IGNvdW50ICsgMQ0KICAgICAgICAgIGxldCBmcmFtZUNvbmRpdGlvbjogYm9vbGVhbiA9IGZhbHNlDQogICAgICAgICAgaWYgKHRoaXMuaGFuZGxlciA9PT0gJ2ZyYW1lRHJhZycpIHsNCiAgICAgICAgICAgIGNvbnN0IGlzQ2hpbGQgPSB0aGlzLmdldENoaWxkQ29udHJvbChtYWluU2VsZWN0KS5pbmNsdWRlcyh0aGlzLmNvbnRhaW5lcklkKSB8fCB0aGlzLmNvbnRhaW5lcklkID09PSBtYWluU2VsZWN0DQogICAgICAgICAgICBmcmFtZUNvbmRpdGlvbiA9IChpc0NoaWxkID09PSBmYWxzZSAmJiBwYXJlbnRDb25hdGluZXIgPT09IHRoaXMuY29udGFpbmVySWQpIHx8DQogICAgICAgICAgKGlzQ2hpbGQgPT09IGZhbHNlICYmIHRoaXMuc2VsZWN0ZWRDb250cm9sc1t0aGlzLnVzZXJGb3JtSWRdLnNlbGVjdGVkLmluY2x1ZGVzKG1haW5TZWxlY3QpKSB8fA0KICAgICAgICAgIChpc0NoaWxkID09PSBmYWxzZSAmJiBjb3VudCA9PT0gMSkNCiAgICAgICAgICB9DQogICAgICAgICAgaWYgKCh0aGlzLmhhbmRsZXIgPT09ICdmcmFtZURyYWcnICYmIGZyYW1lQ29uZGl0aW9uKSB8fCB0aGlzLmhhbmRsZXIgPT09ICdkcmFnJyB8fCB0aGlzLmdyb3VwaGFuZGxlciA9PT0gJ2dyb3VwZHJhZycpIHsNCiAgICAgICAgICAgIGNvbnN0IGN1cnJlbnRDb250cm9sc0RhdGEgPSB0aGlzLnVzZXJmb3JtRGF0YVt0aGlzLnVzZXJGb3JtSWRdDQogICAgICAgICAgICBjb25zdCBtYWluU2VsZWN0RGF0YSA9IGN1cnJlbnRDb250cm9sc0RhdGFbbWFpblNlbGVjdF0NCiAgICAgICAgICAgIGNvbnN0IG1haW5TZWxlY3RYID0gbWFpblNlbGVjdERhdGEucHJvcGVydGllcy5MZWZ0DQogICAgICAgICAgICBjb25zdCBtYWluU2VsZWN0WSA9IG1haW5TZWxlY3REYXRhLnByb3BlcnRpZXMuVG9wDQogICAgICAgICAgICBjb25zdCBjb250YWluZXJYID0gZXZlbnQuY2xpZW50WCAtIHRoaXMuJGVsLmdldENsaWVudFJlY3RzKClbMF0ueA0KICAgICAgICAgICAgY29uc3QgY29udGFpbmVyWSA9IGV2ZW50LmNsaWVudFkgLSB0aGlzLiRlbC5nZXRDbGllbnRSZWN0cygpWzBdLnkNCiAgICAgICAgICAgIGNvbnN0IG1haW5TZWxlY3RHcm91cDogc3RyaW5nID0gbWFpblNlbGVjdERhdGEucHJvcGVydGllcy5Hcm91cElEIQ0KICAgICAgICAgICAgY29uc3Qgc2VsZWN0ZWRTZWxlY3QgPSB0aGlzLmhhbmRsZXIgPT09ICdmcmFtZURyYWcnID8gKHRoaXMuc2VsZWN0ZWRTZWxlY3QuaW5jbHVkZXMobWFpblNlbGVjdCkgPyB0aGlzLnNlbGVjdGVkU2VsZWN0IDogW21haW5TZWxlY3RdKSA6IHRoaXMuc2VsZWN0ZWRTZWxlY3QNCiAgICAgICAgICAgIGlmICh0eXBlb2YgbWFpblNlbGVjdFggPT09ICdudW1iZXInICYmIHR5cGVvZiBtYWluU2VsZWN0WSA9PT0gJ251bWJlcicpIHsNCiAgICAgICAgICAgICAgaWYgKCh0aGlzLmhhbmRsZXIgPT09ICdmcmFtZURyYWcnIHx8IHRoaXMuaGFuZGxlciA9PT0gJ2RyYWcnKSkgew0KICAgICAgICAgICAgICAgIHNlbGVjdGVkU2VsZWN0LmZvckVhY2goKGlkKSA9PiB7DQogICAgICAgICAgICAgICAgICBjb25zdCB0YXJnZXREYXRhID0gY3VycmVudENvbnRyb2xzRGF0YVtpZF0ucHJvcGVydGllcw0KICAgICAgICAgICAgICAgICAgY29uc3QgdGFyZ2V0TGVmdCA9IHRhcmdldERhdGEuTGVmdA0KICAgICAgICAgICAgICAgICAgY29uc3QgdGFyZ2V0VG9wID0gdGFyZ2V0RGF0YS5Ub3ANCiAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgdGFyZ2V0VG9wID09PSAnbnVtYmVyJyAmJiB0eXBlb2YgdGFyZ2V0TGVmdCA9PT0gJ251bWJlcicpIHsNCiAgICAgICAgICAgICAgICAgICAgdGhpcy51cGRhdGVDb250cm9sUHJvcChpZCwgJ0xlZnQnLCBjb250YWluZXJYICsgdGFyZ2V0TGVmdCAtIG1haW5TZWxlY3RYIC0gbW92ZVZhbHVlWCkNCiAgICAgICAgICAgICAgICAgICAgdGhpcy51cGRhdGVDb250cm9sUHJvcChpZCwgJ1RvcCcsIGNvbnRhaW5lclkgKyB0YXJnZXRUb3AgLSBtYWluU2VsZWN0WSAtIG1vdmVWYWx1ZVkpDQogICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmhhbmRsZXIgPT09ICdkcmFnJykgew0KICAgICAgICAgICAgICAgICAgICAgIGlmIChtYWluU2VsZWN0R3JvdXAgIT09ICcnICYmIHRoaXMuc2VsZWN0ZWRDb250YWluZXIgIT09IHRoaXMuY29udGFpbmVySWQpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlQ29udHJvbFByb3AoaWQsICdHcm91cElEJywgJycpDQogICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZUdyb3VwQ29udHJvbChtYWluU2VsZWN0R3JvdXApDQogICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgfSkNCiAgICAgICAgICAgICAgfSBlbHNlIGlmICh0aGlzLmdyb3VwaGFuZGxlciA9PT0gJ2dyb3VwZHJhZycgJiYgdGhpcy5zZWxlY3RlZENvbnRhaW5lciA9PT0gdGhpcy5jb250YWluZXJJZCkgew0KICAgICAgICAgICAgICAgIEV2ZW50QnVzLiRlbWl0KCdnZXRDbGllbnRWYWx1ZScsICdzYW1lJykNCiAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgaWYgKHRoaXMuaGFuZGxlciA9PT0gJ2ZyYW1lRHJhZycgJiYgdGhpcy51c2VyZm9ybURhdGFbdGhpcy51c2VyRm9ybUlkXVt0aGlzLmNvbnRhaW5lcklkXS5jb250cm9scy5pbmNsdWRlcyhtYWluU2VsZWN0KSkgew0KICAgICAgICAgICAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKQ0KICAgICAgICAgICAgICBkb2N1bWVudC5vbm1vdXNldXAoZXZlbnQpDQogICAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgICBpZiAodGhpcy5zZWxlY3RlZENvbnRhaW5lciAhPT0gdGhpcy5jb250YWluZXJJZCkgew0KICAgICAgICAgICAgICAgIGNvbnN0IG1haW5TZWxDb250YWluZXIgPSB0aGlzLmdldENvbnRhaW5lckxpc3QobWFpblNlbGVjdClbMF0NCiAgICAgICAgICAgICAgICBpZiAodGhpcy5zZWxlY3RlZENvbnRyb2xzW3RoaXMudXNlckZvcm1JZF0uc2VsZWN0ZWQuaW5jbHVkZXMobWFpblNlbGVjdCkgfHwgdGhpcy5ncm91cGhhbmRsZXIgPT09ICdncm91cGRyYWcnKSB7DQogICAgICAgICAgICAgICAgICB0aGlzLnJlbW92ZUNoaWxkQ29udHJvbCh0aGlzLnNlbGVjdGVkQ29udGFpbmVyLCB0aGlzLmZyb21Db250YWluZXJDb250cm9scykNCiAgICAgICAgICAgICAgICAgIHRoaXMuYWRkQ2hpbGRDb250cm9sKHNlbGVjdGVkU2VsZWN0KQ0KICAgICAgICAgICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICAgICAgICBjb25zdCBjb250cm9scyA9IHRoaXMudXNlcmZvcm1EYXRhW3RoaXMudXNlckZvcm1JZF1bbWFpblNlbENvbnRhaW5lcl0uY29udHJvbHMNCiAgICAgICAgICAgICAgICAgIGNvbnN0IHJlbW92ZUNvbnRyb2wgPSBjb250cm9scy5maWx0ZXIoZSA9PiBlICE9PSBtYWluU2VsZWN0KQ0KICAgICAgICAgICAgICAgICAgdGhpcy5yZW1vdmVDaGlsZENvbnRyb2wobWFpblNlbENvbnRhaW5lciwgcmVtb3ZlQ29udHJvbCkNCiAgICAgICAgICAgICAgICAgIHRoaXMuYWRkQ2hpbGRDb250cm9sKFttYWluU2VsZWN0XSkNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgaWYgKHRoaXMuZ3JvdXBoYW5kbGVyID09PSAnZ3JvdXBkcmFnJykgew0KICAgICAgICAgICAgICAgICAgZm9yIChsZXQgayA9IDA7IGsgPCB0aGlzLnNlbGVjdGVkR3JvdXAubGVuZ3RoOyBrKyspIHsNCiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuc2VsZWN0ZWRHcm91cFtrXS5zdGFydHNXaXRoKCdncm91cCcpKSB7DQogICAgICAgICAgICAgICAgICAgICAgdGhpcy5jcmVhdGVHcm91cCh0aGlzLnNlbGVjdGVkR3JvdXBba10pDQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICB9DQoNCiAgICAgICAgICAgICAgICBpZiAodGhpcy5ncm91cGhhbmRsZXIgPT09ICdncm91cGRyYWcnKSB7DQogICAgICAgICAgICAgICAgICBpZiAodGhpcy5ncm91cGhhbmRsZXIgPT09ICdncm91cGRyYWcnICYmIHRoaXMuc2VsZWN0ZWRDb250YWluZXIgIT09IHRoaXMuY29udGFpbmVySWQpIHsNCiAgICAgICAgICAgICAgICAgICAgRXZlbnRCdXMuJGVtaXQoJ2dldENsaWVudFZhbHVlJywgJ2RpZmZlcmVudCcsIGNvbnRhaW5lclgsIGNvbnRhaW5lclksIGV2ZW50LCB0aGlzLmNvbnRhaW5lcklkLCB0ZW1wRXZlbnQpDQogICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICBjb25zdCBzZWxlY3RlZCA9IHRoaXMuc2VsZWN0ZWRDb250cm9sc1t0aGlzLnVzZXJGb3JtSWRdLnNlbGVjdGVkDQogICAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZWRTZWxlY3QodGhpcy5nZXRDb250YWluZXJMaXN0KHNlbGVjdGVkWzBdKSwgc2VsZWN0ZWQpDQogICAgICAgICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlZFNlbGVjdCh0aGlzLmdldENvbnRhaW5lckxpc3QodGhpcy5zZWxlY3RlZFNlbGVjdFswXSksIHRoaXMuc2VsZWN0ZWRDb250cm9sc1t0aGlzLnVzZXJGb3JtSWRdLnNlbGVjdGVkKQ0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKQ0KICAgICAgICAgICAgICBkb2N1bWVudC5vbm1vdXNldXAoZXZlbnQpDQogICAgICAgICAgICB9DQogICAgICAgICAgfQ0KICAgICAgICB9DQogICAgICB9IGVsc2Ugew0KICAgICAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKQ0KICAgICAgICBkb2N1bWVudC5vbm1vdXNldXAoZXZlbnQpDQogICAgICB9DQogICAgfQ0KICB9DQoNCiAgLyoqDQogICAqIEBkZXNjcmlwdGlvbiBzdHlsZSBvYmplY3QgdG8gZHluYW1pY2FsbHkgY2hhbmdpbmcgdGhlIHN0eWxlcyBvZiAgdGhlIGNvbnRleHRNZW51IGNvbXBvbmVudCBiYXNlZCBvbiBwcm9wQ29udHJvbERhdGENCiAgICogQGZ1bmN0aW9uIHN0eWxlT2JqZWN0DQogICAqDQogICAqLw0KICBnZXQgZmlsdGVyU2VsZWN0ZWQgKCkgew0KICAgIGNvbnN0IHJlc3VsdCA9DQogICAgICB0aGlzLmN1cnJlbnRTZWxlY3RlZEdyb3VwID09PSAnJw0KICAgICAgICA/IHRoaXMuc2VsZWN0ZWRDb250cm9sc1t0aGlzLnVzZXJGb3JtSWRdLnNlbGVjdGVkLmZpbHRlcigoSWQpID0+IHsNCiAgICAgICAgICBpZiAodHlwZW9mIElkID09PSAnc3RyaW5nJykgew0KICAgICAgICAgICAgcmV0dXJuIElkLnN0YXJ0c1dpdGgoJ2dyb3VwJykNCiAgICAgICAgICB9DQogICAgICAgIH0pDQogICAgICAgIDogW3RoaXMuY3VycmVudFNlbGVjdGVkR3JvdXBdDQogICAgcmV0dXJuIHJlc3VsdA0KICB9DQogIGNyZWF0ZUdyb3VwIChncm91cElkOiBzdHJpbmcpIHsNCiAgICB0aGlzLmdyb3VwUmVmLmdyb3VwU3R5bGUoZ3JvdXBJZCkNCiAgfQ0KICBtdWxkcmFnQ29udHJvbCAodmFsOiBJRHJhZ1Jlc2l6ZUdyb3VwKSB7DQogICAgdGhpcy5ncm91cFJlZi5oYW5kbGVNb3VzZURvd24odmFsLmV2ZW50LCB2YWwuaGFuZGxlcikNCiAgfQ0KICBkcmFnQ29udHJvbCAoZXZlbnQ6IE1vdXNlRXZlbnQpIHsNCiAgICB0aGlzLmdyb3VwUmVmLmhhbmRsZU1vdXNlRG93bihldmVudCwgJ2RyYWcnKQ0KICB9DQogIC8qKg0KICAgKiBAZGVzY3JpcHRpb24gc3R5bGUgb2JqZWN0IHRvIGR5bmFtaWNhbGx5IGNoYW5naW5nIHRoZSBzdHlsZXMgb2YgIHRoZSBkYXJnLXNlbGN0b3IgY29tcG9uZW50IGJhc2VkIG9uIHByb3BDb250cm9sRGF0YQ0KICAgKiBAZnVuY3Rpb24gZHJhZ1NlbGVjdG9yU3R5bGUNCiAgICoNCiAgICovDQogIGdldCBkcmFnU2VsZWN0b3JTdHlsZSAoKSB7DQogICAgY29uc3QgY29udHJvbFByb3AgPSB0aGlzLnByb3BDb250cm9sRGF0YS5wcm9wZXJ0aWVzDQogICAgY29uc3QgdHlwZSA9IHRoaXMucHJvcENvbnRyb2xEYXRhLnR5cGUNCiAgICBjb25zdCBwaCA9IHR5cGUgJiYgdHlwZSA9PT0gJ1BhZ2UnID8gdGhpcy5oZWlnaHQhIDogdGhpcy5wcm9wQ29udHJvbERhdGEucHJvcGVydGllcy5IZWlnaHQhDQogICAgY29uc3QgcHcgPSB0eXBlICYmIHR5cGUgPT09ICdQYWdlJyA/IHRoaXMud2lkdGghIDogdGhpcy5wcm9wQ29udHJvbERhdGEucHJvcGVydGllcy5XaWR0aCENCiAgICBjb25zdCBzaCA9IHRoaXMucHJvcENvbnRyb2xEYXRhLnByb3BlcnRpZXMuU2Nyb2xsSGVpZ2h0IQ0KICAgIGNvbnN0IHN3ID0gdGhpcy5wcm9wQ29udHJvbERhdGEucHJvcGVydGllcy5TY3JvbGxXaWR0aCENCiAgICBsZXQgYmFja2dyb3VuZFN0eWxlID0ge30NCiAgICBpZiAoY29udHJvbFByb3AuUGljdHVyZSAhPT0gJycgJiYgY29udHJvbFByb3AuU2Nyb2xsQmFycyEgPiAwKSB7DQogICAgICBiYWNrZ3JvdW5kU3R5bGUgPSB7fQ0KICAgIH0gZWxzZSB7DQogICAgICBiYWNrZ3JvdW5kU3R5bGUgPSB7DQogICAgICAgIGJhY2tncm91bmRJbWFnZTogdGhpcy5nZXRTYW1wbGVEb3RQYXR0ZXJuLmJhY2tncm91bmRJbWFnZSwNCiAgICAgICAgYmFja2dyb3VuZFNpemU6IHRoaXMuZ2V0U2FtcGxlRG90UGF0dGVybi5iYWNrZ3JvdW5kU2l6ZSwNCiAgICAgICAgYmFja2dyb3VuZFJlcGVhdDogJ3JlcGVhdCcsDQogICAgICAgIGJhY2tncm91bmRQb3NpdGlvbjogdGhpcy5nZXRTYW1wbGVEb3RQYXR0ZXJuLmJhY2tncm91bmRQb3NpdGlvbg0KICAgICAgfQ0KICAgIH0NCiAgICByZXR1cm4gew0KICAgICAgLi4uYmFja2dyb3VuZFN0eWxlLA0KICAgICAgaGVpZ2h0OiAnMTAwJScsDQogICAgICB3aWR0aDogJzEwMCUnLA0KICAgICAgcG9zaXRpb246ICdhYnNvbHV0ZScsDQogICAgICBjdXJzb3I6IHR5cGUgJiYgdHlwZSA9PT0gJ1BhZ2UnID8gJ2RlZmF1bHQgIWltcG9ydGFudCcNCiAgICAgICAgOiB0aGlzLnByb3BDb250cm9sRGF0YS5wcm9wZXJ0aWVzLk1vdXNlUG9pbnRlciAhPT0gMCB8fA0KICAgICAgICB0aGlzLnByb3BDb250cm9sRGF0YS5wcm9wZXJ0aWVzLk1vdXNlSWNvbiAhPT0gJycNCiAgICAgICAgICA/IGAke3RoaXMubW91c2VDdXJzb3JEYXRhfSAhaW1wb3J0YW50YA0KICAgICAgICAgIDogJ2RlZmF1bHQgIWltcG9ydGFudCcNCiAgICB9DQogIH0NCg0KICAvKioNCiAgICogQGRlc2NyaXB0aW9uIHByb3BDb250cm9sRGF0YSBpcyBhYnN0cmFjdCBjbGFzcyBwcm92aWRpbmcgaW1wbGVtZW50YXRpb24gaW4gRkRDb250YWluZXIgYnkgcGFzc2luZw0KICAgKiB1c2VyRm9ybUlkIGFuZCBjb250cm9sSWQgd2hpY2ggaXMgdGFrZW4gYXMgcHJvcHMgZnJvbSBwYXJlbnQgQ29tcG9uZW50DQogICAqIEBmdW5jdGlvbiBwcm9wQ29udHJvbERhdGENCiAgICoNCiAgICovDQogIGdldCBwcm9wQ29udHJvbERhdGEgKCk6IGNvbnRyb2xEYXRhIHsNCiAgICByZXR1cm4gdGhpcy51c2VyZm9ybURhdGFbdGhpcy51c2VyRm9ybUlkXVt0aGlzLmNvbnRyb2xJZF0NCiAgfQ0KDQogIGdldCBnZXREcmFnU2VsZWN0b3IgKCkgew0KICAgIGNvbnNvbGUubG9nKCd0aGlzLmlzRWRpdE1vZGUnLCB0aGlzLmlzRWRpdE1vZGUpDQogICAgY29uc29sZS5sb2coJ3NsZWVjdGVkICcsIHRoaXMuc2VsZWN0ZWRDb250cm9sc1t0aGlzLnVzZXJGb3JtSWRdLnNlbGVjdGVkLmxlbmd0aCkNCiAgICBpZiAodGhpcy5pc0VkaXRNb2RlID09PSBmYWxzZSAmJiB0aGlzLnNlbGVjdGVkQ29udHJvbHNbdGhpcy51c2VyRm9ybUlkXS5zZWxlY3RlZC5sZW5ndGggPiAxKSB7DQogICAgICByZXR1cm4gJ2RyYWdTZWxlY3RvcicNCiAgICB9IGVsc2Ugew0KICAgICAgcmV0dXJuICcnDQogICAgfQ0KICB9DQoNCiAgLyoqDQogICAqIEBkZXNjcmlwdGlvbiBUbyBkaXNwbGF5IGNvbnRleHRtZW51IG9mIGNvbnRyb2wNCiAgICogQGZ1bmN0aW9uIG9wZW5Db250ZXh0TWVudQ0KICAgKiBAcGFyYW0gZSBpdCBpcyB0eXBlIG9mIG1vdXNlRXZlbnQNCiAgICogQHBhcmFtIHBhcmVudElEIGlzIHRoZSBVc2VyRm9ybUlkIGluIHdoaWNoIHRoZSBjb250cm9sIHJlc2lkZXMNCiAgICogQHBhcmFtIGNvbnRyb2xJZCBpcyB0aGUgc2VsZWN0ZWQgY29udHJvbCBvZiB3aGljaCBjb250ZXh0IGhhcyB0byBiZSBkaXNwbGF5ZWQNCiAgICovDQogIG9wZW5Db250ZXh0TWVudSAoZTogTW91c2VFdmVudCwgcGFyZW50SUQ6IHN0cmluZywgY29udHJvbElEOiBzdHJpbmcsIHR5cGU6IHN0cmluZywgbW9kZTogYm9vbGVhbikgew0KICAgIEV2ZW50QnVzLiRlbWl0KCdjb250ZXh0TWVudURpc3BsYXknLCBldmVudCwgcGFyZW50SUQsIGNvbnRyb2xJRCwgdHlwZSwgbW9kZSkNCiAgfQ0KICBjcmVhdGVkICgpIHsNCiAgICBFdmVudEJ1cy4kb24oJ2hhbmRsZU5hbWUnLCAoaGFuZGxlcjogc3RyaW5nKSA9PiB7DQogICAgICB0aGlzLmhhbmRsZXIgPSBoYW5kbGVyDQogICAgfSkNCiAgICBFdmVudEJ1cy4kb24oJ2dyb3VwRHJhZycsIChoYW5kbGVyOiBzdHJpbmcpID0+IHsNCiAgICAgIHRoaXMuZ3JvdXBoYW5kbGVyID0gaGFuZGxlcg0KICAgIH0pDQogICAgRXZlbnRCdXMuJG9uKCdjcmVhdGVHcm91cCcsIChncm91cElkOiBzdHJpbmcpID0+IHsNCiAgICAgIHRoaXMuY3JlYXRlR3JvdXAoZ3JvdXBJZCkNCiAgICB9KQ0KICB9DQogIC8vIGRlc3Ryb3llZCAoKSB7DQogIC8vICAgRXZlbnRCdXMuJG9mZignaGFuZGxlTmFtZScpDQogIC8vICAgRXZlbnRCdXMuJG9mZignZ3JvdXBEcmFnJykNCiAgLy8gfQ0KICBAV2F0Y2goJ3NlbGVjdGVkQ29udHJvbHMnLCB7IGRlZXA6IHRydWUgfSkNCiAgdXBkYXRlR3JvdXBTdHlsZSAoKSB7DQogICAgaWYgKHRoaXMuc2VsZWN0ZWRDb250YWluZXIgPT09IHRoaXMuY29udGFpbmVySWQpIHsNCiAgICAgIEV2ZW50QnVzLiRlbWl0KCdncm91cEFycmF5JywgdGhpcy5ncm91cFJlZi5kaXZTdHlsZUFycmF5KQ0KICAgICAgdGhpcy5ncm91cFN0eWxlQXJyYXkgPSBbLi4udGhpcy5ncm91cFJlZi5kaXZTdHlsZUFycmF5XQ0KICAgIH0NCiAgfQ0KfQ0K"},{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAuCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"index.vue","sourceRoot":"src/FormDesigner/components/organisms/FDContainer","sourcesContent":["<template>\r\n  <div @mouseup=\"onMouseUp\">\r\n    <drag-selector\r\n      ref=\"dragSelector\"\r\n      :style=\"dragSelectorStyle\"\r\n      :class=\"getDragSelector\"\r\n    >\r\n      <GroupControl\r\n        :containerId=\"containerId\"\r\n        :userFormId=\"userFormId\"\r\n        ref=\"groupRef\"\r\n        class=\"group\"\r\n        :controlRef=\"$refs\"\r\n        :currentSelectedGroup=\"filterSelected\"\r\n        @openMenu=\"(e, parentID, controlID, type) => openContextMenu(e, parentID, controlID, type)\"\r\n      />\r\n      <div\r\n        v-for=\"control in propControlData.controls\"\r\n        :key=\"control\"\r\n        class=\"resize\"\r\n      >\r\n        <ResizeControl\r\n          ref=\"resizeControl\"\r\n          :name=\"control\"\r\n          :controlId=\"control\"\r\n          :containerId=\"controlId\"\r\n          :userFormId=\"userFormId\"\r\n          :currentSelectedGroup.sync=\"currentSelectedGroup\"\r\n          @createGroup=\"createGroup\"\r\n          @dragControl=\"dragControl\"\r\n          @muldragControl=\"muldragControl\"\r\n        >\r\n        </ResizeControl>\r\n      </div>\r\n    </drag-selector>\r\n  </div>\r\n</template>\r\n\r\n<script lang=\"ts\">\r\nimport { Component, Emit, Prop, Vue, Ref, Watch } from 'vue-property-decorator'\r\nimport { State, Action } from 'vuex-class'\r\nimport ResizeControl from '@/FormDesigner/components/organisms/FDResizeControl/index.vue'\r\nimport ContextMenu from '@/FormDesigner/components/atoms/FDContextMenu/index.vue'\r\nimport { controlContextMenu } from '@/FormDesigner/models/controlContextMenuData'\r\nimport { userformContextMenu } from '../../../models/userformContextMenuData'\r\nimport GroupControl from '@/FormDesigner/components/organisms/FDGroupControl/index.vue'\r\nimport {\r\n  IsetChildControls,\r\n  IaddChildControls,\r\n  IselectControl,\r\n  IupdateControl,\r\n  IupdateGroup,\r\n  IupdateControlExtraData\r\n} from '@/storeModules/fd/actions'\r\nimport { EventBus } from '../../../event-bus'\r\nimport FDCommonMethod from '@/api/abstract/FormDesigner/FDCommonMethod'\r\n@Component({\r\n  name: 'Container',\r\n  components: {\r\n    ContextMenu,\r\n    GroupControl,\r\n    ResizeControl\r\n  }\r\n})\r\nexport default class Container extends FDCommonMethod {\r\n  $el!: HTMLDivElement;\r\n  currentSelectedGroup: string = '';\r\n\r\n  @Prop({ required: true, type: String }) public controlId!: string;\r\n  @Prop({ required: true, type: String }) userFormId!: string;\r\n  @Prop({ required: true, type: String }) containerId!: string;\r\n  @Prop() mouseCursorData: string;\r\n  @Prop() getSampleDotPattern: { backgroundImage: string; backgroundSize: string; backgroundPosition: string }\r\n\r\n  @State((state) => state.fd.selectedControls)\r\n  selectedControls!: fdState['selectedControls'];\r\n  @State((state) => state.fd.userformData) userformData!: userformData;\r\n  @State((state) => state.fd.groupedControls)\r\n  groupedControls!: fdState['groupedControls'];\r\n\r\n  @Action('fd/updateGroup') updateGroup!: (payload: IupdateGroup) => void;\r\n  @Action('fd/updateControlExtraData') updateControlExtraData!: (payload: IupdateControlExtraData) => void;\r\n  @Action('fd/updateControl') updateControl!: (payload: IupdateControl) => void;\r\n  @Action('fd/setChildControls') setChildControls!: (\r\n    payload: IsetChildControls\r\n  ) => void;\r\n  @Action('fd/addChildControls') addChildControls!: (\r\n    payload: IaddChildControls\r\n  ) => void;\r\n  @Action('fd/selectControl') selectControl!: (payload: IselectControl) => void;\r\n\r\n  @Prop() isEditMode: boolean;\r\n  @Prop() width: number\r\n  @Prop() height: number\r\n\r\n  @Ref('groupRef') readonly groupRef!: GroupControl;\r\n  @Ref('refContextMenu') readonly refContextMenu!: ContextMenu;\r\n  @Ref('dragSelector') readonly dragSelector: dragselector;\r\n  @Ref('contextmenu') readonly contextmenu: HTMLDivElement;\r\n\r\n  controlContextMenu: Array<IcontextMenu> = controlContextMenu;\r\n  userformContextMenu: Array<IcontextMenu> = userformContextMenu;\r\n  handler: string = '';\r\n  grouphandler: string = '';\r\n  mainSelectData: controlData\r\n  containerPosition: IMousePosition = { clientX: 0, clientY: 0, movementX: 0, movementY: 0 }\r\n  selectedGroup: string[] = []\r\n  groupStyleArray: Array<IGroupStyle> = []\r\n\r\n  /**\r\n   * @description To get the selected container  from controls are dragged\r\n   * @function selectedContainer\r\n   */\r\n  get selectedContainer () {\r\n    return [...this.selectedControls[this.userFormId].container][0]\r\n  }\r\n\r\n  /**\r\n   * @description To get the selected controls to be dropped\r\n   * @function selectedSelect\r\n   */\r\n  get selectedSelect () {\r\n    if (this.grouphandler === 'groupdrag') {\r\n      const selectedSelect = []\r\n      for (let k = 0; k < this.selectedGroup.length; k++) {\r\n        if (this.selectedGroup[k].startsWith('group')) {\r\n          for (const i in this.userformData[this.userFormId]) {\r\n            if (!i.startsWith('ID_USERFORM')) {\r\n              const userdata = this.userformData[this.userFormId]\r\n              if (userdata[i].properties.GroupID === this.selectedGroup[k]) {\r\n                selectedSelect.push(i)\r\n              }\r\n            }\r\n          }\r\n        } else {\r\n          selectedSelect.push(this.selectedGroup[k])\r\n        }\r\n      }\r\n      return selectedSelect\r\n    } else {\r\n      return this.selectedControls[this.userFormId].selected\r\n    }\r\n  }\r\n\r\n  /**\r\n   * @description To get the controls to be removed from the  selected container\r\n   * @function fromContainerControls\r\n   */\r\n  get fromContainerControls () {\r\n    const fromContainerControls = [...this.userformData[this.userFormId][this.selectedContainer].controls]\r\n    for (let i = 0; i < this.selectedSelect.length; i++) {\r\n      let tragetId: undefined | string = this.selectedSelect[i]\r\n      let targetIndex = fromContainerControls.findIndex((id) => id === tragetId)\r\n      if (targetIndex !== -1) {\r\n        fromContainerControls.splice(targetIndex, 1)\r\n      }\r\n    }\r\n    return fromContainerControls\r\n  }\r\n\r\n  /**\r\n   * @description To remove chilControls of selected Container\r\n   * @function removeChildControl\r\n   * @param selectedSelect  - control array to be deleted\r\n   */\r\n  removeChildControl (id: string, controls: string[]) {\r\n    const userData = this.userformData[this.userFormId]\r\n    const beforeControls = userData[id].controls\r\n    const deleteControls = beforeControls.filter(x => !controls.includes(x))\r\n    for (const key of deleteControls) {\r\n      this.deleteZIndex(key)\r\n      this.deleteTabIndex(key)\r\n    }\r\n\r\n    this.setChildControls({\r\n      userFormId: this.userFormId,\r\n      containerId: id,\r\n      targetControls: controls\r\n    })\r\n  }\r\n\r\n  /**\r\n   * @description To add chilControls of selected Container\r\n   * @function addChildControl\r\n   * @param selectedSelect  - control array to be added\r\n   */\r\n  addChildControl (selectedSelect: string[]) {\r\n    const userData = this.userformData[this.userFormId]\r\n    for (const control of selectedSelect) {\r\n      if (!userData[this.containerId].controls.includes(control)) {\r\n        this.addChildControls({\r\n          userFormId: this.userFormId,\r\n          containerId: this.containerId,\r\n          targetControls: selectedSelect\r\n        })\r\n      }\r\n    }\r\n\r\n    for (const id of selectedSelect) {\r\n      this.updateTabIndexValue(id)\r\n      this.updateZIndexValue(id)\r\n    }\r\n  }\r\n\r\n  /**\r\n   * @description To update Properties of Control\r\n   * @function updateControlProp\r\n   * @param id  - selcted controlId\r\n   * @param propName  -  selected control property Name\r\n   * @param propName  -  selected control property Value\r\n   */\r\n  updateControlProp (id: string, propName: keyof controlProperties, propValue: number| string) {\r\n    this.updateControl({\r\n      userFormId: this.userFormId,\r\n      controlId: id,\r\n      propertyName: propName,\r\n      value: propValue\r\n    })\r\n  }\r\n\r\n  /**\r\n   * @description To update the selectedControls in main data\r\n   * @function updatedSelect\r\n   * @param updatedSelect  - selcted ContainerId\r\n   * @param selArry  - selcted controlList\r\n   */\r\n  updatedSelect (conatiner: string[], selArry: string[]) {\r\n    this.selectControl({\r\n      userFormId: this.userFormId,\r\n      select: {\r\n        container: conatiner,\r\n        selected: selArry\r\n      }\r\n    })\r\n  }\r\n\r\n  /**\r\n   * @description If control inside the group is selected dropped into other container\r\n   * @function updateGroupControl\r\n   * @param mainSelectGroup  - selected group\r\n   */\r\n  updateGroupControl (mainSelectGroup: string) {\r\n    const presenetControl: string[] = []\r\n    if (mainSelectGroup && mainSelectGroup !== '') {\r\n      for (let control in this.userformData[this.userFormId]) {\r\n        const controlGroupId = this.userformData[this.userFormId][control].properties.GroupID!\r\n        if (controlGroupId && controlGroupId === mainSelectGroup) {\r\n          presenetControl.push(control)\r\n        }\r\n      }\r\n    }\r\n    if (presenetControl.length === 1) {\r\n      const groupArray: string[] = [...this.groupedControls[this.userFormId]!.groupArray!]\r\n      const index = groupArray.findIndex((val) => val === mainSelectGroup)\r\n      groupArray.splice(index, 1)\r\n      this.updateGroup({\r\n        userFormId: this.userFormId,\r\n        groupArray: groupArray\r\n      })\r\n      this.updateControlProp(presenetControl[0], 'GroupID', '')\r\n    }\r\n  }\r\n  /**\r\n   * @description to drag and drop the control and group into respective container\r\n   * @function onMouseUp\r\n   * @param event  - it is of type MouseEvent\r\n   * @event mouseup\r\n   */\r\n  onMouseUp (event: MouseEvent) {\r\n    if (document.onmousemove && document.onmouseup && (this.handler === 'drag' || this.handler === 'frameDrag' || this.grouphandler === 'groupdrag')) {\r\n      const userData = this.userformData[this.userFormId]\r\n      const containerType = userData[this.containerId].type === 'Page' && userData[this.getContainerList(this.containerId)[0]].properties.Value === -1\r\n      if (!containerType) {\r\n        let moveValueX: number = 0\r\n        let moveValueY: number = 0\r\n        let mainSelect: string = ''\r\n        let parentConatiner = ''\r\n        let count = 0\r\n        let tempEvent = {}\r\n        this.selectedGroup = this.selectedControls[this.userFormId].selected\r\n        if (this.grouphandler === 'groupdrag') {\r\n          EventBus.$emit(\r\n            'getGroupMoveValue',\r\n            (offsetX: number, offsetY: number, id: string, tempEventObj: MouseEvent) => {\r\n              console.log(tempEventObj)\r\n              moveValueX = offsetX\r\n              moveValueY = offsetY\r\n              tempEvent = Object.keys(tempEventObj).length === 0 ? tempEvent : tempEventObj\r\n            }\r\n          )\r\n          mainSelect = this.getSelectedControlsDatas![0]\r\n        } else if (this.handler === 'drag') {\r\n          EventBus.$emit(\r\n            'getMoveValue',\r\n            (offsetX: number, offsetY: number, id: string) => {\r\n              moveValueX = offsetX\r\n              moveValueY = offsetY\r\n              mainSelect = id\r\n            }\r\n          )\r\n        } else if (this.handler === 'frameDrag') {\r\n          EventBus.$emit(\r\n            'getMoveValue',\r\n            (offsetX: number, offsetY: number, id: string, parentControl: string) => {\r\n              moveValueX = offsetX\r\n              moveValueY = offsetY\r\n              mainSelect = id\r\n              parentConatiner = parentControl\r\n            }\r\n          )\r\n        }\r\n        if (mainSelect && !this.getSelectedControlsDatas!.includes(this.containerId)) {\r\n          count = count + 1\r\n          let frameCondition: boolean = false\r\n          if (this.handler === 'frameDrag') {\r\n            const isChild = this.getChildControl(mainSelect).includes(this.containerId) || this.containerId === mainSelect\r\n            frameCondition = (isChild === false && parentConatiner === this.containerId) ||\r\n          (isChild === false && this.selectedControls[this.userFormId].selected.includes(mainSelect)) ||\r\n          (isChild === false && count === 1)\r\n          }\r\n          if ((this.handler === 'frameDrag' && frameCondition) || this.handler === 'drag' || this.grouphandler === 'groupdrag') {\r\n            const currentControlsData = this.userformData[this.userFormId]\r\n            const mainSelectData = currentControlsData[mainSelect]\r\n            const mainSelectX = mainSelectData.properties.Left\r\n            const mainSelectY = mainSelectData.properties.Top\r\n            const containerX = event.clientX - this.$el.getClientRects()[0].x\r\n            const containerY = event.clientY - this.$el.getClientRects()[0].y\r\n            const mainSelectGroup: string = mainSelectData.properties.GroupID!\r\n            const selectedSelect = this.handler === 'frameDrag' ? (this.selectedSelect.includes(mainSelect) ? this.selectedSelect : [mainSelect]) : this.selectedSelect\r\n            if (typeof mainSelectX === 'number' && typeof mainSelectY === 'number') {\r\n              if ((this.handler === 'frameDrag' || this.handler === 'drag')) {\r\n                selectedSelect.forEach((id) => {\r\n                  const targetData = currentControlsData[id].properties\r\n                  const targetLeft = targetData.Left\r\n                  const targetTop = targetData.Top\r\n                  if (typeof targetTop === 'number' && typeof targetLeft === 'number') {\r\n                    this.updateControlProp(id, 'Left', containerX + targetLeft - mainSelectX - moveValueX)\r\n                    this.updateControlProp(id, 'Top', containerY + targetTop - mainSelectY - moveValueY)\r\n                    if (this.handler === 'drag') {\r\n                      if (mainSelectGroup !== '' && this.selectedContainer !== this.containerId) {\r\n                        this.updateControlProp(id, 'GroupID', '')\r\n                        this.updateGroupControl(mainSelectGroup)\r\n                      }\r\n                    }\r\n                  }\r\n                })\r\n              } else if (this.grouphandler === 'groupdrag' && this.selectedContainer === this.containerId) {\r\n                EventBus.$emit('getClientValue', 'same')\r\n              }\r\n            }\r\n            if (this.handler === 'frameDrag' && this.userformData[this.userFormId][this.containerId].controls.includes(mainSelect)) {\r\n              event.stopPropagation()\r\n              document.onmouseup(event)\r\n            } else {\r\n              if (this.selectedContainer !== this.containerId) {\r\n                const mainSelContainer = this.getContainerList(mainSelect)[0]\r\n                if (this.selectedControls[this.userFormId].selected.includes(mainSelect) || this.grouphandler === 'groupdrag') {\r\n                  this.removeChildControl(this.selectedContainer, this.fromContainerControls)\r\n                  this.addChildControl(selectedSelect)\r\n                } else {\r\n                  const controls = this.userformData[this.userFormId][mainSelContainer].controls\r\n                  const removeControl = controls.filter(e => e !== mainSelect)\r\n                  this.removeChildControl(mainSelContainer, removeControl)\r\n                  this.addChildControl([mainSelect])\r\n                }\r\n                if (this.grouphandler === 'groupdrag') {\r\n                  for (let k = 0; k < this.selectedGroup.length; k++) {\r\n                    if (this.selectedGroup[k].startsWith('group')) {\r\n                      this.createGroup(this.selectedGroup[k])\r\n                    }\r\n                  }\r\n                }\r\n\r\n                if (this.grouphandler === 'groupdrag') {\r\n                  if (this.grouphandler === 'groupdrag' && this.selectedContainer !== this.containerId) {\r\n                    EventBus.$emit('getClientValue', 'different', containerX, containerY, event, this.containerId, tempEvent)\r\n                  }\r\n                  const selected = this.selectedControls[this.userFormId].selected\r\n                  this.updatedSelect(this.getContainerList(selected[0]), selected)\r\n                } else {\r\n                  this.updatedSelect(this.getContainerList(this.selectedSelect[0]), this.selectedControls[this.userFormId].selected)\r\n                }\r\n              }\r\n              event.stopPropagation()\r\n              document.onmouseup(event)\r\n            }\r\n          }\r\n        }\r\n      } else {\r\n        event.stopPropagation()\r\n        document.onmouseup(event)\r\n      }\r\n    }\r\n  }\r\n\r\n  /**\r\n   * @description style object to dynamically changing the styles of  the contextMenu component based on propControlData\r\n   * @function styleObject\r\n   *\r\n   */\r\n  get filterSelected () {\r\n    const result =\r\n      this.currentSelectedGroup === ''\r\n        ? this.selectedControls[this.userFormId].selected.filter((Id) => {\r\n          if (typeof Id === 'string') {\r\n            return Id.startsWith('group')\r\n          }\r\n        })\r\n        : [this.currentSelectedGroup]\r\n    return result\r\n  }\r\n  createGroup (groupId: string) {\r\n    this.groupRef.groupStyle(groupId)\r\n  }\r\n  muldragControl (val: IDragResizeGroup) {\r\n    this.groupRef.handleMouseDown(val.event, val.handler)\r\n  }\r\n  dragControl (event: MouseEvent) {\r\n    this.groupRef.handleMouseDown(event, 'drag')\r\n  }\r\n  /**\r\n   * @description style object to dynamically changing the styles of  the darg-selctor component based on propControlData\r\n   * @function dragSelectorStyle\r\n   *\r\n   */\r\n  get dragSelectorStyle () {\r\n    const controlProp = this.propControlData.properties\r\n    const type = this.propControlData.type\r\n    const ph = type && type === 'Page' ? this.height! : this.propControlData.properties.Height!\r\n    const pw = type && type === 'Page' ? this.width! : this.propControlData.properties.Width!\r\n    const sh = this.propControlData.properties.ScrollHeight!\r\n    const sw = this.propControlData.properties.ScrollWidth!\r\n    let backgroundStyle = {}\r\n    if (controlProp.Picture !== '' && controlProp.ScrollBars! > 0) {\r\n      backgroundStyle = {}\r\n    } else {\r\n      backgroundStyle = {\r\n        backgroundImage: this.getSampleDotPattern.backgroundImage,\r\n        backgroundSize: this.getSampleDotPattern.backgroundSize,\r\n        backgroundRepeat: 'repeat',\r\n        backgroundPosition: this.getSampleDotPattern.backgroundPosition\r\n      }\r\n    }\r\n    return {\r\n      ...backgroundStyle,\r\n      height: '100%',\r\n      width: '100%',\r\n      position: 'absolute',\r\n      cursor: type && type === 'Page' ? 'default !important'\r\n        : this.propControlData.properties.MousePointer !== 0 ||\r\n        this.propControlData.properties.MouseIcon !== ''\r\n          ? `${this.mouseCursorData} !important`\r\n          : 'default !important'\r\n    }\r\n  }\r\n\r\n  /**\r\n   * @description propControlData is abstract class providing implementation in FDContainer by passing\r\n   * userFormId and controlId which is taken as props from parent Component\r\n   * @function propControlData\r\n   *\r\n   */\r\n  get propControlData (): controlData {\r\n    return this.userformData[this.userFormId][this.controlId]\r\n  }\r\n\r\n  get getDragSelector () {\r\n    console.log('this.isEditMode', this.isEditMode)\r\n    console.log('sleected ', this.selectedControls[this.userFormId].selected.length)\r\n    if (this.isEditMode === false && this.selectedControls[this.userFormId].selected.length > 1) {\r\n      return 'dragSelector'\r\n    } else {\r\n      return ''\r\n    }\r\n  }\r\n\r\n  /**\r\n   * @description To display contextmenu of control\r\n   * @function openContextMenu\r\n   * @param e it is type of mouseEvent\r\n   * @param parentID is the UserFormId in which the control resides\r\n   * @param controlId is the selected control of which context has to be displayed\r\n   */\r\n  openContextMenu (e: MouseEvent, parentID: string, controlID: string, type: string, mode: boolean) {\r\n    EventBus.$emit('contextMenuDisplay', event, parentID, controlID, type, mode)\r\n  }\r\n  created () {\r\n    EventBus.$on('handleName', (handler: string) => {\r\n      this.handler = handler\r\n    })\r\n    EventBus.$on('groupDrag', (handler: string) => {\r\n      this.grouphandler = handler\r\n    })\r\n    EventBus.$on('createGroup', (groupId: string) => {\r\n      this.createGroup(groupId)\r\n    })\r\n  }\r\n  // destroyed () {\r\n  //   EventBus.$off('handleName')\r\n  //   EventBus.$off('groupDrag')\r\n  // }\r\n  @Watch('selectedControls', { deep: true })\r\n  updateGroupStyle () {\r\n    if (this.selectedContainer === this.containerId) {\r\n      EventBus.$emit('groupArray', this.groupRef.divStyleArray)\r\n      this.groupStyleArray = [...this.groupRef.divStyleArray]\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n:focus {\r\n  outline: none;\r\n}\r\n.dragSelector {\r\n  visibility: hidden;\r\n}\r\n.dragSelector > .resize {\r\n  visibility: visible;\r\n}\r\n.dragSelector > .group {\r\n  visibility: visible;\r\n}\r\n</style>\r\n"]}]}